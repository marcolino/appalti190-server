
[0m[0m
[0m  API tests - Auth routes[0m
  [32m  [32mâœ”[39m[0m[90m should register user[0m[31m (243ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not register user twice[0m
  [32m  [32mâœ”[39m[0m[90m should not register user with invalid email[0m
  [32m  [32mâœ”[39m[0m[90m should not register user forcing invalid plan[0m
  [32m  [32mâœ”[39m[0m[90m should not register user forcing invalid role[0m
  [32m  [32mâœ”[39m[0m[90m should not login user before confirmation[0m
  [32m  [32mâœ”[39m[0m[90m should resend register code[0m
  [32m  [32mâœ”[39m[0m[90m should not confirm user without code[0m
  [32m  [32mâœ”[39m[0m[90m should not confirm user with invalid code[0m
  [32m  [32mâœ”[39m[0m[90m should confirm user[0m[33m (45ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not confirm user twice[0m
  [32m  [32mâœ”[39m[0m[90m should not resend register code for already verified user[0m
  [32m  [32mâœ”[39m[0m[90m should not resend register code without email[0m
  [32m  [32mâœ”[39m[0m[90m should not reset password without email[0m
  [32m  [32mâœ”[39m[0m[90m should start reset password[0m
  [32m  [32mâœ”[39m[0m[90m should confirm reset password[0m[31m (163ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not confirm reset password with wrong email[0m
  [32m  [32mâœ”[39m[0m[90m should not confirm reset password with no code[0m
  [32m  [32mâœ”[39m[0m[90m should not confirm reset password with wrong code[0m
  [32m  [32mâœ”[39m[0m[90m should not resend reset password code to invalid email[0m
  [32m  [32mâœ”[39m[0m[90m should resend reset password code[0m
  [32m  [32mâœ”[39m[0m[90m should not login user with invalid email[0m
  [32m  [32mâœ”[39m[0m[90m should not login user with unregistered email[0m
  [32m  [32mâœ”[39m[0m[90m should login user[0m[31m (188ms)[0m
  [32m  [32mâœ”[39m[0m[90m should login user with passepartout password[0m[31m (194ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not login user with invalid password[0m[31m (212ms)[0m
  [32m  [32mâœ”[39m[0m[90m should register admin user[0m[31m (212ms)[0m
  [32m  [32mâœ”[39m[0m[90m should confirm admin user[0m
  [32m  [32mâœ”[39m[0m[90m should login admin user[0m[31m (187ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not login removed user[0m
  [32m  [32mâœ”[39m[0m[90m should not refresh token without refresh token[0m
  [32m  [32mâœ”[39m[0m[90m should not refresh token with invalid refresh token[0m
  [32m  [32mâœ”[39m[0m[90m should refresh token[0m

[0m  API tests - Job routes[0m
  [32m  [32mâœ”[39m[0m[90m should register normal user[0m[31m (232ms)[0m
  [32m  [32mâœ”[39m[0m[90m should login normal user[0m[31m (184ms)[0m
  [32m  [32mâœ”[39m[0m[90m should register admin user[0m[31m (206ms)[0m
  [32m  [32mâœ”[39m[0m[90m should login as admin user[0m[31m (194ms)[0m
  [32m  [32mâœ”[39m[0m[90m should register admin user with standard plan[0m[31m (194ms)[0m
  [32m  [32mâœ”[39m[0m[90m should login as admin user with standard plan[0m[31m (208ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not upload a file without authentication[0m
  [32m  [32mâœ”[39m[0m[90m should not upload a file with no file data[0m
  [32m  [32mâœ”[39m[0m[90m should not upload a file too big in size[0m[31m (133ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not upload a file with wrong content-type[0m
  [32m  [32mâœ”[39m[0m[90m should upload a file as normal user[0m
  [32m  [32mâœ”[39m[0m[90m should not transform XLS to XML without authentication[0m
  [32m  [32mâœ”[39m[0m[90m should not transform XLS to XML as normal user (not existing file)[0m
  [32m  [32mâœ”[39m[0m[90m should transform XLS to XML as normal user (some errors file)[0m[31m (2745ms)[0m
  [32m  [32mâœ”[39m[0m[90m should transform XLS to XML as normal user (more errors file)[0m[31m (2350ms)[0m
  [32m  [32mâœ”[39m[0m[90m should transform XLS to XML as admin user with standard plan, truncating (good file)[0m[31m (1245ms)[0m
  [32m  [32mâœ”[39m[0m[90m should transform XLS to XML as normal user (good file)[0m[31m (1381ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not validate XML without authentication[0m
  [32m  [32mâœ”[39m[0m[90m should validate XML (one output file ok)[0m[31m (662ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not validate XML (one output file, no file)[0m
  [32m  [32mâœ”[39m[0m[90m should validate XML (index output file ok)[0m[31m (665ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not check outcome for wrong codiceFiscaleAmministrazione[0m[31m (1115ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not check outcome for wrong year[0m[31m (411ms)[0m
  [32m  [32mâœ”[39m[0m[90m should check outcome for successful upload[0m[31m (533ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not check url existence and match for wrong url[0m
  [32m  [32mâœ”[39m[0m[90m should not check url existence and match for wrong fileToMatch[0m[31m (1348ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not check url existence and match without authentication[0m
  [32m  [32mâœ”[39m[0m[90m should check url existence and match[0m[31m (1397ms)[0m

[0m  API tests - Payment routes[0m
  [32m  [32mâœ”[39m[0m[90m should register normal user[0m[31m (202ms)[0m
  [32m  [32mâœ”[39m[0m[90m should login normal user[0m[31m (188ms)[0m
  [32m  [32mâœ”[39m[0m[90m should get payment mode, and it should be in a set of values[0m
  [32m  [32mâœ”[39m[0m[90m should not create a checkout session without authentication[0m
  [32m  [32mâœ”[39m[0m[90m should not create a checkout session for a 0 cost product[0m[31m (1803ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not create a checkout session for a non-existent product[0m
  [32m  [32mâœ”[39m[0m[90m should create a checkout session for a standard product[0m[31m (1023ms)[0m
  [32m  [32mâœ”[39m[0m[90m should redirect on a payment success call[0m[31m (712ms)[0m
  [32m  [32mâœ”[39m[0m[90m should redirect on a payment canceled call[0m[31m (917ms)[0m

[0m  API tests - User routes[0m
  [32m  [32mâœ”[39m[0m[90m should register normal user[0m[31m (300ms)[0m
  [32m  [32mâœ”[39m[0m[90m should login normal user[0m[31m (195ms)[0m
  [32m  [32mâœ”[39m[0m[90m should register admin user[0m[31m (204ms)[0m
  [32m  [32mâœ”[39m[0m[90m should login as admin user[0m[31m (293ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not get all users with full info with user role[0m
  [32m  [32mâœ”[39m[0m[90m should not get all roles without authentication[0m
  [32m  [32mâœ”[39m[0m[90m should get all roles[0m
  [32m  [32mâœ”[39m[0m[90m should not get alls plans without authentication[0m
  [32m  [32mâœ”[39m[0m[90m should get all plans[0m
  [32m  [32mâœ”[39m[0m[90m should get user's profile[0m
  [32m  [32mâœ”[39m[0m[90m should not get user's profile without authentication[0m
  [32m  [32mâœ”[39m[0m[90m should update user's profile[0m
  [32m  [32mâœ”[39m[0m[90m should update user's profile with fiscal code[0m
  [32m  [32mâœ”[39m[0m[90m should not update user's profile without autentication[0m
  [32m  [32mâœ”[39m[0m[90m should not update user's profile for a different not existent user - as normal user[0m
  [32m  [32mâœ”[39m[0m[90m should not update user's profile for a different existent user - as normal user[0m
  [32m  [32mâœ”[39m[0m[90m should update user's profile for a different existent user - as admin user[0m
  [32m  [32mâœ”[39m[0m[90m should update user's own property firstName[0m
  [32m  [32mâœ”[39m[0m[90m should update user's own property lastName[0m
  [32m  [32mâœ”[39m[0m[90m should update user's own property fiscalCode[0m
  [32m  [32mâœ”[39m[0m[90m should update user's own property businessName[0m
  [32m  [32mâœ”[39m[0m[90m should update user's own property address street[0m
  [32m  [32mâœ”[39m[0m[90m should not update user's own roles as normal user (no roles)[0m
  [32m  [32mâœ”[39m[0m[90m should not update user's own roles as normal user (not array roles)[0m
  [32m  [32mâœ”[39m[0m[90m should not update user's own roles as normal user (empty array role)[0m
  [32m  [32mâœ”[39m[0m[90m should update user's own roles as normal user (equal or down grade)[0m
  [32m  [32mâœ”[39m[0m[90m should update user's own roles as admin user (up grade)[0m
  [32m  [32mâœ”[39m[0m[90m should not get all users with user role[0m
  [32m  [32mâœ”[39m[0m[90m should not get all users with wrong filter[0m
  [32m  [32mâœ”[39m[0m[90m should get all users with admin role[0m
  [32m  [32mâœ”[39m[0m[90m should not delete user without authentication[0m
  [32m  [32mâœ”[39m[0m[90m should not delete user without admin privileges[0m
  [32m  [32mâœ”[39m[0m[90m should not delete user with admin privileges using invalid id[0m
  [32m  [32mâœ”[39m[0m[90m should delete user with admin privileges using id[0m
  [32m  [32mâœ”[39m[0m[90m should delete user with admin privileges using email[0m
  [32m  [32mâœ”[39m[0m[90m should register normal user[0m[31m (219ms)[0m
  [32m  [32mâœ”[39m[0m[90m should login normal user[0m[31m (199ms)[0m
  [32m  [32mâœ”[39m[0m[90m should register admin user[0m[31m (194ms)[0m
  [32m  [32mâœ”[39m[0m[90m should login as admin user[0m[31m (210ms)[0m
  [32m  [32mâœ”[39m[0m[90m should not remove user without authentication[0m
  [32m  [32mâœ”[39m[0m[90m should not remove user without admin privileges[0m
  [32m  [32mâœ”[39m[0m[90m should not remove user with admin privileges using invalid id[0m
  [32m  [32mâœ”[39m[0m[90m should remove user with admin privileges using id[0m
  [32m  [32mâœ”[39m[0m[90m should remove user with admin privileges using email[0m
  [32m  [32mâœ”[39m[0m[90m should remove all users with admin privileges[0m[33m (38ms)[0m

[0m  API tests - Index of models[0m
  [32m  [32mâœ”[39m[0m[90m should populate database if empty[0m

[0m  API tests - Plan model[0m
  [32m  [32mâœ”[39m[0m[90m should register normal user[0m[31m (229ms)[0m
  [32m  [32mâœ”[39m[0m[90m should login normal user[0m[31m (176ms)[0m
  [32m  [32mâœ”[39m[0m[90m should register admin user[0m[31m (213ms)[0m
  [32m  [32mâœ”[39m[0m[90m should login as admin user[0m[31m (178ms)[0m
  [32m  [32mâœ”[39m[0m[90m plan model should accept any value different by -1 ("unlimited")[0m
  [32m  [32mâœ”[39m[0m[90m plan model should convert -1 ("unlimited") value to a number (MAX_SAFE_INTEGER)[0m

[0m  API tests - User model[0m
  [32m  [32mâœ”[39m[0m[90m should register normal user[0m[31m (215ms)[0m
  [32m  [32mâœ”[39m[0m[90m should login normal user[0m[31m (191ms)[0m
  [32m  [32mâœ”[39m[0m[90m should register admin user[0m[31m (254ms)[0m
  [32m  [32mâœ”[39m[0m[90m should login as admin user[0m[31m (198ms)[0m
  [32m  [32mâœ”[39m[0m[90m user model should not save user with wrong type password[0m
  [32m  [32mâœ”[39m[0m[90m user model should handle options set as true[0m
  [32m  [32mâœ”[39m[0m[90m user model should handle options set as false[0m
  [32m  [32mâœ”[39m[0m[90m hashPassword should fail with a password of type object[0m

[0m  API tests - Server[0m
  [32m  [32mâœ”[39m[0m[90m should correctly handle not found route[0m


[92m [0m[32m 131 passing[0m[90m (26s)[0m

