{"version":3,"sources":["config.js","assets/icons/LogoMain.png","assets/icons/Network.on.svg","assets/icons/Network.off.svg","components/IconCustom.js","components/IconGravatar.js","components/ImageCustom.js","components/Header.js","libs/I18n.js","components/Routes.js","components/Footer.js","components/Loader.js","hooks/useAxiosLoader.js","components/CookieBanner.js","themes/default.js","components/App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js","services/API.js","i18n.js","services/TokenService.js","libs/EventBus.js","libs/Misc.js","components/Toast.js","services/AuthService.js","providers/OnlineStatusProvider.js","libs/Validation.js"],"names":["module","exports","companyName","companyHomeSiteName","companyHomeSiteUrl","companyOwner","companyOwnerFiscalCode","companyOwnerStreetAddress","companyOwnerCity","companyOwnerProvince","companyOwnerZipCode","companyOwnerPhone","companyOwnerEmail","appName","appTitle","appSiteUrl","appTermsValidityStartDate","display","api","version","endpoint","development","production","headers","backendType","languages","supported","icon","fallback","ui","userCanForceTabChange","footerHeight","extraSmallWatershed","mobileDesktopWatershed","federatedSigninProviders","oauthRedirectSignInLocal","oauthRedirectSignInPublic","oauthRedirectSignOutLocal","oauthRedirectSignOutPublic","debugAwsAmplify","indexedDb","name","objectStoresMeta","store","storeConfig","keyPath","autoIncrement","storeSchema","keypath","options","unique","data","templateDownloadName","templateDownloadLink","IconCustom","props","IconLogoMain","IconNetworkOn","IconNetworkOff","src","style","width","size","height","alt","defaultProps","React","memo","IconGravatar","classes","makeStyles","theme","customAvatarIcon","useStyles","email","className","ImageCustom","root","offset","mixins","toolbar","header","fontSize","backgroundColor","palette","color","paddingRight","spacing","paddingLeft","logo","marginTop","marginRight","menuLink","textDecoration","menuLabel","headerLabel","title","flexGrow","fontWeight","justifyContent","drawerContainer","menuItem","borderBottom","paddingTop","paddingBottom","menuPadding","padding","lineHeight","Header","history","useHistory","t","useTranslation","location","useLocation","useState","undefined","currentUser","setCurrentUser","useEffect","user","AuthService","getCurrentUser","EventBus","on","onLogIn","onLogOut","remove","setResponsiveness","window","innerWidth","config","setState","prevState","view","addEventListener","removeEventListener","logout","drawerOpen","userMenuIsOpen","state","handleDrawerClose","anchorUserMenuEl","setAnchorUserMenuEl","Boolean","handleUserMenuClose","mainItems","label","href","showInDesktopMode","userItems","isAdmin","unshift","AppBar","elevation","position","Toolbar","variant","IconButton","edge","onClick","Drawer","anchor","open","onClose","map","Link","key","component","RouterLink","to","MenuItem","Grid","container","alignItems","filter","item","event","currentTarget","profileImage","borderRadius","includes","pathname","Button","push","Menu","id","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuListProps","getCurrentLanguage","i18n","browserLanguages","supportedLanguages","Object","keys","resources","commonLanguages","language","browserLanguage","split","pop","Home","lazy","SignUp","SignIn","SignOut","Profile","ForgotPassword","Notifications","NotFound","TermsOfUse","Legal","AdminPanel","Routes","styles","content","path","exact","render","doc","opacity","zIndex","transition","footer","fontStyle","Footer","off","setLanguage","languageIcon","setLanguageIcon","isAuthLocation","Container","Typography","packageJson","Date","getFullYear","lang","changeLanguage","document","documentElement","setAttribute","isOnline","fill","how","Loader","counter","setCounter","inc","useCallback","dec","interceptors","useMemo","request","response","error","Promise","reject","reqInterceptor","instance","use","resInterceptor","eject","useAxiosLoader","loading","CookieBanner","onScroll","e","target","scrollTop","now","date","setFullYear","toUTCString","cookie","buttonText","fontFamily","background","buttonStyle","float","expires","acceptOnScroll","createTheme","typography","overrides","MuiTabs","lightGreen","indicator","MuiTab","OLDMuiTab","lightBlue","MuiInputBase","input","transitionDelay","transitionProperty","primary","light","main","dark","contrastText","secondary","grey","amber","socialButtons","facebook","google","App","ThemeProvider","OnlineStatusProvider","CssBaseline","contentsContainer","minHeight","contentsWrap","body","flexDirection","bottom","Contents","useContext","OnlineStatusContext","isLocalhost","hostname","match","broadcastChannel","BroadcastChannel","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","postMessage","level","message","onUpdate","onSuccess","catch","onPerfEntry","getElementById","ReactDOM","Toast","Function","getCLS","getFID","getFCP","getLCP","getTTFB","URL","process","origin","fetch","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","console","log","serviceWorkerRegistration","toast","axios","create","baseURL","cfg","token","TokenService","getLocalAccessToken","res","err","a","originalConfig","url","_retry","post","refreshToken","getLocalRefreshToken","rs","accessToken","updateLocalAccessToken","dispatch","en","translation","it","fr","LanguageDetector","initReactI18next","init","fallbackLng","keySeparator","nsSeparator","interpolation","escapeValue","detection","i18nLogout","localStorage","removeItem","JSON","parse","getItem","set","value","setItem","stringify","getUser","setUser","removeUser","getJob","job","setJob","removeJob","eventBus","callback","detail","dispatchEvent","CustomEvent","errorMessage","toString","capitalize","string","charAt","toUpperCase","slice","isEmptyObject","obj","length","constructor","encodeEmail","encodedEmail","i","charNum","curChar","createElement","dangerouslySetInnerHTML","__html","ToastContainer","injectStyle","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","bodyClassName","signup","password","firstName","lastName","address","signupConfirm","code","signin","forgotPassword","resetPasswordConfirm","resendSignUpCode","resendResetPasswordCode","createContext","onLine","onlineStatus","setOnlineStatus","Provider","children","roles","validateEmail","test","String","toLowerCase","validatePassword"],"mappings":"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","file":"static/js/main.02190c6b.chunk.js","sourcesContent":["module.exports = {\n  companyName: \"AR Sistemi\",\n  companyHomeSiteName: \"arsistemi.it\",\n  companyHomeSiteUrl: \"https://www.arsistemi.it\",\n  companyOwner: \"Antonio Rossi & Marco Solari\",\n  companyOwnerFiscalCode: \"SLRMRC61M31L219Y\",\n  companyOwnerStreetAddress: \"Strada di Reaglie, 18\",\n  companyOwnerCity: \"Torino\",\n  companyOwnerProvince: \"TO\",\n  companyOwnerZipCode: \"10132\",\n  companyOwnerPhone: \"+39 333 6480983\",\n  companyOwnerEmail: \"marcosolari@gmail.com\",\n  appName: \"appalti190\",\n  appTitle: \"Appalti190\",\n  appSiteUrl: \"appalti190.arsistemi.it\",\n  appTermsValidityStartDate: \"01-01-2022\",\n  display: \"standalone\", // for manifest\n  api: {\n    version: \"1\", // semver syntax\n    endpoint: {\n      development: \"http://localhost:5000/api\",\n      production: \"https://appalti190.herokuapp.com/api\",\n    },\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Content-Type-BACKUP\": \"x-www-form-urlencoded\",\n    },\n    //redirect: \"follow\",\n    backendType: \"NodeJsExpress\", // NodeJsExpress / SpringBoot\n  },\n  languages: {\n    supported: {\n      \"en\": { icon: \"🇬🇧\" },\n      \"it\": { icon: \"🇮🇹\" },\n    },\n    fallback: \"it\",\n  },\n  ui: {\n    userCanForceTabChange: true,\n    // sounds: {\n    //   buttonClick,\n    // },\n  },\n  footerHeight: \"1.5rem\",\n  extraSmallWatershed: 600,\n  mobileDesktopWatershed: 900,\n  federatedSigninProviders: [ // we currently handle \"Facebook\", \"Google\"\n    //\"Facebook\",\n    //\"Google\",\n  ],\n  oauthRedirectSignInLocal: \"http://localhost:5000/\",\n  oauthRedirectSignInPublic: \"https://appalti190.arsistemi.it/\",\n  oauthRedirectSignOutLocal: \"http://localhost:5000/\",\n  oauthRedirectSignOutPublic: \"https://appalti190.arsistemi.it/\",\n  debugAwsAmplify: false,\n  indexedDb: {\n    name: 'sw-background-push-messages',\n    version: 1,\n    objectStoresMeta: [\n      {\n        store: 'messages',\n        storeConfig: { keyPath: 'id', autoIncrement: true },\n        storeSchema: [\n          { name: 'name', keypath: 'name', options: { unique: false } },\n          { name: 'email', keypath: 'email', options: { unique: false } }\n        ]\n      }\n    ]\n  },\n  data: {\n    templateDownloadName: \"Appalti190.ots\",\n    templateDownloadLink: \"/data/Appalti190.ots\",\n  },\n};\n","export default __webpack_public_path__ + \"static/media/LogoMain.0711053e.png\";","export default __webpack_public_path__ + \"static/media/Network.on.122066d2.svg\";","export default __webpack_public_path__ + \"static/media/Network.off.aeab2383.svg\";","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport IconLogoMain from \"../assets/icons/LogoMain.png\";\nimport IconNetworkOn from \"../assets/icons/Network.on.svg\";\nimport IconNetworkOff from \"../assets/icons/Network.off.svg\";\n\n\n\nfunction IconCustom(props) {\n  let icon = null;\n  switch (props.name) {\n    case \"LogoMain\": icon = IconLogoMain; break;\n    case \"Network.on\": icon = IconNetworkOn; break;\n    case \"Network.off\": icon = IconNetworkOff; break;\n    default: icon = \"#\"; break;\n  }\n\n  return (\n    <img src={icon} style={props.style} width={props.size} height={props.size} alt={`${props.alt ? props.alt : props.name}`} {...props} />\n  );    \n};\n\nIconCustom.propTypes = {\n  name: PropTypes.oneOf([\n    \"LogoMain\",\n    \"Network.on\",\n    \"Network.off\",\n  ]).isRequired,\n  size: PropTypes.number,\n  style: PropTypes.object,\n  alt: PropTypes.string,\n};\n\nIconCustom.defaultProps = {\n  size: 32,\n  style: {},\n  alt: \"icon\",\n};\n\n\nexport default React.memo(IconCustom);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport Gravatar from \"react-gravatar\";\n\n\n\nfunction IconGravatar(props) {\n  const styles = theme => ({\n    customAvatarIcon: {\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  return (\n    <Gravatar\n      email={props.email}\n      size={props.size}\n      style={props.style}\n      className={props.className ? props.className : classes.customAvatarIcon}\n    />\n  );    \n};\n\nIconGravatar.propTypes = {\n  email: PropTypes.string.isRequired,\n  size: PropTypes.number,\n  style: PropTypes.object,\n  className: PropTypes.string,\n};\n\nIconGravatar.defaultProps = {\n  size: 32,\n};\n\nexport default React.memo(IconGravatar);","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\n\n\nfunction ImageCustom(props) {\n  return (\n    <img src={props.src} style={props.style} width={props.size} height={props.size} alt={props.alt} {...props} />\n  );    \n};\n\nImageCustom.propTypes = {\n  src: PropTypes.string.isRequired,\n  size: PropTypes.number,\n  style: PropTypes.object,\n  alt: PropTypes.string,\n};\n\nImageCustom.defaultProps = {\n  size: 32,\n  style: {},\n  alt: \"icon\",\n};\n\nexport default React.memo(ImageCustom);","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Link as RouterLink, useHistory, useLocation } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Link from \"@material-ui/core/Link\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport ContactSupportIcon from '@material-ui/icons/ContactSupport';\n//import ListAltIcon from \"@material-ui/icons/ListAlt\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport SecurityIcon from '@material-ui/icons/Security';\nimport VpnKeyIcon from \"@material-ui/icons/VpnKey\";\nimport AssignmentTurnedInIcon from \"@material-ui/icons/AssignmentTurnedIn\";\nimport IconCustom from \"./IconCustom\";\nimport IconGravatar from \"./IconGravatar\";\nimport ImageCustom from \"./ImageCustom\";\nimport AuthService from \"../services/AuthService\";\n//import { AuthContext } from \"../providers/AuthProvider\";\nimport { isAdmin } from \"../libs/Validation\";\nimport EventBus from \"../libs/EventBus\";\nimport config from \"../config\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    //flexGrow: 1,\n  },\n  offset: theme.mixins.toolbar, // to avoid contents to show behide headr\n  header: {\n    fontSize: \"1.15em\",\n    backgroundColor: theme.palette.header.backgroundColor,\n    color: theme.palette.header.color,\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n  },\n  logo: {\n    marginTop: theme.spacing(0.5),\n    marginRight: theme.spacing(2),\n  },\n  menuLink: {\n    marginRight: theme.spacing(2),\n    textDecoration: \"none\",\n    \"&:hover\": {\n      textDecoration: \"none\",\n    },\n  },\n  menuLabel: {\n    paddingLeft: theme.spacing(1.5),\n  },\n  headerLabel: {\n  },\n  title: {\n    flexGrow: 1,\n    color: \"#222\",\n    fontWeight: 700,\n    fontSize: \"1.5em\",\n  },\n  toolbar: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n  drawerContainer: {\n  },\n  menuItem: {\n    borderBottom: \"1px solid #eaeaea\",\n    paddingLeft: theme.spacing(1.5),\n    paddingRight: theme.spacing(1.5),\n    paddingTop: \"1.5vw\",\n    paddingBottom: \"1.5vw\",\n  },\n  menuPadding: {\n    padding: 0,\n    lineHeight: 0,\n  },\n}));\n\nconst elevation = 3; // header elevation over contents below\n\n\n\nfunction Header() {\n  const classes = useStyles();\n  //const { auth } = useContext(AuthContext);\n  const history = useHistory();\n  const { t } = useTranslation();\n  const location = useLocation();\n  const [currentUser, setCurrentUser] = useState(undefined);\n\n  // handle auth\n  useEffect(() => {\n    const user = AuthService.getCurrentUser();\n    if (user) {\n      setCurrentUser(user);\n      //setShowModeratorBoard(user.roles.includes(\"ROLE_MODERATOR\"));\n      //setShowAdminBoard(user.roles.includes(\"ROLE_ADMIN\"));\n    }\n\n    EventBus.on(\"login\", () => {\n      onLogIn();\n    });\n    EventBus.on(\"logout\", () => {\n      onLogOut();\n    });\n\n    return () => {\n      EventBus.remove(\"logout\");\n    };\n  }, []);\n\n  // handle responsiveness\n  useEffect(() => {\n    const setResponsiveness = () => {\n      return window.innerWidth < config.mobileDesktopWatershed\n        ? setState((prevState) => ({ ...prevState, view: \"mobile\" }))\n        : setState((prevState) => ({ ...prevState, view: \"desktop\" }));\n    };\n    setResponsiveness();\n    window.addEventListener(\"resize\", () => setResponsiveness());\n    return () => {\n      window.removeEventListener(\"resize\", () => setResponsiveness());\n    };\n  }, []);\n\n  const onLogIn = () => {\n    //console.log(\"HEADER LOGIN\");\n    //setShowModeratorBoard(false);\n    //setShowAdminBoard(false);\n    setCurrentUser(AuthService.getCurrentUser());\n  };\n\n  const onLogOut = () => {\n    //console.log(\"HEADER LOGOUT\");\n    AuthService.logout();\n    //setShowModeratorBoard(false);\n    //setShowAdminBoard(false);\n    setCurrentUser(undefined);\n  };\n  \n  const [state, setState] = useState({\n    view: \"mobile\", // mobile / desktop\n    drawerOpen: false,\n    userMenuIsOpen: false,\n  });\n\n  const handleDrawerOpen = () =>\n    setState((prevState) => ({ ...prevState, drawerOpen: true }));\n  const handleDrawerClose = () =>\n    setState((prevState) => ({ ...prevState, drawerOpen: false }));\n\n  const [anchorUserMenuEl, setAnchorUserMenuEl] = React.useState(null);\n  const userMenuIsOpen = Boolean(anchorUserMenuEl);\n\n  const handleUserMenuOpen = (event) => {\n    setAnchorUserMenuEl(event.currentTarget);\n  };\n\n  const handleUserMenuClose = () => {\n    setAnchorUserMenuEl(null);\n  };\n  \n  const handleUserJoin = (event) => {\n    history.push(\"/signin\");\n  };\n\n  const mainItems = [\n    {\n      label: t(\"Home\"),\n      icon: <HomeIcon />,\n      href: \"/\",\n      showInDesktopMode: false,\n    },\n    // {\n    //   label: t(\"Searches\"),\n    //   icon: <SearchIcon />,\n    //   href: \"/searches\",\n    // },\n    // {\n    //   label: t(\"Listings\"),\n    //   icon: <ListAltIcon />,\n    //   href: \"/listings\",\n    // },\n    {\n      label: t(\"Support\"),\n      icon: <ContactSupportIcon />,\n      href: \"/support\",\n    },\n  ];\n\n  // const userItems = auth.user ?\n  const userItems = currentUser ?\n    [\n      {\n        label: t(\"Profile\"),\n        icon: <AccountCircleIcon />,\n        href: \"/profile\",\n      },\n      {\n        label: t(\"Sign out\"),\n        icon: <ExitToAppIcon />,\n        href: \"/signout\",\n      },\n    ] : [\n      {\n        label: t(\"Sign in\"),\n        icon: <VpnKeyIcon />,\n        href: \"/signin\",\n      },\n      {\n        label: t(\"Sign up\"),\n        icon: <AssignmentTurnedInIcon />,\n        href: \"/signup\",\n      },\n    ]\n  ;\n  // if (auth.user && isAdmin(auth.user)) {\n  (currentUser && isAdmin(currentUser)) &&\n    userItems.unshift(\n      {\n        label: t(\"Admin panel\"),\n        icon: <SecurityIcon />,\n        href: \"/admin-panel\",\n      }\n    );\n  //};\n \n  const getMobileMainMenuItems = () => {\n    return mainItems.map(({ label, icon, href }) => (\n      <Link {...{\n        key: label,\n        component: RouterLink,\n        to: href,\n        color: \"inherit\",\n        className: classes.menuLink,\n      }}>\n        <MenuItem\n          key={label}\n          className={classes.menuItem}\n        >\n          <Grid container spacing={1} alignItems=\"center\">\n            {icon}\n            <span className={classes.menuLabel}>{label}</span>\n          </Grid>\n        </MenuItem>\n      </Link>\n    ));\n  };\n\n  const getDesktopMainHeaderItems = () => {\n    return mainItems.filter(item => item.showInDesktopMode !== false).map(({ label, icon, href }) => (\n      <Link {...{\n        key: label,\n        component: RouterLink,\n        to: href,\n        color: \"inherit\",\n        className: classes.menuLink,\n      }}>\n        <span className={classes.headerLabel}>{label}</span>\n      </Link>\n    ));\n  };\n\n  const getUserMenuItems = () => {\n    return userItems.map(({ label, icon, href }) => (\n        <Link {...{\n          key: label,\n          component: RouterLink,\n          to: href,\n          color: \"inherit\",\n          className: classes.menuLink,\n        }}>\n          <MenuItem\n            key={label}\n            className={classes.menuItem}\n          >\n            <Grid container spacing={1} alignItems=\"center\">\n              {icon}\n              <span className={classes.menuLabel}>{label}</span>\n            </Grid>\n          </MenuItem>\n        </Link>\n    ));\n  };\n\n  const showJoinButton = () => {\n    return ![\"/signin\", \"/signup\", \"/signout\"].includes(location.pathname);\n  };\n\n  return (\n    <header>\n      <AppBar className={classes.header} elevation={elevation} position=\"fixed\">\n        <Toolbar variant=\"dense\">\n\n          {/* drawer button */}\n          {state.view === \"mobile\" &&\n            <IconButton {...{ // mobile only\n              edge: \"start\",\n              color: \"inherit\",\n              \"aria-label\": \"menu\",\n              \"aria-haspopup\": \"true\",\n              onClick: handleDrawerOpen,\n            }}>\n              <MenuIcon />\n            </IconButton>\n          }\n\n          {/* drawer menu */}\n          {state.view === \"mobile\" &&\n            <Drawer // mobile only\n              anchor=\"left\"\n              open={state.drawerOpen}\n              onClose={handleDrawerClose}\n              onClick={handleDrawerClose} // to close on click everywhere\n            >\n              <div className={classes.drawerContainer}>{getMobileMainMenuItems()}</div>\n            </Drawer>\n          }\n\n          {/* main brand logo icon */}\n          <RouterLink to=\"/\">\n            <IconCustom name=\"LogoMain\" size={30} className={classes.logo} />\n          </RouterLink>\n\n          {/* main brand logo text */}\n          <div className={classes.title}>\n            {config.appTitle}\n          </div>\n\n          {state.view === \"desktop\" &&\n            <div>\n              {getDesktopMainHeaderItems()}\n            </div>\n          }\n\n          {/* user menu */}\n          <>\n          {currentUser ? \n            <IconButton\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleUserMenuOpen}\n              color=\"inherit\"\n            >\n              {currentUser.profileImage ?\n                <ImageCustom src={/*auth.user.*/currentUser.profileImage} alt=\"user's icon\" width={30} style={{borderRadius: \"50%\"}} />\n              :\n                <IconGravatar\n                  // email={auth.user.email}\n                  email={currentUser.email}\n                  size={30}\n                />\n              }\n            </IconButton>\n          :\n            showJoinButton() ?\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                color=\"secondary\"\n                onClick={handleUserJoin}\n              >\n                {t(\"Join !\")}\n              </Button>\n            :\n              null\n          }\n{/*\n            {auth.user ?\n              <IconButton\n                aria-label=\"account of current user\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleUserMenuOpen}\n                color=\"inherit\"\n              >\n                {auth.user ?\n                  auth.user.profileImage ?\n                    <ImageCustom src={auth.user.profileImage} alt=\"user's icon\" width={30} style={{borderRadius: \"50%\"}} />\n                  :\n                    <IconGravatar\n                      email={auth.user.email}\n                      size={30}\n                    />\n                :\n                  <AccountCircleIcon />\n                }\n              </IconButton>\n            :\n              (auth.user === false) && // if auth.user is false, we show the \"Join\" button;\n                                       // otherwise (it's null), we don't kow yet, so do not show anything...\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  color=\"secondary\"\n                  onClick={handleUserJoin}\n                >\n                  {t(\"Join !\")}\n                </Button>\n            }\n*/}\n\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorUserMenuEl}\n              anchorOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n              open={userMenuIsOpen}\n              onClose={handleUserMenuClose}\n              onClick={handleUserMenuClose} // to close on click everywhere\n              keepMounted\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n              MenuListProps={{\n                classes: { padding: classes.menuPadding }\n              }}\n            >\n              {getUserMenuItems()}\n            </Menu>\n          </>\n        </Toolbar>\n      </AppBar>\n      <div className={classes.offset} />\n    </header>\n  );\n}\n\nexport default React.memo(Header);","import config from \"../config\";\nimport { resources } from \"../i18n\";\n\n/**\n * Find the first language from the browser's language, also primarized (ex.: \"en_US\" => \"en\") if needed,\n * which is among supported languages; if none found, return configured fallback language.\n */\nexport const getCurrentLanguage = (i18n) => {\n  const browserLanguages = i18n.languages;\n  const supportedLanguages = Object.keys(resources);\n  const commonLanguages = browserLanguages.filter(language => supportedLanguages.includes(language));\n  if (commonLanguages) { // found a supported language in browser languages\n    return commonLanguages[0];\n  } else { // not found a supported language in i18n browser languages, look for primary language\n    const browserLanguagesPrimary = browserLanguages.map(browserLanguage => browserLanguage.split(\"_\").pop());\n    const commonLanguages = browserLanguagesPrimary.filter(language => supportedLanguages.includes(language));\n    if (commonLanguages) { // found a supported language in browser primary languages\n      return commonLanguages[0];\n    } else {\n      return config.languages.fallback; // return configured fallback language\n    }\n  }\n}\n","import React, { Suspense, lazy } from \"react\";\nimport { Switch, Route, useLocation } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { getCurrentLanguage } from \"../libs/I18n\";\n\nconst Home = lazy(() => import(\"./Home\"));\nconst SignUp = lazy(() => import(\"./auth/SignUp\")); \nconst SignIn = lazy(() => import(\"./auth/SignIn\"));\nconst SignOut = lazy(() => import(\"./auth/SignOut\"));\nconst Profile = lazy(() => import(\"./auth/Profile\"));\nconst ForgotPassword = lazy(() => import(\"./auth/ForgotPassword\"));\nconst Notifications = lazy(() => import(\"./Notifications\"));\nconst NotFound = lazy(() => import(\"./NotFound\"));\nconst TermsOfUse = [];\n      TermsOfUse[\"en\"] = lazy(() => import(\"./legal/en/TermsOfUse\"));\n      TermsOfUse[\"it\"] = lazy(() => import(\"./legal/it/TermsOfUse\"));\nconst Legal = lazy(() => import(\"./legal/legal\"));\nconst AdminPanel = lazy(() => import(\"./AdminPanel\"));\n\n\n\nfunction Routes() {\n  const location = useLocation();\n  const { i18n } = useTranslation();\n\n/*\n  // check for error parameters in location url\n  useEffect(() => {\n    const search = queryString.parse(location.search);\n    if (search.error) {\n      toast.warning(`Social login did not work, sorry.\\n${search.error}: ${search.error_description}`);\n    }\n  }, [location]);\n*/\n\n  return (\n    <Suspense fallback=\"...\">\n      <div style={styles.content}>\n        <Switch location={location}>\n        <Route path=\"/\" exact component={Home} /> {/* sitemapFrequency={\"weekly\"} sitemapPriority={0.7} */}\n        <Route path=\"/signup\" component={SignUp} /> {/* sitemapFrequency={\"monthly\"} sitemapPriority={0.3} */}\n        <Route path=\"/signin\" component={SignIn} /> {/* sitemapFrequency={\"monthly\"} sitemapPriority={0.3} */}\n        <Route path=\"/profile\" component={Profile} /> {/* sitemapFrequency={\"monthly\"} sitemapPriority={0.3} */}\n        <Route path=\"/signout\" component={SignOut} /> {/* sitemapFrequency={\"monthly\"} sitemapPriority={0.3} */}\n        <Route path=\"/forgot-password\" component={ForgotPassword} /> {/* sitemapFrequency={\"monthly\"} sitemapPriority={0.3} */}\n        <Route path=\"/notifications\" component={Notifications} /> {/* sitemapFrequency={\"monthly\"} sitemapPriority={0.2} */}\n        <Route path=\"/privacy-policy\" render={(props) => <Legal language={getCurrentLanguage(i18n)} doc={\"privacyPolicy\"} /> } />\n        <Route path=\"/terms-of-use\" render={(props) => <Legal language={getCurrentLanguage(i18n)} doc={\"termsOfUse\"} /> } />\n        <Route path=\"/admin-panel\" component={AdminPanel} /> {/* sitemapFrequency={\"yearly\"} sitemapPriority={0} */}\n        <Route path=\"\" component={NotFound} />\n      </Switch>\n      </div>\n    </Suspense>\n  );\n}\n\nconst styles = {};\n\nstyles[\"fade-enter\"] = {\n  opacity: 0,\n  zIndex: 1,\n};\n\nstyles[\"fade-enter\"] = {\n  opacity: 0,\n  transition: \"opacity 250ms ease-in\",\n};\n\nstyles[\"fade-enter-active\"] = {\n  opacity: 1,\n  transition: \"opacity 250ms ease-in\",\n};\n\nexport default React.memo(Routes);\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { useLocation } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Link from \"@material-ui/core/Link\";\nimport i18n from \"i18next\";\nimport IconCustom from \"./IconCustom\";\nimport { isAuthLocation } from \"../libs/Misc\";\nimport { getCurrentLanguage } from \"../libs/I18n\";\nimport config from \"../config\";\nimport packageJson from \"../package.alias.json\";\n\nconst useStyles = makeStyles(theme => ({\n\tfooter: {\n    fontStyle: \"italic\",\n\t},\n}));\n\nfunction Footer(props) {\n  const location = useLocation();\n\tconst classes = useStyles();\n  const { t } = useTranslation();\n\n  const on = t(\"on\"), off = t(\"off\");\n  const [language, setLanguage] = useState(getCurrentLanguage(i18n));\n  const [languageIcon, setLanguageIcon] = useState(config.languages.supported[getCurrentLanguage(i18n)].icon);\n\n  const changeLanguage = () => { // simply toggle en <=> it, just to debug\n    const lang = (language === \"it\" ? \"en\" : \"it\");\n    setLanguageIcon(config.languages.supported[lang].icon);\n    i18n.changeLanguage(lang);\n    document.documentElement.setAttribute(\"lang\", lang);\n    setLanguage(lang);\n  }\n\n  return isAuthLocation(location) ? null : ( // hide footer while in auth screens\n    <Container className={classes.footer}>\n      <Grid container justifyContent=\"center\">\n        <Typography component=\"h6\" variant=\"body2\" color={\"textSecondary\"}>\n          {packageJson.name} {\" \"}\n          {\"v\"}{packageJson.version} {\" ~ \"}\n          {\"©\"} {\" \"} {new Date().getFullYear()}, {\" \"}\n          <Link color=\"inherit\" href={config.companyHomeSiteUrl}>\n            {config.companyName}\n          </Link>\n          <span>&emsp;</span>\n          <span onClick={() => changeLanguage()}>{languageIcon}</span>\n          <span>&emsp;</span>\n          <IconCustom name={`Network.${props.isOnline ? \"on\" : \"off\"}`} fill=\"red\" size={12} alt={t(\"Network connection indicator\")} title={t(\"Network connection is {{how}}\", { how: props.isOnline ? on : off })} />\n        </Typography>\n      </Grid>\n    </Container>\n  );\n}\n\nexport default React.memo(Footer);\n","import { useAxiosLoader } from \"../hooks/useAxiosLoader\";\n\n//export default Loader = () => {\nexport default function Loader() {\n  const [loading] = useAxiosLoader();\n  \n  return (\n    <div>\n      { loading && (\n          <div className={\"loading\"}>\n            <div className={\"loader\"}></div>\n          </div>\n        )\n      }\n    </div>\n  );\n};\n","import { useState, useCallback, useMemo, useEffect } from \"react\";\n//import axios from \"axios\";\n//import instance from \"../middlewares/Interceptors\";\nimport instance from \"../services/API\";\n\n//const instance = axios.create(); // export this and use it in all your components\n\nexport const useAxiosLoader = () => {\n//console.log(\"*** useAxiosLoader\");\n  const [counter, setCounter] = useState(0);\n  const inc = useCallback(() => setCounter(counter => counter + 1), [setCounter]); // add to counter\n  const dec = useCallback(() => setCounter(counter => counter - 1), [setCounter]); // remove from counter\n  \n  const interceptors = useMemo(() => ({\n    /* eslint-disable no-sequences */\n    request: config => (inc(), config),\n    response: response => (dec(), response),\n    error: error => (dec(), Promise.reject(error)),\n  }), [inc, dec]); // create the interceptors\n  \n  useEffect(() => {\n    // add request interceptors\n    const reqInterceptor = instance.interceptors.request.use(interceptors.request, interceptors.error);\n    // add response interceptors\n    const resInterceptor = instance.interceptors.response.use(interceptors.response, interceptors.error);\n    return () => {\n      // remove all intercepts when done\n      instance.interceptors.request.eject(reqInterceptor);\n      instance.interceptors.response.eject(resInterceptor);\n    };\n  }, [interceptors]);\n  \n  return [counter > 0];\n};","import React, { useEffect }  from \"react\";\nimport Link from \"@material-ui/core/Link\";\nimport CookieConsent from \"react-cookie-consent\";\nimport { useTranslation } from \"react-i18next\";\n\n\n\nfunction CookieBanner() {\n  const { t } = useTranslation();\n  const scrollOffsetMin = 100;\n\n  // an alternative to `CookieConsent.dismissOnScroll`, not yet available\n  useEffect(() => {\n    const onScroll = e => {\n      if (e.target.documentElement.scrollTop >= scrollOffsetMin) {\n        const now = new Date(); const date = new Date(now.setFullYear(now.getFullYear() + 1)).toUTCString(); // +1 year from now\n        document.cookie = `CookieConsent=true; expires=${date}; sameSite=Lax`;\n        window.removeEventListener(\"scroll\", onScroll);\n        //accept();\n      }\n    };\n    window.addEventListener(\"scroll\", onScroll);\n    return () => window.removeEventListener(\"scroll\", onScroll);\n  }, []);\n\n  return (\n    <CookieConsent\n      location=\"bottom\"\n      buttonText={t(\"I agree\")}\n      style={{ fontFamily: \"Open Sans\", color:\"#999999\", background: \"#2b373b\", display: \"block\" }}\n      buttonStyle={{ color: \"#4e503b\", fontSize: \"13px\", float: \"right\" }}\n      expires={365}\n      acceptOnScroll={true} // accept on scroll! (is it legal?)\n    >\n      {t(\"We use cookies or similar technologies as specified in the\")} {\" \"}\n        <Link color=\"primary\" href={\"/privacy-policy\"}>\n          {t(\"privacy policy\")}\n        </Link>\n      {\".\"} {\" \"} {t(\"You can consent to the use of such technologies by closing this notice\")}\n      {\",\"} {\" \"} {t(\"or by otherwise continuing interacting with this site.\")}\n    </CookieConsent>\n  );\n}\n\nexport default React.memo(CookieBanner);\n","import { createTheme } from \"@material-ui/core/styles\";\n//import { createMuiTheme } from \"@material-ui/core/styles\";\n//import { unstable_createMuiStrictModeTheme as createMuiTheme } from \"@material-ui/core/styles\"; // TEMPORARY: temporary, to solve material-ui drawer \"findDOMNode is deprecated in StrictModefindDOMNode is deprecated in StrictMode\" warning\n//import blueGrey from \"@material-ui/core/colors/blueGrey\";\nimport lightGreen from \"@material-ui/core/colors/lightGreen\";\nimport lightBlue from \"@material-ui/core/colors/lightBlue\";\nimport grey from \"@material-ui/core/colors/grey\";\nimport amber from \"@material-ui/core/colors/amber\";\n//import { red } from \"@material-ui/core/colors\";\n\nexport default createTheme({\n  typography: {\n    fontFamily: `-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Open Sans', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif`,\n  },\n  overrides: {\n    MuiTabs: {\n      root: {\n        color: lightGreen[700],\n        backgroundColor: lightGreen[50],\n      },\n      indicator: {\n        backgroundColor: lightGreen[600],\n      }\n    },\n    MuiTab: {\n      \"root\": {\n        \"color\": \"black\",\n        \"&$selected\": {\n          \"color\": \"white\",\n          \"backgroundColor\": lightGreen[400],\n        },\n      },\n      // color: \"yellow\",\n      // backgroundColor: \"red\",\n      // selected: {\n      //   backgroundColor: \"red\", //lightGreen[900],\n      //   _color: \"red\",\n      //   \"_&:hover\": {\n      //     backgroundColor: lightGreen[600],\n      //     color: \"red\",\n      //   },\n      // },\n      // root: {\n      //   _backgroundColor: amber[900],\n      //   _color: \"red\",\n      //   \"_&:hover\": {\n      //     backgroundColor: lightBlue[300],\n      //     color: \"red\",\n      //   },\n      // },\n    },\n    OLDMuiTab: {\n      // general overrides for your material tab component here\n      root: {\n        backgroundColor: lightBlue[200],\n        color: lightGreen[400],\n        \"&$selected\": {\n          backgroundColor: lightGreen[400],\n          color: \"red\",\n        },\n      },\n    },\n    MuiInputBase: {\n      input: {\n        \"&:-webkit-autofill\": {\n          transitionDelay: \"9999s\",\n          transitionProperty: \"background-color, color\",\n        },\n      },\n    },\n  },\n  palette: {\n    primary: {\n      light: \"#42c2f5\",\n      main: \"rgba(0,0,0,0.5)\",\n      dark: \"#778899\",\n      //contrastText: \"red\", //\"#fff\"\n      // light: blueGrey[100],\n      // main: blueGrey[200],\n      // dark: blueGrey[300],\n      contrastText: \"white\",\n    },\n    secondary: {\n      light: lightGreen[100],\n      main: lightGreen[300],\n      dark: lightGreen[500],\n    },\n    header: {\n      color: grey[900],\n      backgroundColor: amber[50],\n    },\n    socialButtons: {\n      facebook: {\n        backgroundColor: \"#1877f2\",\n      },\n      google: {\n        backgroundColor: \"#db4437\",\n      },\n    },\n  },\n});\n","import React, { useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { BrowserRouter, useLocation } from \"react-router-dom\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { OnlineStatusProvider, OnlineStatusContext } from \"../providers/OnlineStatusProvider\";\nimport Header from \"./Header\";\nimport Routes from \"./Routes\";\nimport Footer from \"./Footer\";\nimport Loader from \"./Loader\";\nimport CookieBanner from \"./CookieBanner\";\nimport { isAuthLocation } from \"../libs/Misc\";\nimport config from \"../config\";\nimport theme from \"../themes/default\"; // here we choose the theme\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <OnlineStatusProvider>\n        <CssBaseline />\n        <BrowserRouter>\n          <Loader />\n          <Contents />\n          <CookieBanner />\n          {/* <FloatingActionButton/> */}\n        </BrowserRouter>\n        {/* <PushNotifications /> */}\n      </OnlineStatusProvider>\n    </ThemeProvider>\n  );\n}\n\nconst useStyles = makeStyles(theme => ({\n  contentsContainer: {\n    position: \"relative\",\n    minHeight: \"100vh\",\n  },\n  contentsWrap: props => ({\n    paddingBottom: props.footerHeight,\n  }),\n  header: {\n  },\n  body: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"left\",\n    padding: theme.spacing(2),\n  },\n  footer: props => ({\n    position: \"absolute\",\n    bottom: \"0.5rem\",\n    width: \"100%\",\n    height: props.footerHeight,\n  }),\n}));\n\nconst Contents = () => {\n  const location = useLocation();\n  const isOnline = useContext(OnlineStatusContext);\n\tconst classes = useStyles({footerHeight: isAuthLocation(location) ? 0 : config.footerHeight }); // hide footer while in auth screens\n\n  return (\n    <div className={classes.contentsContainer}>\n      <div className={classes.contentsWrap}>\n        <div className={classes.header}>\n          <Header />\n        </div>\n        <div className={classes.body}>\n          <Routes />\n        </div>\n      </div>\n      <div className={classes.footer}>\n        <Footer isOnline={isOnline} />\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\n// set up a broadcast channel to the clients to be able to translate service worker messages\nconst broadcastChannel = new BroadcastChannel(\"sw-i18n-messages\");\n\n// dummy `t` function to persuade i18-next to parse these text messages too\nconst t = (args) => {\n  return args;\n}\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config, t);\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          //broadcastChannel.postMessage({level: \"info\", message:\n          console.log(\n            t(\"This web app is being locally served cache-first by a service \" +\n            \"worker. To learn more, visit https://cra.link/PWA\")\n            );\n          //});\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              broadcastChannel.postMessage({level: \"info\", message:\n                t(\"New content is available and will be used when all \" +\n                \"tabs for this page are closed.\") // See https://cra.link/PWA.\n              });\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              broadcastChannel.postMessage({level: \"info\", message:\n                t(\"Content is cached for offline use.\")\n              });\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      broadcastChannel.postMessage({level: \"error\", message:\n        t(\"Error during service worker registration: {{error}}\", error)\n      });\n    })\n  ;\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      broadcastChannel.postMessage({level: \"info\", message:\n        t(\"No internet connection found. App is running in offline mode.\")\n      });\n    })\n  ;\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        // broadcastChannel.postMessage({level: \"error\", message:\n        //   t(error.message);\n        // });\n        console.error(error.message); // do not bore users with unregister errors\n      });\n  }\n}\n","export default function reportWebVitals(onPerfEntry) {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\nimport { ToastContainer, toast } from \"./components/Toast\";\nimport { i18n } from \"./i18n\";\n\n//console.log(\"app started rendering\");\nconst root = document.getElementById(\"root\");\nReactDOM.render(\n  // <React.StrictMode>\n  <>\n    <App />\n    <ToastContainer />\n  </>,\n  // </React.StrictMode>,\n  root\n);\n/**\n * NOTE:\n * <React.StrictMode> with material-ui v4 causes JS error\n *   `findDOMNode is deprecated in StrictMode. findDOMNode was passed an instance of Transition which is inside StrictMode. Instead, add a ref directly to the element you want to reference.`\n * To avoid it, avoid using <React.StrictMode> here, OR upgrade to material-ui v5\n */\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// function sendToAnalytics(metric) {\n//   const body = JSON.stringify({[metric.name]: metric.value});\n//   (navigator.sendBeacon && navigator.sendBeacon(\"/analytics\", body)) ||\n//     fetch(\"/analytics\", {body, method: \"POST\", keepalive: true});\n// }\n//reportWebVitals(sendToAnalytics);\n//reportWebVitals(console.log);\nreportWebVitals();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\n//serviceWorkerRegistration.unregister();\nserviceWorkerRegistration.register();\n\n// Set up a broadcast channel to localize messages from i18n service worker\nconst channelI18nMessages = new BroadcastChannel(\"sw-i18n-messages\");\nchannelI18nMessages.addEventListener(\"message\", event => {\n  toast[event.data.level](i18n.t(event.data.message));\n});\n\n// Set up a broadcast channel to localize messages from background push messages service worker\nconst channelBackgroundPushMessages = new BroadcastChannel(\"sw-background-push-messages\");\nchannelBackgroundPushMessages.addEventListener(\"message\", event => {\n  //console.log('received event.data:', event.data);\n  toast[event.data.level](i18n.t(event.data.message));\n});\n\n\n\n// // change console.log, to truncate BIG fields\n// (() => {\n//   const consoleOriginal = console.log;\n//   const big = 256;\n//   console.log = function() {\n//     const argumentsCloned = JSON.parse(JSON.stringify(arguments));\n//     const argumentsTruncated = objectTruncateBigValues(argumentsCloned, big);\n//     consoleOriginal.apply(this, argumentsTruncated);\n//   }\n//   function objectTruncateBigValues(obj, big) {\n//     if (typeof obj === \"object\") {\n//       for (const key in obj) {\n//         if (typeof obj[key] === \"object\") {\n//           objectTruncateBigValues(obj[key], big);\n//         } else {\n//           //if (typeof obj[key] === \"string\") { // truncate all string properties\n//           if (key === \"xml\") { // truncate only \"xml\" properties\n//             const val = obj[key].substring(0, big) + \" …\";\n//             obj[key] = val;\n//           }\n//         }\n//       }\n//     }\n//     return obj;\n//   }\n// })();\n","import axios from \"axios\";\nimport TokenService from \"./TokenService\";\nimport EventBus from \"../libs/EventBus\";\nimport { i18n } from \"../i18n\";\nimport config from \"../config\";\n\nconst instance = axios.create({\n  baseURL: config.api.endpoint[(window.location.hostname === \"localhost\") ? \"development\" : \"production\"],\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\ninstance.interceptors.request.use(\n  (cfg) => {\n    const token = TokenService.getLocalAccessToken();\n    if (token) {\n      switch (config.api.backendType) {\n        case \"NodeJsExpress\": // Node.js Express back-end\n          cfg.headers[\"x-access-token\"] = token;\n          break;\n        case \"SpringBoot\": // Spring Boot back-end\n          cfg.headers[\"Authorization\"] = `Bearer ${token}`;\n          break;\n        default:\n          console.error(`Backend type unforeseen: ${config.backendType}, using 'NodeJsExpress'`);\n          cfg.headers[\"x-access-token\"] = token;\n          break;\n      }\n    }\n\n    // add user language to request\n    cfg.headers[\"x-user-language\"] = i18n.language;\n\n    // add accepted version to request\n    cfg.headers[\"accept-version\"] = config.api.version;\n\n    return cfg;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\ninstance.interceptors.response.use(\n  // (res) => {\n  //   return res;\n  // },\n  (res) => {\n    // if (res) console.log(\"RES:\", Object.keys(res));\n    // if (res) console.log(\"RES.REQUEST:\", Object.keys(res.request));\n    // console.log(\"RES.CONFIG:\", Object.keys(res?.config));\n    // console.log(\"RES.CONFIG.DATA:\", Object.keys(res?.config?.data));\n    return res;\n  }, // res,\n  async (err) => {\n    const originalConfig = err.config;\n\n    if (originalConfig.url !== \"/auth/signin\" && err.response) {\n      // a not-signin url, and got error response\n      if (err.response.status === 401 && !originalConfig._retry) {\n        // we got unauthorized error, and we did not retry yet\n        // assuming Access Token was expired\n        originalConfig._retry = true;\n\n        // try to refresh token\n        try {\n          const rs = await instance.post(\"/auth/refreshtoken\", {\n            refreshToken: TokenService.getLocalRefreshToken(),\n          });\n\n          const { accessToken } = rs.data;\n          TokenService.updateLocalAccessToken(accessToken);\n\n          return instance(originalConfig);\n        } catch (error) { // could not refresh token\n          EventBus.dispatch(\"logout\");\n          return Promise.reject(error);\n        }\n      }\n    }\n\n    return Promise.reject(err);\n  }\n);\n\nexport default instance;\n","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport config from \"./config\";\n\n/**\n * All supported languages resources are listed here.\n * When adding a new language, add it here.\n */\nimport { en, fr, it } from \"./locales/index\";\n\nconst resources = {\n  en: { translation: en },\n  it: { translation: it },\n  fr: { translation: fr },\n};\n\ni18n\n  .use(LanguageDetector) // detect language\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n    fallbackLng: [ config.languages.fallback ],\n    keySeparator: false, // we do not use keys in form messages.welcome\n    nsSeparator: false, // do not use namespaces\n    interpolation: {\n      escapeValue: false // react already safes from xss\n    },\n    detection: {\n      //order: [ \"navigator\" ], // only detect from browser\n      //checkWhitelist: true, // only detect languages that are in the whitelist\n    },\n  })\n;\n\nconst i18nLogout = () => {\n  localStorage.removeItem(\"i18nextLng\");\n}\n\nexport { i18n, resources, i18nLogout };","const getLocalRefreshToken = () => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  return user?.refreshToken;\n};\n\nconst getLocalAccessToken = () => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  return user?.accessToken;\n};\n\nconst updateLocalAccessToken = (token) => {\n  let user = JSON.parse(localStorage.getItem(\"user\"));\n  user.accessToken = token;\n  localStorage.setItem(\"user\", JSON.stringify(user));\n};\n\nconst getUser = () => {\n  return JSON.parse(localStorage.getItem(\"user\"));\n};\n\nconst setUser = (user) => {\n  //console.log(\"TokenService setUser:\", JSON.stringify(user));\n  localStorage.setItem(\"user\", JSON.stringify(user));\n};\n\nconst removeUser = () => {\n  localStorage.removeItem(\"user\");\n};\n\nconst getJob = () => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  //console.log(\"TokenService getJob:\", user.job);\n  return user?.job ? user.job : {};\n};\n\nconst setJob = (job) => {\n  //console.log(\"TokenService setting job:\", JobService.sanitizeJob(job));\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  if (user) {\n    user.job = job;\n    localStorage.setItem(\"user\", JSON.stringify(user));\n  }\n};\n\nconst removeJob = () => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  if (user) {\n    delete user.job;\n    localStorage.setItem(\"job\");\n  }\n};\n\n// const getRedirect = () => {\n//   return JSON.parse(localStorage.getItem(\"redirect\"));\n// };\n\n// const setRedirect = (redirect) => {\n//   localStorage.setItem(\"redirect\", JSON.stringify(redirect));\n// };\n\n// const removeRedirect = () => {\n//   localStorage.removeItem(\"redirect\");\n// };\n\nconst get = (key) => {\n  if (key) return JSON.parse(localStorage.getItem(key));\n};\n\nconst set = (key, value) => {\n  if (key && value) localStorage.setItem(key, JSON.stringify(value));\n};\n\nconst remove = (key) => {\n  if (key) localStorage.removeItem(key);\n};\n\nconst TokenService = {\n  get,\n  set,\n  remove,\n  getUser,\n  setUser,\n  removeUser,\n  getJob,\n  setJob,\n  removeJob,\n  getLocalRefreshToken,\n  getLocalAccessToken,\n  updateLocalAccessToken,\n};\n\nexport default TokenService;\n","const eventBus = {\n  on(event, callback) {\n    document.addEventListener(event, (e) => callback(e.detail));\n  },\n  dispatch(event, data) {\n    document.dispatchEvent(new CustomEvent(event, { detail: data }));\n  },\n  remove(event, callback) {\n    document.removeEventListener(event, callback);\n  },\n};\n\nexport default eventBus;\n","import React from \"react\";\n\n/**\n * Try to extrapolate the error description from a generic error object\n */\nexport const errorMessage = error => {\n// console.log(\"errorMessage error.request.data.message:\", error?.request?.data?.message);\n// console.log(\"errorMessage error.response.data.message:\", error?.response?.data?.message);\n// console.log(\"errorMessage error.response.data.message:\", error?.response?.data?.message);\n//console.log(\"errorMessage error.message:\", error?.message);\n//console.log(\"errorMessage error.toString:\", error?.toString());\n  return (\n    (\n      error.request &&\n      error.request.status >= 400 &&\n      error.request.data &&\n      error.request.data.message\n    ) ||\n    (\n      error.response &&\n      error.response.data &&\n      error.response.data.message\n    ) ||\n    error.message ||\n    error.toString()\n  );\n}\n\nexport const capitalize = string => {\n  return string ? string.charAt(0).toUpperCase() + string.slice(1) : \"\";\n};\n\nexport const isEmptyObject = (obj) => {\n  return (\n    obj ? // null and undefined check\n      Object.keys(obj).length === 0 // empty object check\n      && obj.constructor === Object // Object.keys(new Date()).length === 0; so we have to check it is not a Date\n    :\n      true\n  );\n};\n\nexport const findValueInObjectsArrayByProp = (array, keyProp, valProp, value) => {\n  const result = array.find(a => {\n    return a[keyProp] === value;\n  });\n  return ((typeof result === \"object\") && (result !== null)) ? result[valProp] : undefined;\n}\n\nexport const isAuthLocation = (location) => {\n  return (\n    (location.pathname === \"/signup\") ||\n    (location.pathname === \"/signin\") ||\n    (location.pathname === \"/profile\") ||\n    (location.pathname === \"/signout\") ||\n    (location.pathname === \"/forgot-password\")\n  );\n}\n\nexport const isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === \"[::1]\" ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport const encodeEmail = (email) => {\n  var encodedEmail = \"\";\n  \n  if (!email) {\n    return \"\";\n  }\n\n  for (let i = 0; i < email.length; i++) {\n    var charNum = \"000\";\n    var curChar = email.charAt(i);\n    if (curChar === \"A\") {\n      charNum = \"065\";\n    }\n    if (curChar === \"a\") {\n      charNum = \"097\";\n    }\n    if (curChar === \"B\") {\n      charNum = \"066\";\n    }\n    if (curChar === \"b\") {\n      charNum = \"098\";\n    }\n    if (curChar === \"C\") {\n      charNum = \"067\";\n    }\n    if (curChar === \"c\") {\n      charNum = \"099\";\n    }\n    if (curChar === \"D\") {\n      charNum = \"068\";\n    }\n    if (curChar === \"d\") {\n      charNum = \"100\";\n    }\n    if (curChar === \"E\") {\n      charNum = \"069\";\n    }\n    if (curChar === \"e\") {\n      charNum = \"101\";\n    }\n    if (curChar === \"F\") {\n      charNum = \"070\";\n    }\n    if (curChar === \"f\") {\n      charNum = \"102\";\n    }\n    if (curChar === \"G\") {\n      charNum = \"071\";\n    }\n    if (curChar === \"g\") {\n      charNum = \"103\";\n    }\n    if (curChar === \"H\") {\n      charNum = \"072\";\n    }\n    if (curChar === \"h\") {\n      charNum = \"104\";\n    }\n    if (curChar === \"I\") {\n      charNum = \"073\";\n    }\n    if (curChar === \"i\") {\n      charNum = \"105\";\n    }\n    if (curChar === \"J\") {\n      charNum = \"074\";\n    }\n    if (curChar === \"j\") {\n      charNum = \"106\";\n    }\n    if (curChar === \"K\") {\n      charNum = \"075\";\n    }\n    if (curChar === \"k\") {\n      charNum = \"107\";\n    }\n    if (curChar === \"L\") {\n      charNum = \"076\";\n    }\n    if (curChar === \"l\") {\n      charNum = \"108\";\n    }\n    if (curChar === \"M\") {\n      charNum = \"077\";\n    }\n    if (curChar === \"m\") {\n      charNum = \"109\";\n    }\n    if (curChar === \"N\") {\n      charNum = \"078\";\n    }\n    if (curChar === \"n\") {\n      charNum = \"110\";\n    }\n    if (curChar === \"O\") {\n      charNum = \"079\";\n    }\n    if (curChar === \"o\") {\n      charNum = \"111\";\n    }\n    if (curChar === \"P\") {\n      charNum = \"080\";\n    }\n    if (curChar === \"p\") {\n      charNum = \"112\";\n    }\n    if (curChar === \"Q\") {\n      charNum = \"081\";\n    }\n    if (curChar === \"q\") {\n      charNum = \"113\";\n    }\n    if (curChar === \"R\") {\n      charNum = \"082\";\n    }\n    if (curChar === \"r\") {\n      charNum = \"114\";\n    }\n    if (curChar === \"S\") {\n      charNum = \"083\";\n    }\n    if (curChar === \"s\") {\n      charNum = \"115\";\n    }\n    if (curChar === \"T\") {\n      charNum = \"084\";\n    }\n    if (curChar === \"t\") {\n      charNum = \"116\";\n    }\n    if (curChar === \"U\") {\n      charNum = \"085\";\n    }\n    if (curChar === \"u\") {\n      charNum = \"117\";\n    }\n    if (curChar === \"V\") {\n      charNum = \"086\";\n    }\n    if (curChar === \"v\") {\n      charNum = \"118\";\n    }\n    if (curChar === \"W\") {\n      charNum = \"087\";\n    }\n    if (curChar === \"w\") {\n      charNum = \"119\";\n    }\n    if (curChar === \"X\") {\n      charNum = \"088\";\n    }\n    if (curChar === \"x\") {\n      charNum = \"120\";\n    }\n    if (curChar === \"Y\") {\n      charNum = \"089\";\n    }\n    if (curChar === \"y\") {\n      charNum = \"121\";\n    }\n    if (curChar === \"Z\") {\n      charNum = \"090\";\n    }\n    if (curChar === \"z\") {\n      charNum = \"122\";\n    }\n    if (curChar === \"0\") {\n      charNum = \"048\";\n    }\n    if (curChar === \"1\") {\n      charNum = \"049\";\n    }\n    if (curChar === \"2\") {\n      charNum = \"050\";\n    }\n    if (curChar === \"3\") {\n      charNum = \"051\";\n    }\n    if (curChar === \"4\") {\n      charNum = \"052\";\n    }\n    if (curChar === \"5\") {\n      charNum = \"053\";\n    }\n    if (curChar === \"6\") {\n      charNum = \"054\";\n    }\n    if (curChar === \"7\") {\n      charNum = \"055\";\n    }\n    if (curChar === \"8\") {\n      charNum = \"056\";\n    }\n    if (curChar === \"9\") {\n      charNum = \"057\";\n    }\n    if (curChar === \"&\") {\n      charNum = \"038\";\n    }\n    if (curChar === \" \") {\n      charNum = \"032\";\n    }\n    if (curChar === \"_\") {\n      charNum = \"095\";\n    }\n    if (curChar === \"-\") {\n      charNum = \"045\";\n    }\n    if (curChar === \"@\") {\n      charNum = \"064\";\n    }\n    if (curChar === \".\") {\n      charNum = \"046\";\n    }\n    if (charNum === \"000\") {\n      encodedEmail += curChar;\n    } else {\n      encodedEmail += \"&#\" + charNum + \";\";\n    }\n  }\n  return React.createElement(\"span\", { dangerouslySetInnerHTML: { __html: encodedEmail } });\n}\n\n/**\n * Unused\n */\n// export function currentFunctionName() {\n//   const\n//     stack = new Error().stack,\n//     caller = stack.split('\\n')[2].trim().replace(/at\\s*/, \"\").replace(/Object\\./, \"\")\n//   ;\n//   return caller;\n// };\n\n","import React, { useEffect } from \"react\";\nimport { ToastContainer as ToastifyContainer, toast } from \"react-toastify\";\nimport { injectStyle } from \"react-toastify/dist/inject-style\";\n\n\n\nconst ToastContainer = React.memo((props) => {\n  useEffect(() => {\n    injectStyle();\n  }, []);\n\n  return (\n    <ToastifyContainer\n      position=\"bottom-right\"\n      //autoClose={5000}\n      hideProgressBar={true}\n      newestOnTop={false}\n      closeOnClick\n      rtl={false}\n      pauseOnFocusLoss={false}\n      draggable\n      pauseOnHover\n      className=\"toastContainer\"\n      bodyClassName=\"toastBody\"\n      {...props}\n    />\n  );\n});\n\nexport { ToastContainer, toast };\n","//import { RepeatTwoTone } from \"@material-ui/icons\";\nimport api from \"./API\";\nimport { i18nLogout } from \"../i18n\";\nimport TokenService from \"./TokenService\";\n\nconst signup = ({/*username, */email, password, firstName, lastName, address}) => {\n  return api.post(\"/auth/signup\", {\n    //username,\n    email,\n    password,\n    firstName,\n    lastName,\n    address,\n  }).then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst signupConfirm = ({email, code}) => {\n  return api.post(\"/auth/signupConfirm\", {\n    email,\n    code,\n  }).then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst signin = ({/*username,*/email, password}) => {\n  return api.post(\"/auth/signin\", {\n    //username,\n    email,\n    password\n  })\n  .then(\n    response => {\n      if (response.data.accessToken) {\nconsole.log(\"SIGNIN response user:\", response.data);\n        TokenService.setUser(response.data);\n      }\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst forgotPassword = ({email}) => {\n  return api.post(\"/auth/resetPassword/:email\", {\n    email\n  }).then(\n    (response) => {\n      return response.data;\n    },\n    (error) => {\n      return error;\n    }\n  );\n};\n  \nconst resetPasswordConfirm = ({email, password, code}) => {\n  return api.post(\"/auth/resetPasswordConfirm/:email/:password/:code\", {\n    email,\n    password,\n    code\n  }).then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n  \nconst resendSignUpCode = ({email}) => {\n  return api.post(\"/auth/resendSignUpCode\", {\n    email,\n  })\n  .then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst resendResetPasswordCode = ({email}) => {\n  return api.post(\"/auth/resendResetPasswordCode\", {\n    email\n  })\n  .then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n    \nconst logout = () => {\n  TokenService.removeUser();\n  i18nLogout();\n};\n\nconst getCurrentUser = () => {\n  return TokenService.getUser();\n};\n\nconst AuthService = {\n  signup,\n  signupConfirm,\n  signin,\n  forgotPassword,\n  resetPasswordConfirm,\n  resendSignUpCode,\n  resendResetPasswordCode,\n  logout,\n  getCurrentUser,\n};\n\nexport default AuthService;\n","import React, { useState, useEffect, createContext } from \"react\";\n\nconst OnlineStatusContext = createContext(true);\n\nconst OnlineStatusProvider = (props) => {\n  const [onlineStatus, setOnlineStatus] = useState(navigator.onLine);\n\n  useEffect(() => {\n    window.addEventListener(\"offline\", () => setOnlineStatus(false));\n    window.addEventListener(\"online\", () => setOnlineStatus(true));\n    // window.addEventListener(\"offline\", () => { console.log(\"GOING OFFLINE\"); setOnlineStatus(false)});\n    // window.addEventListener(\"online\", () => { console.log(\"GOING ONLINE\"); setOnlineStatus(true)});\n    return () => {\n      window.removeEventListener(\"offline\", () => setOnlineStatus(false));\n      window.removeEventListener(\"online\", () => setOnlineStatus(true));\n    };\n  }, []);\n\n  return (\n    <OnlineStatusContext.Provider value={onlineStatus}>\n      {props.children}\n    </OnlineStatusContext.Provider>\n  );\n};\n\nexport { OnlineStatusProvider, OnlineStatusContext };\n\n// export const useOnlineStatus = () => {\n//   useContext(OnlineStatusContext);\n  \n//   //return useContext(OnlineStatusContext);\n\n//   //const store = useContext(OnlineStatusContext);\n//   //return store;\n// };\n","export const isAdmin = (user) => {\n  //return user.roles.includes(\"admin\");\n  return user.roles.includes(\"ROLE_MODERATOR\")\n};\n\nexport const validateEmail = (email) => {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n};\n\nexport const validatePassword = (password) => {\n  /**\n   * ^\t                The password string will start this way\n   * (?=.*[a-z])\t      The string must contain at least 1 lowercase alphabetical character\n   * (?=.*[A-Z])\t      The string must contain at least 1 uppercase alphabetical character\n   * (?=.*[0-9])\t      The string must contain at least 1 numeric character\n   * (?=.*[!@#$%^&*])\t  The string must contain at least one special character,\n   *                     but we are escaping reserved RegEx characters to avoid conflict\n   * (?=.{8,})\t        The string must be eight characters or longer\n   */\n  const re = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/;\n  return re.test(String(password));\n}\n"],"sourceRoot":""}