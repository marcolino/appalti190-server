"use strict";(self.webpackChunkappalti190_client=self.webpackChunkappalti190_client||[]).push([[541],{6473:function(e,r,n){n.d(r,{OL:function(){return x},NR:function(){return b},yt:function(){return g},Kv:function(){return C},R9:function(){return v}});var o=n(6515),t=n(390),a=n(2420),s=n(7762),i=n(1426),l=n(3383),c=n(3999),d=n(1395),u=n(1846),m=n(3447),p=function(e,r){return"#"+e.replace(/^#/,"").replace(/../g,(function(e){return("0"+Math.min(255,Math.max(0,parseInt(e,16)+r)).toString(16)).substr(-2)}))},f=n(3137),h=n(2559),g=t.memo((function(e){var r=(0,u.Z)((function(e){return{startAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:-15,marginRight:5,paddingLeft:10,paddingRight:10,borderRight:"1px solid #c5c5c5"},endAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:5,marginRight:-15,paddingLeft:10,paddingRight:10,borderLeft:"1px solid #c5c5c5"}}}))();return(0,h.jsx)(s.Z,{id:e.id,type:e.type,value:e.value,required:e.required,autoFocus:e.autoFocus,autoComplete:e.autoComplete.toString(),variant:e.variant,fullWidth:e.fullWidth,label:e.label,size:e.size,margin:e.margin,className:e.className?e.className:r.textField,placeholder:e.placeholder,onChange:function(r){return e.onChange(r.target.value)},disabled:e.disabled,error:!(0,f.Qr)(e.error),InputProps:{startAdornment:e.startAdornmentIcon?(0,h.jsx)(m.Z,{className:e.startAdornmentClass?e.startAdornmentClass:r.startAdornment,position:"start",children:e.startAdornmentIcon}):(0,h.jsx)(h.Fragment,{}),endAdornment:e.endAdornmentIcon?(0,h.jsx)(m.Z,{className:e.endAdornmentClass?e.endAdornmentClass:r.endAdornment,position:"end",children:e.endAdornmentIcon}):(0,h.jsx)(h.Fragment,{}),className:r.input}})}));g.defaultProps={type:"text",required:!1,autoFocus:!1,autoComplete:!1,variant:"outlined",fullWidth:!0,label:"",size:"small",margin:"dense",className:null,placeholder:"",startAdornmentClass:null,endAdornmentClass:null,disabled:!1,error:""};var x=t.memo((function(e){var r=(0,u.Z)((function(e){return function(e){return{button:{margin:e.spacing(1,0,0,0),textTransform:"none",fontSize:"1.3em",color:"white",backgroundColor:e.palette.success.main,"&:hover":{backgroundColor:p(e.palette.success.main,-25)}},buttonSecondary:{margin:e.spacing(1,0,0,0),textTransform:"none",fontSize:"1em !important",color:"white",backgroundColor:e.palette.secondary.dark+" !important","&:hover":{backgroundColor:p(e.palette.secondary.dark,-25)+" !important"}},buttonFederated:{margin:e.spacing(1,0,0,0),justifyContent:"flex-start",paddingLeft:e.spacing(5),fontSize:"1.3em"},buttonFederatedFacebook:{backgroundColor:e.palette.socialButtons.facebook.backgroundColor,"&:hover":{backgroundColor:p(e.palette.socialButtons.facebook.backgroundColor,-25)}},buttonFederatedGoogle:{backgroundColor:e.palette.socialButtons.google.backgroundColor,"&:hover":{backgroundColor:p(e.palette.socialButtons.google.backgroundColor,-25)}}}}(e)}))();return(0,h.jsx)(a.Z,{fullWidth:e.fullWidth,variant:e.variant,color:e.color,size:e.size,className:"".concat(r.button," ").concat(e.social?r.buttonFederated:""," ").concat(e.social?r["buttonFederated"+(0,f.kC)(e.social)]:""," ").concat(r[e.className]),startIcon:e.startIcon,onClick:e.onClick,disabled:e.disabled,children:e.children})}));x.defaultProps={fullWidth:!0,variant:"contained",color:"primary",social:null},t.memo((function(e){var r=(0,u.Z)((function(e){return{disabled:{color:"grey",cursor:"default","&:hover":{textDecoration:"none"}}}}))(),n=e.disabled?r.disabled:"";return(0,h.jsx)(i.Z,{control:(0,h.jsx)(l.Z,{checked:e.checked,onChange:function(r){return e.onChange(r.target.checked)},className:"".concat(e.className," ").concat(n),color:e.color,size:e.size,disabled:e.disabled}),label:(0,h.jsx)(v,{className:"".concat(e.className," ").concat(n),children:e.children})})})).defaultProps={checked:!1,color:"primary",size:"small"};var v=t.memo((function(e){return(0,h.jsx)(d.Z,(0,o.Z)((0,o.Z)({component:e.component,variant:e.variant,color:e.color,align:e.align},e),{},{children:e.children}))}));v.defaultProps={component:"h1",variant:"body2",color:"textPrimary"};var C=t.memo((function(e){var r=(0,u.Z)((function(e){return{normal:{cursor:"pointer"},disabled:{color:"grey",cursor:"default","&:hover":{textDecoration:"none",color:"grey"}}}}))(),n=e.disabled?r.disabled:r.normal;return(0,h.jsx)(c.Z,(0,o.Z)((0,o.Z)({href:e.href,className:"".concat(e.className," ").concat(n),color:e.color},e),{},{children:e.children}))}));C.defaultProps={color:"textPrimary"};var b=t.memo((function(e){var r=(0,u.Z)((function(r){return function(r){return{container:{display:"flex",alignItems:"center",marginTop:r.spacing(e.marginVertical),marginBottom:r.spacing(e.marginVertical)},divider:{width:"100%",borderBottom:"1px solid "+(e.color?e.color:r.palette.primary.dark),paddingLeft:r.spacing(1)},text:{paddingLeft:r.spacing(e.paddingHorizontal),paddingRight:r.spacing(e.paddingHorizontal)}}}(r)}))();return(0,h.jsxs)("div",{className:r.container,children:[(0,h.jsx)("div",{className:r.divider}),e.children&&(0,h.jsx)("span",{className:r.text,children:e.children}),(0,h.jsx)("div",{className:r.divider})]})}));b.defaultProps={marginVertical:1,paddingHorizontal:1}},8541:function(e,r,n){n.r(r);var o=n(4890),t=n(390),a=n(971),s=n(6444),i=n(3721),l=n(1846),c=n(1732),d=n(119),u=n(7530),m=n(8282),p=n(1395),f=n(1411),h=n(2398),g=n(9797),x=n(6826),v=n(6083),C=n(5416),b=n(1855),Z=n(1970),j=n(3137),w=n(8874),y=n(4100),k=n(6473),A=n(5782),N=n(2600),S=n.n(N),P=n(2559),z=(0,l.Z)((function(e){return function(e){return{avatar:{backgroundColor:e.palette.success.main},fieldset:{border:0}}}(e)}));function R(){var e=z(),r=(0,t.useState)(""),n=(0,o.Z)(r,2),l=n[0],N=n[1],R=(0,t.useState)(""),F=(0,o.Z)(R,2),I=F[0],L=F[1],O=(0,t.useState)(""),H=(0,o.Z)(O,2),V=H[0],W=H[1],E=(0,t.useState)({email:null,password:null,passwordConfirmed:null,code:null}),D=(0,o.Z)(E,2),T=D[0],M=D[1],B=(0,t.useState)(!1),q=(0,o.Z)(B,2),G=q[0],K=q[1],_=(0,t.useState)(""),Q=(0,o.Z)(_,2),U=Q[0],Y=Q[1],$=(0,t.useState)(""),J=(0,o.Z)($,2),X=J[0],ee=J[1],re=(0,a.k6)(),ne=(0,s.WH)({delay:S().spinner.delay}).promiseInProgress,oe=(0,t.useState)(!1),te=(0,o.Z)(oe,2),ae=te[0],se=te[1],ie=(0,t.useState)(null),le=(0,o.Z)(ie,2),ce=le[0],de=le[1],ue=(0,t.useState)(null),me=(0,o.Z)(ue,2),pe=me[0],fe=me[1],he=(0,t.useState)(!1),ge=(0,o.Z)(he,2),xe=ge[0],ve=ge[1],Ce=(0,t.useState)(null),be=(0,o.Z)(Ce,2),Ze=be[0],je=be[1],we=(0,t.useState)(null),ye=(0,o.Z)(we,2),ke=ye[0],Ae=ye[1],Ne=(0,i.$)().t,Se=function(e){se(!1),de(null),fe(null)},Pe=function(){ve(!1),je(null),Ae(null),re.push("/signin")},ze=function(){if(!G&&!(0,A.oH)(l)){var e=Ne("Please supply a valid email");return y.A.warning(e),M({email:e}),!1}if(G){if(!(0,A.uo)(I)){var r=Ne("Please supply a more complex password");return y.A.warning(r),M({password:r}),!1}if(!V){var n=Ne("Please confirm the password");return M({passwordConfirmed:n}),y.A.warning(n),!1}if(I!==V){var o=Ne("The confirmed password does not match the password");return y.A.warning(o),M({passwordConfirmed:o}),!1}}return!0};return(0,P.jsxs)(u.Z,{maxWidth:"xs",children:[(0,P.jsx)("form",{className:e.form,noValidate:!0,autoComplete:"off",children:(0,P.jsxs)("fieldset",{disabled:ne,className:e.fieldset,children:[!G&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(m.Z,{m:1}),(0,P.jsx)(d.Z,{container:!0,justifyContent:"center",children:(0,P.jsx)(c.Z,{className:e.avatar,children:(0,P.jsx)(v.Z,{})})}),(0,P.jsx)(m.Z,{m:3}),(0,P.jsx)(d.Z,{container:!0,justifyContent:"flex-start",children:(0,P.jsx)(k.R9,{children:Ne("Reset password")})}),(0,P.jsx)(m.Z,{m:1}),(0,P.jsx)(k.yt,{autoFocus:!0,id:"email",value:l,onChange:N,placeholder:Ne("Email"),startAdornmentIcon:(0,P.jsx)(Z.Z,{}),error:T.email}),(0,P.jsx)(m.Z,{m:1}),(0,P.jsx)(k.OL,{onClick:function(e){e.preventDefault(),ze()&&(M({}),console.log("formForgotPassword"),w.Z.forgotPassword({email:l}).then((function(e){console.log("forgotPassword success:",e),K(!0),L(""),e.codeDeliveryMedium;var r,n,o="email";Y(o),r=Ne("Verification code sent"),n=Ne("Verification code sent via {{medium}} to {{email}}.\nPlease copy and paste it here.",{medium:o,email:"marcosolari+6@gmail.com"}),de(r),fe(n),se(!0)}),(function(e){console.error("forgotPassword error:",e),y.A.error((0,j.N3)(e))})))},children:Ne("Request password reset")})]}),G&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(k.yt,{id:"password",type:"password",value:I,onChange:L,placeholder:Ne("New password"),startAdornmentIcon:(0,P.jsx)(b.Z,{}),error:T.password}),(0,P.jsx)(k.yt,{id:"passwordConfirmed",type:"password",value:V,onChange:W,placeholder:Ne("New password confirmation"),startAdornmentIcon:(0,P.jsx)(b.Z,{}),error:T.passwordConfirmed}),(0,P.jsx)(k.yt,{id:"confirmationCode",type:"number",value:X,onChange:ee,placeholder:Ne("Numeric code just received by {{codeDeliveryMedium}}",{codeDeliveryMedium:U}),startAdornmentIcon:(0,P.jsx)(C.Z,{}),error:T.confirmationCode}),(0,P.jsx)(m.Z,{m:1}),(0,P.jsx)(k.OL,{onClick:function(e){e.preventDefault(),ze()&&(M({}),w.Z.resetPasswordConfirm({email:l,password:I,code:X}).then((function(e){var r,n;console.log("resetPasswordConfirm success:",e),K(!1),N(""),L(""),W(""),ee(""),r=Ne("Password reset success"),n=Ne("You can now sign in with your new password"),je(r),Ae(n),ve(!0)}),(function(e){console.warn("resetPasswordConfirm error:",e),y.A.error(Ne(e.message)),M({password:e.message})})))},children:Ne("Confirm Password Reset")}),(0,P.jsx)(d.Z,{container:!0,justifyContent:"flex-end",children:(0,P.jsx)(k.OL,{onClick:function(e){e.preventDefault(),M({}),console.log("formResendResetPasswordCode"),w.Z.resendResetPasswordCode({email:l}).then((function(e){if(e.ok)console.log("TODO: CHECK IF IN DATA WE HAVE MESSAGE TO SHOW TO THE USER resendResetPasswordCode success data:",e),y.A.info("Code resent successfully");else{if(console.warn("formResendResetPasswordCode error:",e),"ExpiredCodeException"===e.code)M({confirmationCode:e});else M({});y.A.error(Ne(e.message))}}))},fullWidth:!1,className:"buttonSecondary",children:Ne("Resend code")})})]})]})}),(0,P.jsxs)(f.Z,{open:ae,onClose:Se,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,P.jsx)(x.Z,{id:"alert-dialog-title",children:ce}),(0,P.jsx)(g.Z,{id:"alert-dialog-description",children:(0,P.jsx)(p.Z,{variant:"body1",style:{whiteSpace:"pre-line"},children:pe})}),(0,P.jsx)(h.Z,{children:(0,P.jsx)(k.OL,{onClick:Se,fullWidth:!1,className:"buttonSecondary",autoFocus:!0,children:Ne("Ok")})})]}),(0,P.jsxs)(f.Z,{open:xe,onClose:Pe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,P.jsx)(x.Z,{id:"alert-dialog-title",children:Ze}),(0,P.jsx)(g.Z,{id:"alert-dialog-description",children:(0,P.jsx)(p.Z,{variant:"body1",style:{whiteSpace:"pre-line"},children:ke})}),(0,P.jsx)(h.Z,{children:(0,P.jsx)(k.OL,{onClick:Pe,fullWidth:!1,className:"buttonSecondary",autoFocus:!0,children:Ne("Ok")})})]})]})}r.default=t.memo(R)},1970:function(e,r,n){var o=n(5318),t=n(862);r.Z=void 0;var a=t(n(390)),s=(0,o(n(7581)).default)(a.createElement("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");r.Z=s},6083:function(e,r,n){var o=n(5318),t=n(862);r.Z=void 0;var a=t(n(390)),s=(0,o(n(7581)).default)(a.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h2c0-1.66 1.34-3 3-3s3 1.34 3 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOpenOutlined");r.Z=s}}]);
//# sourceMappingURL=541.946de51c.chunk.js.map