"use strict";(self.webpackChunkappalti190_client=self.webpackChunkappalti190_client||[]).push([[541],{6473:function(e,r,o){o.d(r,{OL:function(){return x},NR:function(){return C},yt:function(){return h},Kv:function(){return b},R9:function(){return v}});var n=o(6515),a=o(390),t=o(2420),s=o(7762),i=o(1426),l=o(3383),d=o(3999),c=o(1395),u=o(1846),m=o(3447),p=function(e,r){return"#"+e.replace(/^#/,"").replace(/../g,(function(e){return("0"+Math.min(255,Math.max(0,parseInt(e,16)+r)).toString(16)).substr(-2)}))},f=o(3137),g=o(2559),h=a.memo((function(e){var r=(0,u.Z)((function(e){return{startAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:-15,marginRight:5,paddingLeft:10,paddingRight:10,borderRight:"1px solid #c5c5c5"},endAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:5,marginRight:-15,paddingLeft:10,paddingRight:10,borderLeft:"1px solid #c5c5c5"}}}))();return(0,g.jsx)(s.Z,{id:e.id,type:e.type,value:e.value,required:e.required,autoFocus:e.autoFocus,autoComplete:e.autoComplete.toString(),variant:e.variant,fullWidth:e.fullWidth,label:e.label,size:e.size,margin:e.margin,className:e.className?e.className:r.textField,placeholder:e.placeholder,onChange:function(r){return e.onChange(r.target.value)},disabled:e.disabled,error:!(0,f.Qr)(e.error),InputProps:{startAdornment:e.startAdornmentIcon?(0,g.jsx)(m.Z,{className:e.startAdornmentClass?e.startAdornmentClass:r.startAdornment,position:"start",children:e.startAdornmentIcon}):(0,g.jsx)(g.Fragment,{}),endAdornment:e.endAdornmentIcon?(0,g.jsx)(m.Z,{className:e.endAdornmentClass?e.endAdornmentClass:r.endAdornment,position:"end",children:e.endAdornmentIcon}):(0,g.jsx)(g.Fragment,{}),className:r.input}})}));h.defaultProps={type:"text",required:!1,autoFocus:!1,autoComplete:!1,variant:"outlined",fullWidth:!0,label:"",size:"small",margin:"dense",className:null,placeholder:"",startAdornmentClass:null,endAdornmentClass:null,disabled:!1,error:""};var x=a.memo((function(e){var r=(0,u.Z)((function(e){return function(e){return{button:{margin:e.spacing(1,0,0,0),textTransform:"none",fontSize:"1.3em",color:"white",backgroundColor:e.palette.success.main,"&:hover":{backgroundColor:p(e.palette.success.main,-25)}},buttonSecondary:{margin:e.spacing(1,0,0,0),textTransform:"none",fontSize:"1em !important",color:"white",backgroundColor:e.palette.secondary.dark+" !important","&:hover":{backgroundColor:p(e.palette.secondary.dark,-25)+" !important"}},buttonFederated:{margin:e.spacing(1,0,0,0),justifyContent:"flex-start",paddingLeft:e.spacing(5),fontSize:"1.3em"},buttonFederatedFacebook:{backgroundColor:e.palette.socialButtons.facebook.backgroundColor,"&:hover":{backgroundColor:p(e.palette.socialButtons.facebook.backgroundColor,-25)}},buttonFederatedGoogle:{backgroundColor:e.palette.socialButtons.google.backgroundColor,"&:hover":{backgroundColor:p(e.palette.socialButtons.google.backgroundColor,-25)}}}}(e)}))();return(0,g.jsx)(t.Z,{fullWidth:e.fullWidth,variant:e.variant,color:e.color,size:e.size,className:"".concat(r.button," ").concat(e.social?r.buttonFederated:""," ").concat(e.social?r["buttonFederated"+(0,f.kC)(e.social)]:""," ").concat(r[e.className]),startIcon:e.startIcon,onClick:e.onClick,disabled:e.disabled,children:e.children})}));x.defaultProps={fullWidth:!0,variant:"contained",color:"primary",social:null},a.memo((function(e){var r=(0,u.Z)((function(e){return{disabled:{color:"grey",cursor:"default","&:hover":{textDecoration:"none"}}}}))(),o=e.disabled?r.disabled:"";return(0,g.jsx)(i.Z,{control:(0,g.jsx)(l.Z,{checked:e.checked,onChange:function(r){return e.onChange(r.target.checked)},className:"".concat(e.className," ").concat(o),color:e.color,size:e.size,disabled:e.disabled}),label:(0,g.jsx)(v,{className:"".concat(e.className," ").concat(o),children:e.children})})})).defaultProps={checked:!1,color:"primary",size:"small"};var v=a.memo((function(e){return(0,g.jsx)(c.Z,(0,n.Z)((0,n.Z)({component:e.component,variant:e.variant,color:e.color,align:e.align},e),{},{children:e.children}))}));v.defaultProps={component:"h1",variant:"body2",color:"textPrimary"};var b=a.memo((function(e){var r=(0,u.Z)((function(e){return{normal:{cursor:"pointer"},disabled:{color:"grey",cursor:"default","&:hover":{textDecoration:"none",color:"grey"}}}}))(),o=e.disabled?r.disabled:r.normal;return(0,g.jsx)(d.Z,(0,n.Z)((0,n.Z)({href:e.href,className:"".concat(e.className," ").concat(o),color:e.color},e),{},{children:e.children}))}));b.defaultProps={color:"textPrimary"};var C=a.memo((function(e){var r=(0,u.Z)((function(r){return function(r){return{container:{display:"flex",alignItems:"center",marginTop:r.spacing(e.marginVertical),marginBottom:r.spacing(e.marginVertical)},divider:{width:"100%",borderBottom:"1px solid "+(e.color?e.color:r.palette.primary.dark),paddingLeft:r.spacing(1)},text:{paddingLeft:r.spacing(e.paddingHorizontal),paddingRight:r.spacing(e.paddingHorizontal)}}}(r)}))();return(0,g.jsxs)("div",{className:r.container,children:[(0,g.jsx)("div",{className:r.divider}),e.children&&(0,g.jsx)("span",{className:r.text,children:e.children}),(0,g.jsx)("div",{className:r.divider})]})}));C.defaultProps={marginVertical:1,paddingHorizontal:1}},8541:function(e,r,o){o.r(r);var n=o(4890),a=o(390),t=o(971),s=o(6444),i=o(3721),l=o(1846),d=o(1732),c=o(119),u=o(7530),m=o(8282),p=o(1395),f=o(1411),g=o(2398),h=o(9797),x=o(6826),v=o(6083),b=o(5416),C=o(1855),Z=o(1970),j=o(8874),w=o(4100),y=o(6473),k=o(5782),S=o(2600),A=o.n(S),N=o(2559),P=(0,l.Z)((function(e){return function(e){return{avatar:{backgroundColor:e.palette.success.main},fieldset:{border:0}}}(e)}));function z(){var e=P(),r=(0,a.useState)(""),o=(0,n.Z)(r,2),l=o[0],S=o[1],z=(0,a.useState)(""),F=(0,n.Z)(z,2),R=F[0],I=F[1],L=(0,a.useState)(""),O=(0,n.Z)(L,2),H=O[0],V=O[1],W=(0,a.useState)({email:null,password:null,passwordConfirmed:null,code:null}),E=(0,n.Z)(W,2),D=E[0],T=E[1],M=(0,a.useState)(!1),B=(0,n.Z)(M,2),q=B[0],G=B[1],K=(0,a.useState)(""),_=(0,n.Z)(K,2),Q=_[0],U=_[1],Y=(0,a.useState)(""),$=(0,n.Z)(Y,2),J=$[0],X=$[1],ee=(0,t.k6)(),re=(0,s.WH)({delay:A().spinner.delay}).promiseInProgress,oe=(0,a.useState)(!1),ne=(0,n.Z)(oe,2),ae=ne[0],te=ne[1],se=(0,a.useState)(null),ie=(0,n.Z)(se,2),le=ie[0],de=ie[1],ce=(0,a.useState)(null),ue=(0,n.Z)(ce,2),me=ue[0],pe=ue[1],fe=(0,a.useState)(!1),ge=(0,n.Z)(fe,2),he=ge[0],xe=ge[1],ve=(0,a.useState)(null),be=(0,n.Z)(ve,2),Ce=be[0],Ze=be[1],je=(0,a.useState)(null),we=(0,n.Z)(je,2),ye=we[0],ke=we[1],Se=(0,i.$)().t,Ae=function(e){te(!1),de(null),pe(null)},Ne=function(){xe(!1),Ze(null),ke(null),ee.push("/signin")};return(0,N.jsxs)(u.Z,{maxWidth:"xs",children:[(0,N.jsx)("form",{className:e.form,noValidate:!0,autoComplete:"off",children:(0,N.jsxs)("fieldset",{disabled:re,className:e.fieldset,children:[!q&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(m.Z,{m:1}),(0,N.jsx)(c.Z,{container:!0,justifyContent:"center",children:(0,N.jsx)(d.Z,{className:e.avatar,children:(0,N.jsx)(v.Z,{})})}),(0,N.jsx)(m.Z,{m:3}),(0,N.jsx)(c.Z,{container:!0,justifyContent:"flex-start",children:(0,N.jsx)(y.R9,{children:Se("Reset password")})}),(0,N.jsx)(m.Z,{m:1}),(0,N.jsx)(y.yt,{autoFocus:!0,id:"email",value:l,onChange:S,placeholder:Se("Email"),startAdornmentIcon:(0,N.jsx)(Z.Z,{}),error:D.email}),(0,N.jsx)(m.Z,{m:1}),(0,N.jsx)(y.OL,{onClick:function(e){e.preventDefault(),function(){if(!q&&!(0,k.ks)(l)){var e=Se("Please supply a valid email");return w.A.warning(e),T({email:e}),!1}if(q){if(!(0,k.oH)(R)){var r=Se("Please supply a more complex password");return w.A.warning(r),T({password:r}),!1}if(!H){var o=Se("Please confirm the password");return T({passwordConfirmed:o}),w.A.warning(o),!1}if(R!==H){var n=Se("The confirmed password does not match the password");return w.A.warning(n),T({passwordConfirmed:n}),!1}}return!0}()&&(T({}),console.log("formForgotPassword"),j.Z.forgotPassword({email:l}).then((function(e){if(!e.ok)return console.warn("forgotPassword error:",e),w.A.error(Se(e.message)),void T({email:e.message});console.log("forgotPassword success:",e),G(!0),I(""),e.codeDeliveryMedium;var r,o,n="email";U(n),r=Se("Verification code sent"),o=Se("Verification code sent via {{medium}} to {{email}}.\nPlease copy and paste it here.",{medium:n,email:"marcosolari+6@gmail.com"}),de(r),pe(o),te(!0)})))},children:Se("Request password reset")})]}),q&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(y.yt,{id:"password",type:"password",value:R,onChange:I,placeholder:Se("New password"),startAdornmentIcon:(0,N.jsx)(C.Z,{}),error:D.password}),(0,N.jsx)(y.yt,{id:"passwordConfirmed",type:"password",value:H,onChange:V,placeholder:Se("New password confirmation"),startAdornmentIcon:(0,N.jsx)(C.Z,{}),error:D.passwordConfirmed}),(0,N.jsx)(y.yt,{id:"confirmationCode",type:"number",value:J,onChange:X,placeholder:Se("Numeric code just received by {{codeDeliveryMedium}}",{codeDeliveryMedium:Q}),startAdornmentIcon:(0,N.jsx)(b.Z,{}),error:D.confirmationCode}),(0,N.jsx)(m.Z,{m:1}),(0,N.jsx)(y.OL,{onClick:function(e){e.preventDefault(),T({}),j.Z.forgotPasswordSubmit({email:l,code:J,password:R,passwordConfirmed:H}).then((function(e){if(!e.ok)return console.warn("forgotPasswordSubmit error:",e),w.A.error(Se(e.message)),void T({password:e.message});var r,o;console.log("17 confirmForgotPasswordSubmit success data:",e),G(!1),S(""),I(""),V(""),X(""),r=Se("Password reset success"),o=Se("You can now sign in with your new password"),Ze(r),ke(o),xe(!0)}))},children:Se("Confirm Password Reset")}),(0,N.jsx)(c.Z,{container:!0,justifyContent:"flex-end",children:(0,N.jsx)(y.OL,{onClick:function(e){e.preventDefault(),T({}),console.log("formResendResetPasswordCode"),j.Z.resendResetPasswordCode({email:l}).then((function(e){if(e.ok)console.log("TODO: CHECK IF IN DATA WE HAVE MESSAGE TO SHOW TO THE USER resendResetPasswordCode success data:",e),w.A.info("Code resent successfully");else{if(console.warn("formResendResetPasswordCode error:",e),"ExpiredCodeException"===e.code)T({confirmationCode:e});else T({});w.A.error(Se(e.message))}}))},fullWidth:!1,className:"buttonSecondary",children:Se("Resend code")})})]})]})}),(0,N.jsxs)(f.Z,{open:ae,onClose:Ae,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,N.jsx)(x.Z,{id:"alert-dialog-title",children:le}),(0,N.jsx)(h.Z,{id:"alert-dialog-description",children:(0,N.jsx)(p.Z,{variant:"body1",style:{whiteSpace:"pre-line"},children:me})}),(0,N.jsx)(g.Z,{children:(0,N.jsx)(y.OL,{onClick:Ae,fullWidth:!1,className:"buttonSecondary",autoFocus:!0,children:Se("Ok")})})]}),(0,N.jsxs)(f.Z,{open:he,onClose:Ne,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,N.jsx)(x.Z,{id:"alert-dialog-title",children:Ce}),(0,N.jsx)(h.Z,{id:"alert-dialog-description",children:(0,N.jsx)(p.Z,{variant:"body1",style:{whiteSpace:"pre-line"},children:ye})}),(0,N.jsx)(g.Z,{children:(0,N.jsx)(y.OL,{onClick:Ne,fullWidth:!1,className:"buttonSecondary",autoFocus:!0,children:Se("Ok")})})]})]})}r.default=a.memo(z)},1970:function(e,r,o){var n=o(5318),a=o(862);r.Z=void 0;var t=a(o(390)),s=(0,n(o(7581)).default)(t.createElement("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");r.Z=s},6083:function(e,r,o){var n=o(5318),a=o(862);r.Z=void 0;var t=a(o(390)),s=(0,n(o(7581)).default)(t.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h2c0-1.66 1.34-3 3-3s3 1.34 3 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOpenOutlined");r.Z=s}}]);
//# sourceMappingURL=541.0e414753.chunk.js.map