{"version":3,"sources":["services/JobService.js","components/FlexibleDialog.js","libs/Styling.js","components/FormElements.js","services/UserService.js","assets/images/SelectedPlan-en.png","assets/images/SelectedPlan-it.png","assets/images/SelectedPlan-fr.png","components/Pricing.js","services/PaymentService.js","components/auth/Profile.js"],"names":["get","a","TokenService","getUser","api","JobService","set","job","put","upload","file","formData","FormData","append","post","headers","transformXls2Xml","filePath","validateXml","transform","outcomeCheck","anno","codiceFiscaleAmministrazione","outcomeFailureDetails","urlExistenceAndMatch","url","fileToMatch","console","log","getPlans","FlexibleDialog","title","contentText","actions","props","onBackdropClick","onClose","event","reason","map","action","index","onClick","callback","closeModal","variant","autoFocus","style","textTransform","text","defaultProps","React","memo","shadeColor","color","amount","replace","Math","min","max","parseInt","toString","substr","FormInput","classes","makeStyles","theme","startAdornment","backgroundColor","height","maxHeight","marginLeft","marginRight","paddingLeft","paddingRight","borderRight","endAdornment","borderLeft","textField","useStyles","TextField","id","type","value","required","autoComplete","fullWidth","label","size","margin","className","placeholder","onChange","e","target","disabled","error","isEmptyObject","InputProps","startAdornmentIcon","InputAdornment","startAdornmentClass","position","endAdornmentIcon","endAdornmentClass","input","FormButton","button","spacing","fontSize","palette","success","main","buttonSecondary","secondary","dark","buttonFederated","justifyContent","buttonFederatedFacebook","socialButtons","facebook","buttonFederatedGoogle","google","styles","Button","social","capitalize","startIcon","children","cursor","textDecoration","classNameDisabled","FormControlLabel","control","Checkbox","checked","FormText","Typography","component","align","FormLink","normal","decoration","Link","href","FormDividerWithText","container","display","alignItems","marginTop","marginVertical","marginBottom","divider","width","borderBottom","primary","paddingHorizontal","UserService","getProfile","then","response","data","updateProfile","email","password","firstName","lastName","address","fiscalCode","businessName","updateUserProperty","userId","propertyName","propertyValue","plans","updatePlan","plan","getRoles","roles","updateRoles","getPublicContent","getUserBoard","getModeratorBoard","getAdminBoard","getAdminPanel","section","cardHeader","paddingTop","cardHeaderActive","cardHeaderTest","paddingBottom","cardTest","borderRadius","fontWeight","padding","card","transition","border","boxShadow","cardActive","cardActiveImage","maxWidth","opacity","zIndex","cardHr","Pricing","t","useTranslation","showModal","useModal","useState","perMonth","setPerMonth","setPlans","useEffect","result","toast","errorMessage","isActivePlan","p","currentPlan","name","getCurrentLanguage","i18n","language","selectedPlanImage","SelectedPlanImage_en","SelectedPlanImage_it","SelectedPlanImage_fr","Container","Box","py","textAlign","mb","gutterBottom","pricePerMonth","pricePerYear","Switch","Grid","item","xs","md","length","src","alt","Card","join","CardHeader","titleTypographyProps","paymentMode","CardContent","px","currencyISO4217ToSymbol","priceCurrency","cigNumberAllowed","Number","MAX_SAFE_INTEGER","cigs","supportTypes","supportType","openDialog","onPlanSelected","canForcePlan","mt","onPlanForced","mode","createCheckoutSession","product","PaymentService","root","flexGrow","avatar","columnLeft","columnRight","form","fieldset","fieldsetPersonalData","borderStyle","borderColor","fieldsetCompanyData","fieldsetAddress","formControlSelectPlan","minWidth","formControlSelectRole","tab","light","tabIndicator","a11yProps","ProfileTabPanel","other","role","hidden","Profile","history","useHistory","user","setUser","profile","setProfile","setEmail","setFirstName","setLastName","setFiscalCode","setBusinessName","setAddress","addressStreet","setAddressStreet","addressStreetNo","setAddressStreetNo","addressCity","setAddressCity","addressProvince","setAddressProvince","addressZip","setAddressZip","addressCountry","setAddressCountry","setPaymentMode","setPlan","setRoles","rolesNames","setRolesNames","setError","location","state","tabValue","setTabValue","anyProfileChanges","setAnyProfileChanges","anyRolesChanges","setAnyRolesChanges","anyPlanChanges","setAnyPlanChanges","useBeforeunload","preventDefault","unblock","block","window","confirm","street","streetNo","city","province","zip","country","goBack","Error","code","message","userCanUpdateRoles","includes","userCanForcePlan","m","Avatar","AppBar","Tabs","newValue","indicator","Tab","noValidate","v","direction","columnSpacing","sm","lg","rowSpacing","session","planName","find","EventBus","dispatch","FormControl","InputLabel","Select","labelId","multiple","MenuItem","warn","String","split","every","config","rolesNamesDefault"],"mappings":"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","file":"static/js/14.b8a856ab.chunk.js","sourcesContent":["import api from \"./API\";\nimport TokenService from \"./TokenService\";\n\n// get job status\nconst get = async () => {\n  // const user = TokenService.getUser();\n  // if (!user) {\n  //   return null;\n  // }\n  // return api.get(\"/job/get\", {\n  //   userId: user._id,\n  // });\n\n  //const retval = await api.get(\"/job/get\");\n\n  const user = TokenService.getUser();\n  if (!user) {\n    return null;\n  }\n  return await api.get(\"/job/get\");\n};\n\n// set job status\nconst set = (job) => {\n  const user = TokenService.getUser();\n  if (!user) {\n    return null;\n  }\n\n  return api.put(\"/job/set\", {job});\n};\n\n// upload a file\nconst upload = (file) => {\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  \n  return api.post(\"/job/upload\", formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n    }\n  });\n};\n\n// transform XLS to XML\nconst transformXls2Xml = (filePath) => {\n  return api.post(\"/job/transformXls2Xml/:filePath\", {\n    filePath,\n  });\n}\n\n// validate XML syntax\nconst validateXml = (transform) => {\n  return api.post(\"/job/validateXml/:transform\", {\n    transform,\n  });\n  // const retval = api.post(\"/job/validateXml/:transform\", {\n  //   transform,\n  // });\n  // console.log(\"****************** validateXml retval:\", retval);\n  // return retval;\n}\n\n// check ANAC periodic verification outcome\nconst outcomeCheck = (anno, codiceFiscaleAmministrazione) => {\n  return api.post(\"/job/outcomeCheck/:anno/:codiceFiscaleAmministrazione\",\n    {\n      anno,\n      codiceFiscaleAmministrazione,\n    }\n  );\n}\n\n// get ANAC periodic verification failed outcome details\nconst outcomeFailureDetails = (anno, codiceFiscaleAmministrazione) => {\n  return api.post(\n    \"/job/outcomeFailureDetails/anno/codiceFiscaleAmministrazione\",\n    {\n      anno,\n      codiceFiscaleAmministrazione,\n    }\n  );\n}\n\n// check url existence\nconst urlExistenceAndMatch = (url, fileToMatch) => {\nconsole.log(\"*** jobService - url,fileToMatch:\", url, fileToMatch);\n  return api.post(\n    \"/job/urlExistenceAndMatch/url/fileToMatch\",\n    {\n      url,\n      fileToMatch,\n    }\n  );\n}\n\n// // just to ignore big xml when debug printing...\n// const sanitizeJob = (job) => {\n//   if (!job?.transform?.xml) {\n//     return job;\n//   }\n//   let j = job;\n//   j.transform.xml = \"â€¦\";\n//   return j;\n// }\n\n// get ANAC periodic verification failed outcome details\nconst getPlans = () => {\n  return api.get(\n    \"/job/getPlans\",\n  );\n}\n\nconst JobService = {\n  get,\n  set,\n  upload,\n  transformXls2Xml,\n  validateXml,\n  outcomeCheck,\n  outcomeFailureDetails,\n  urlExistenceAndMatch,\n  //sanitizeJob,\n  getPlans,\n};\n\nexport default JobService;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@mui/material/Button\";\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions } from '@mui/material';\n\nconst FlexibleDialog = ({ title, contentText, actions, ...props }) => (\n  <Dialog\n    {...props}\n    onBackdropClick={() => {} /* disable modal close on backdrop click */}\n    //disableScrollLock={false}\n    //disableEnforceFocus={false}\n    aria-labelledby={title}\n    onClose={(event, reason) => { /* console.log(\"REASON:\", reason); */ }}\n  >\n    <DialogTitle>{title}</DialogTitle>\n    <DialogContent>\n      <DialogContentText>{contentText}</DialogContentText>\n    </DialogContent>\n    <DialogActions>\n      {actions.map((action, index) => (\n        <Button\n          key={index}\n          onClick={() => {\n            if (action.callback) action.callback();\n            if (action.closeModal) props.onClose();\n          }}\n          variant={action.variant === \"primary\" ? \"contained\" : action.variant === \"secondary\" ? \"outlined\" : \"contained\"}\n          autoFocus={props}\n          style={{textTransform: \"none\"}} // do not uppercase button text\n        >\n          {action.text}\n        </Button>\n      ))}\n    </DialogActions>\n  </Dialog>\n);\n\nFlexibleDialog.propTypes = {\n  title: PropTypes.string,\n  contentText: PropTypes.string,\n  actions: PropTypes.arrayOf(\n    PropTypes.shape({\n      text: PropTypes.string,\n      closeModal: PropTypes.bool,\n      callback: PropTypes.func,\n      variant: PropTypes.oneOf([\n        \"primary\", \"secondary\",\n      ]),\n      autoFocus: PropTypes.bool,\n    })\n  ),\n};\n\nFlexibleDialog.defaultProps = {\n  title: \"\",\n  contentText: \"\",\n  actions: [\n    {\n      text: \"Ok\",\n      closeModal: true,\n      callback: () => {},\n      variant: \"primary\",\n      autoFocus: false,\n    }\n  ],\n};\n\nexport default React.memo(FlexibleDialog);","/**\n * Shade a color by an amount [-100 - 100] (negative is darker, positive is ligher).\n */\nexport const shadeColor = (color, amount) => {\n  return \"#\" + color.replace(/^#/, \"\").replace(/../g, color => (\"0\" + Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).substr(-2));\n}\n","import React/*, { useState }*/ from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@mui/material/Button\";\nimport TextField from \"@mui/material/TextField\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport Link from \"@mui/material/Link\";\n//import Tooltip, { TooltipProps } from '@mui/material/Tooltip';\nimport Typography from \"@mui/material/Typography\";\nimport { makeStyles } from \"@mui/styles\";\nimport InputAdornment from \"@mui/material/InputAdornment\";\nimport { shadeColor } from \"../libs/Styling\";\nimport { capitalize, isEmptyObject } from \"../libs/Misc\";\n\n\n\nconst FormInput = React.memo((props) => {\n  const styles = theme => ({\n    startAdornment: {\n      backgroundColor: \"#efefff\",\n      height: \"2.5rem\",\n      maxHeight: \"3rem\",\n      marginLeft: -15,\n      marginRight: 5,\n      paddingLeft: 10,\n      paddingRight: 10,\n      borderRight: \"1px solid #c5c5c5\",\n    },\n    endAdornment: {\n      backgroundColor: \"#efefff\",\n      height: \"2.5rem\",\n      maxHeight: \"3rem\",\n      marginLeft: 5,\n      marginRight: -15,\n      paddingLeft: 10,\n      paddingRight: 10,\n      borderLeft: \"1px solid #c5c5c5\",\n    },\n    textField: {\n      backgroundColor: \"#efefff\",\n    }\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  return (\n    <TextField\n      id={props.id}\n      type={props.type}\n      value={props.value}\n      required={props.required}\n      autoFocus={props.autoFocus}\n      autoComplete={props.autoComplete.toString()}\n      variant={props.variant}\n      fullWidth={props.fullWidth}\n      label={props.label}\n      size={props.size}\n      margin={props.margin}\n      className={props.className ? props.className : classes.textField}\n      placeholder={props.placeholder}\n      onChange={e => props.onChange(e.target.value)}\n      disabled={props.disabled}\n      error={!isEmptyObject(props.error)}\n      InputProps={{\n        startAdornment: props.startAdornmentIcon ? (\n          <InputAdornment\n            className={props.startAdornmentClass ? props.startAdornmentClass : classes.startAdornment}\n            position=\"start\"\n          >\n            {props.startAdornmentIcon}\n          </InputAdornment>\n        ) : (<></>),\n        endAdornment: props.endAdornmentIcon ? (\n          <InputAdornment\n            className={props.endAdornmentClass ? props.endAdornmentClass : classes.endAdornment}\n            position=\"end\"\n          >\n            {props.endAdornmentIcon}\n          </InputAdornment>\n        ) : (<></>),\n        className: classes.input,\n      }}\n    />\n  );\n});\n\nFormInput.propTypes = {\n  value: PropTypes.string.isRequired,\n  startAdornmentClass: PropTypes.string,\n  startAdornmentIcon: PropTypes.object,\n  endAdornmentClass: PropTypes.string,\n  endAdornmentIcon: PropTypes.object,\n  disabled: PropTypes.bool,\n  error: PropTypes.string,\n};\n\nFormInput.defaultProps = {\n  type: \"text\",\n  required: false,\n  autoFocus: false,\n  autoComplete: false,\n  variant: \"outlined\",\n  fullWidth: true,\n  label: \"\",\n  size: \"small\",\n  margin: \"dense\",\n  className: null,\n  placeholder: \"\",\n  startAdornmentClass: null,\n  endAdornmentClass: null,\n  disabled: false,\n  error: \"\",\n};\n\n\n\nconst FormButton = React.memo((props) => {\n  const styles = theme => ({\n    button: {\n      margin: theme.spacing(1, 0, 0, 0),\n      textTransform: \"none\",\n      fontSize: \"1.3em\",\n      color: \"white\",\n      backgroundColor: theme.palette.success.main,\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.success.main, -25),\n      },\n    },\n    buttonSecondary: {\n      margin: theme.spacing(1, 0, 0, 0),\n      textTransform: \"none\",\n      fontSize: \"1em !important\",\n      color: \"white\",\n      backgroundColor: theme.palette.secondary.dark + \" !important\",\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.secondary.dark, -25)  + \" !important\",\n      },\n    },\n    buttonFederated: {\n      margin: theme.spacing(1, 0, 0, 0),\n      justifyContent: \"flex-start\",\n      paddingLeft: theme.spacing(5),\n      fontSize: \"1.3em\",\n    },  \n    buttonFederatedFacebook: {\n      backgroundColor: theme.palette.socialButtons.facebook.backgroundColor,\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.socialButtons.facebook.backgroundColor, -25),\n      },\n    },\n    buttonFederatedGoogle: {\n      backgroundColor: theme.palette.socialButtons.google.backgroundColor,\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.socialButtons.google.backgroundColor, -25),\n      },\n    },\n  \n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  return (\n    <Button\n      fullWidth={props.fullWidth}\n      variant={props.variant}\n      color={props.color}\n      size={props.size}\n      className={`${classes.button} ${props.social ? classes.buttonFederated : \"\"} ${props.social ? classes[\"buttonFederated\" + capitalize(props.social)] : \"\"} ${classes[props.className]}`}\n      startIcon={props.startIcon}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </Button>\n  );\n});\n\nFormButton.propTypes = {\n  social: PropTypes.oneOf([\n    \"Facebook\",\n    \"Google\",\n  ]),\n}\n\nFormButton.defaultProps = {\n  fullWidth: true,\n  variant: \"contained\",\n  color: \"primary\",\n  social: null,\n};\n\n\n\nconst FormCheckbox = React.memo((props) => {\n  const styles = theme => ({\n    disabled: {\n      color: \"grey\",\n      cursor: \"default\",\n      \"&:hover\": {\n        textDecoration: \"none\",\n      },\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  const classNameDisabled = props.disabled ? classes.disabled : \"\";\n\n  return (\n    <FormControlLabel\n      control={\n        <Checkbox\n          checked={props.checked}\n          onChange={(e) => props.onChange(e.target.checked)}\n          className={`${props.className} ${classNameDisabled}`}\n          color={props.color}\n          size={props.size}\n          disabled={props.disabled}\n        />\n      }\n      label={\n        <FormText\n          className={`${props.className} ${classNameDisabled}`}\n        >\n          {props.children}\n        </FormText>\n      }\n    />\n  );\n});\n\nFormCheckbox.propTypes = {\n};\n\nFormCheckbox.defaultProps = {\n  checked: false,\n  color: \"primary\",\n  size: \"small\",\n};\n\n\n\nconst FormText = React.memo((props) => {\n  return (\n    <Typography\n      component={props.component}\n      variant={props.variant}\n      color={props.color}\n      align={props.align}\n      {...props}\n    >\n      {props.children}\n    </Typography>\n  );\n});\n\nFormText.propTypes = {\n};\n\nFormText.defaultProps = {\n  component: \"h1\",\n  variant: \"body2\",\n  color: \"textPrimary\",\n};\n\n\n\nconst FormLink = React.memo((props) => {\n  const styles = theme => ({\n    normal: {\n      cursor: \"pointer\",\n      textDecoration: props.decoration ? props.decoration : \"none\",\n    },\n    disabled: {\n      color: \"grey\",\n      cursor: \"default\",\n      \"&:hover\": {\n        textDecoration: \"none\",\n        color: \"grey\",\n      },\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  const className = props.disabled ? classes.disabled : classes.normal;\n\n  return (\n    <Link\n      href={props.href}\n      className={`${props.className} ${className}`}\n      color={props.color}\n      {...props}\n    >\n      {props.children}\n    </Link>\n  );\n});\n\nFormLink.propTypes = {\n};\n\nFormLink.defaultProps = {\n  color: \"textPrimary\",\n};\n\n\n\nconst FormDividerWithText = React.memo((props) => {\n  const styles = theme => ({\n    container: {\n      display: \"flex\",\n      alignItems: \"center\",\n      marginTop: theme.spacing(props.marginVertical),\n      marginBottom: theme.spacing(props.marginVertical),\n    },\n    divider: {\n      width: \"100%\",\n      borderBottom: \"1px solid \" + (props.color ? props.color : theme.palette.primary.dark),\n      paddingLeft: theme.spacing(1),\n    },\n    text: {\n      paddingLeft: theme.spacing(props.paddingHorizontal),\n      paddingRight: theme.spacing(props.paddingHorizontal),\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.divider} />\n      {props.children && <span className={classes.text}>\n        {props.children}\n      </span>}\n      <div className={classes.divider} />\n    </div>\n  );\n});\n\nFormDividerWithText.propTypes = {\n  color: PropTypes.string,\n  marginVertical: PropTypes.oneOf([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 ]),\n  paddingHorizontal: PropTypes.oneOf([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 ]),\n};\n\nFormDividerWithText.defaultProps = {\n  marginVertical: 1,\n  paddingHorizontal: 1,\n};\n\n/*\nconst FormTooltip = ({ children, ...rest }: TooltipProps) => {\n  const [renderTooltip, setRenderTooltip] = useState(false);\n\n  return (\n    <div\n      onMouseEnter={() => !renderTooltip && setRenderTooltip(true)}\n      className=\"display-contents\"\n    >\n      {!renderTooltip && children}\n      {renderTooltip && (\n        <Tooltip {...rest}>\n          <span>\n            {children}\n          </span>\n        </Tooltip>\n      )}\n    </div>\n  );\n}\n\nconst _FormTooltip = React.memo((props) => {\n  const styles = theme => ({\n    normal: {\n      cursor: \"pointer\",\n      textDecoration: props.decoration ? props.decoration : \"none\",\n    },\n    disabled: {\n      color: \"grey\",\n      cursor: \"default\",\n      \"&:hover\": {\n        textDecoration: \"none\",\n        color: \"grey\",\n      },\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  const className = props.disabled ? classes.disabled : classes.normal;\n\n  return (\n    <Tooltip\n      placement={props.placement}\n      enterDelay={props.enterDelay}\n      leaveDelay={props.leaveDelay}\n      {...props}\n    >\n      {props.children}\n    </Tooltip>\n  );\n});\n\nFormTooltip.propTypes = {\n  placement: PropTypes.string,\n  enterDelay: PropTypes.number,\n  leaveDelay: PropTypes.number,\n};\n\nFormTooltip.defaultProps = {\n  placement: \"left\",\n  enterDelay: 500,\n  leaveDelay: 200,\n};\n*/\n\nexport {FormInput, FormButton, FormCheckbox, FormText, FormLink, FormDividerWithText/*, FormTooltip*/};\n","import api from \"./API\";\n\nconst getProfile = () => {\n  return api.get(\"/user/getProfile\").then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst updateProfile = ({/*username, */email, password, firstName, lastName, address, fiscalCode, businessName}) => {\n  return api.post(\"/user/updateProfile\", {\n    //username,\n    email,\n    password,\n    firstName,\n    lastName,\n    address,\n    fiscalCode,\n    businessName,\n  }).then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst updateUserProperty = ({userId, propertyName, propertyValue}) => {\n  return api.post(\"/user/updateUserProperty\", {\n    userId,\n    propertyName,\n    propertyValue,\n  }).then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst getPlans = plans => {\n  return api.get(\"/user/getPlans\").then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst updatePlan = plan => {\n  console.log(\"updatePlan - plan:\", plan);\n  return api.post(\"/user/updatePlan\",\n    plan,\n  ).then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst getRoles = roles => {\n  return api.get(\"/user/getRoles\").then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst updateRoles = roles => {\n  return api.post(\"/user/updateRoles\",\n    roles,\n  ).then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst getPublicContent = () => {\n  return api.get(\"/test/all\");\n};\n\nconst getUserBoard = () => {\n  return api.get(\"/test/user\");\n};\n\nconst getModeratorBoard = () => {\n  return api.get(\"/test/mod\");\n};\n\nconst getAdminBoard = () => {\n  return api.get(\"/test/admin\");\n};\n\nconst getAdminPanel = () => {\n  return api.get(\"/admin/getAdminPanel\"\n  ).then(\n    (response) => {\n      return response.data;\n    },\n    (error) => {\n      return error;\n    }\n  );\n};\n\nconst UserService = {\n  getProfile,\n  updateProfile,\n  updateUserProperty,\n  getPlans,\n  updatePlan,\n  getRoles,\n  updateRoles,\n  getPublicContent,\n  getUserBoard,\n  getModeratorBoard,\n  getAdminBoard,\n  getAdminPanel,\n};\n\nexport default UserService;\n","export default __webpack_public_path__ + \"static/media/SelectedPlan-en.85b85fc0.png\";","export default __webpack_public_path__ + \"static/media/SelectedPlan-it.a09948bf.png\";","export default __webpack_public_path__ + \"static/media/SelectedPlan-fr.749a5b1e.png\";","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport { useModal } from \"mui-modal-provider\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport Container from \"@mui/material/Container\";\nimport Grid from \"@mui/material/Grid\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Card from \"@mui/material/Card\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardHeader from \"@mui/material/CardHeader\";\nimport Button from \"@mui/material/Button\";\nimport Link from \"@mui/material/Link\";\nimport Switch from \"@mui/material/Switch\";\nimport FlexibleDialog from \"./FlexibleDialog\";\nimport i18n from \"i18next\";\nimport { toast } from \"./Toast\";\nimport SelectedPlanImage_en from \"../assets/images/SelectedPlan-en.png\";\nimport SelectedPlanImage_it from \"../assets/images/SelectedPlan-it.png\";\nimport SelectedPlanImage_fr from \"../assets/images/SelectedPlan-fr.png\";\nimport JobService from \"../services/JobService\";\nimport { getCurrentLanguage } from \"../libs/I18n\";\nimport { capitalize, currencyISO4217ToSymbol, errorMessage } from \"../libs/Misc\";\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  section: {\n  },\n  cardHeader: {\n    paddingTop: theme.spacing(3),\n  },\n  cardHeaderActive: {\n    //fontWeight: \"bold\",\n  },\n  cardHeaderTest: {\n    paddingBottom: 0,\n  },\n  cardTest: { // a style similar to Stripe's test tag\n    color: \"#bb571f\",\n    backgroundColor: \"#ffde92\",\n    borderRadius: 5,\n    fontSize: 14,\n    fontWeight: \"bold\",\n    padding: 2,\n    paddingLeft: 7,\n    paddingRight: 7,\n  },\n  card: {\n    transition: \"box-shadow .3s\",\n    borderRadius: 10,\n    border: \"1px solid #ccc\",\n    \"&:hover\": {\n      boxShadow: \"10px 10px 30px rgba(32, 32, 132, .5)\",\n    },\n  },\n  cardActive: {\n    backgroundColor: \"#e0e8ff\",\n  },\n  cardActiveImage: {\n    position: \"absolute\",\n    marginLeft: 50,\n    marginTop: -20,\n    maxWidth: 80,\n    transform: \"rotate(15deg)\",\n    opacity: 0.6,\n    zIndex: 999,\n  },\n  cardHr: {\n    border: \"1px solid #eee\",\n  },\n}));\n\n\n\nconst Pricing = props => {\nconsole.log(\"Pricing - props:\", props);\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const { showModal } = useModal();\n  const openDialog = (props) => showModal(FlexibleDialog, props);\n  const [perMonth, setPerMonth] = React.useState(false);\n  const [plans, setPlans] = useState([]);\n\n  const handleChangePerMonth = (event) => {\n    setPerMonth(event.target.checked);\n  };\n\n  // get user plans on load\n  useEffect(() => {\n    JobService.getPlans().then(\n      result => {\n        setPlans(result.data);\n      },\n      error => {\n        toast.error(errorMessage(error));\n      }\n    );\n  }, [setPlans]);\n\n  const isActivePlan = (p) => {\n    return props.currentPlan.name === p.name;\n  };\n  \n  const [language] = useState(getCurrentLanguage(i18n));\n  let selectedPlanImage = null;\n  switch (language) {\n    case \"en\": selectedPlanImage = SelectedPlanImage_en; break;\n    case \"it\": selectedPlanImage = SelectedPlanImage_it; break;\n    case \"fr\": selectedPlanImage = SelectedPlanImage_fr; break;\n    default: selectedPlanImage = SelectedPlanImage_en; break;\n  }\n\n  return (\n    <section className={classes.section}>\n      <Container>\n        <Box py={0} textAlign=\"center\">\n          <Box mb={0}>\n            <Container maxWidth=\"lg\">\n              <Typography variant=\"h3\" component=\"h2\" gutterBottom={true}>\n                <Typography variant=\"h6\" component=\"span\" color=\"primary\">{t(\"Choose the plan which best suits your needs\")}</Typography>\n              </Typography>\n              {(\n                (typeof plans[0]?.pricePerMonth !== \"undefined\") &&\n                (typeof plans[0]?.pricePerYear !== \"undefined\")\n              ) && (\n                <div>\n                  <Typography variant=\"subtitle1\" component=\"span\">{t(\"per year\")}</Typography>\n                    <span>\n                      &nbsp;\n                      <Switch name=\"checkbox\" color=\"primary\" checked={perMonth} onChange={handleChangePerMonth} />\n                      &nbsp;\n                    </span>\n                  <Typography variant=\"subtitle1\" component=\"span\">{t(\"per month\")}</Typography>\n                </div>\n              )}\n            </Container>\n          </Box>\n          <Grid container spacing={3}>\n            {plans.map((p, index) => {\nconsole.log(\"P:\", p);\n              return (\n              <Grid key={index} item xs={12} md={parseInt(plans.length ? 12 / plans.length : 12)}>\n                {isActivePlan(p) && (\n                  <img className={classes.cardActiveImage} src={selectedPlanImage} alt={t(\"Selected plan stamp\")} />\n                )}\n                <Card\n                  variant=\"outlined\"\n                  className={[classes.card, isActivePlan(p) ? classes.cardActive : null, /*props.paymentMode !== \"live\" ? classes.cardRibbonTest : null*/].join(\" \")}\n                >\n                  <CardHeader\n                    title={capitalize(t(p.name))}\n                    className={[classes.cardHeader, isActivePlan(p) ? classes.cardHeaderActive : null].join(\" \")}\n                    titleTypographyProps={isActivePlan(p) ? { /*fontWeight: \"bold\"*/ } : {}}\n                  >\n                  </CardHeader>\n                  {props.paymentMode !== \"live\" ? <span className={classes.cardTest}> TEST </span> : <></>}\n                  <hr className={classes.cardHr} />\n                  <CardContent>\n                    <Box px={1}>\n                      <Typography variant=\"h4\" component=\"h2\" gutterBottom={true} style={{fontWeight: \"bold\"}}>\n                        {currencyISO4217ToSymbol(p.priceCurrency)}\n                        {perMonth ? p.pricePerMonth : p.pricePerYear}\n                        {<Typography variant=\"h6\" color=\"textSecondary\" component=\"span\"> / {perMonth ? t(\"month\") : t(\"year\")}</Typography>}\n                      </Typography>\n                      <Typography color=\"textSecondary\" variant=\"subtitle1\" component=\"p\">{\n                        (p.cigNumberAllowed === Number.MAX_SAFE_INTEGER) ?\n                          t(\"Unlimited CIG's\")\n                        :\n                          t(\"Up to {{cigs}} CIG's\", {cigs: p.cigNumberAllowed})\n                      }</Typography>\n                      <Typography color=\"textSecondary\" variant=\"subtitle1\" component=\"div\">{\n                        p.supportTypes.map((supportType, index) => (\n                          <div key={index}>{t(\"Support\") + \" \" + t(\"by\") + \" \" + t(supportType)}</div>\n                        ))\n                      }</Typography>\n                      <br />\n                    </Box>\n                    <Button variant=\"contained\" color=\"secondary\"\n                      onClick={(e) => {\n                        openDialog({\n                          title: t(\"Sure to buy this plan?\"),\n                          contentText: t(\"It allows processing of \") +\n                            ((p.cigNumberAllowed === Number.MAX_SAFE_INTEGER) ?\n                              t(\"unlimited CIG's\")\n                                :\n                              t(\"up to {{cigs}} CIG's\", {cigs: p.cigNumberAllowed})\n                            ),\n                          actions: [\n                            {\n                              callback: () => {\n                                console.log(\"Clicked first action button\");\n                                props.onPlanSelected(e, p);\n                              },\n                              text: t(\"Ok\"),\n                              closeModal: true,\n                              // autoFocus: true,\n                            },\n                            {\n                              callback: () => {console.log(\"Clicked second action button\")},\n                              text: t(\"Cancel\"),\n                              closeModal: true,\n                            }\n                          ],\n                        });\n                      }}\n                      disabled={isActivePlan(p)}\n                    >{\n                      isActivePlan(p) ?\n                        t(\"Active plan\")\n                      :\n                        t(\"Select plan\")\n                    }\n                    </Button>\n                    {props.canForcePlan && (\n                      <>\n                        <Box mt={1} />\n                        <Button variant=\"contained\" color=\"tertiary\"\n                          onClick={(e) => {\n                            //props.currentPlan = plan;\n                            //setPlan(p)\n                            props.onPlanForced(e, p.name);\n                          }}\n                          disabled={isActivePlan(p)}\n                        >{\n                          t(\"Force plan\")\n                        }\n                        </Button>\n                      </>\n                    )}\n                    <Box mt={2}>\n                      <Link href=\"#\" color=\"primary\">{/* TODO: create a link (or popup) to give more details about selecting this plan... */}\n                        <small>{t(\"Learn more\")}</small>\n                      </Link>\n                    </Box>\n                  </CardContent>\n                </Card>\n              </Grid>\n            )})}\n          </Grid>\n        </Box>\n      </Container>\n    </section>\n  );\n}\n\nPricing.propTypes = {\n  currentPlan: PropTypes.object,\n  onPlanSelected: PropTypes.func,\n  canForcePlan: PropTypes.bool,\n  onPlanForced: PropTypes.func,\n};\n\nPricing.defaultProps = {\n  currentPlan: {},\n  onPlanSelected: (e) => console.log(\"Selected plan:\", e),\n  canForcePlan: false,\n  onPlanForced: (e) => console.log(\"Forced plan:\", e),\n};\n\nexport default React.memo(Pricing);\n","import api from \"./API\";\n\nconst mode = async() => {\n  return await api.get(\"/payment/mode\",\n  ).then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst createCheckoutSession = async({product}) => {\n  return await api.post(\"/payment/create-checkout-session\", {\n    product\n  }).then(\n    response => {\nconsole.log(\"CCS - res:\", response);\n      return response.data;\n    },\n    error => {\nconsole.log(\"CCS - err:\", error);\n      return error;\n    }\n  );\n};\n\nconst PaymentService = {\n  mode,\n  createCheckoutSession\n};\n\nexport default PaymentService;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useHistory/*, useLocation*/} from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { useBeforeunload } from \"react-beforeunload\";\nimport makeStyles from '@mui/styles/makeStyles';\nimport AppBar from \"@mui/material/AppBar\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport Typography from \"@mui/material/Typography\";\nimport FormControl from \"@mui/material/FormControl\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport Select from \"@mui/material/Select\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Grid from \"@mui/material/Grid\";\nimport Container from \"@mui/material/Container\";\nimport Box from \"@mui/material/Box\";\n//import Tooltip from \"@mui/material/Tooltip\";\nimport IconAvatar from \"@mui/icons-material/AccountBoxOutlined\";\nimport IconPerson from \"@mui/icons-material/Person\";\nimport IconEmail from \"@mui/icons-material/Email\";\nimport IconFiscalCode from \"@mui/icons-material/AssignmentInd\";\nimport IconBusinessName from \"@mui/icons-material/Business\";\nimport IconAddressStreet from \"@mui/icons-material/House\";\nimport IconAddressStreetNo from \"@mui/icons-material/LooksOne\";\nimport IconAddressCity from \"@mui/icons-material/LocationCity\";\nimport IconAddressProvince from \"@mui/icons-material/Room\";\nimport IconAddressZip from \"@mui/icons-material/Code\";\nimport IconAddressCountry from \"@mui/icons-material/Language\";\nimport Pricing from \"../../components/Pricing\";\nimport { errorMessage/*, capitalize*/ } from \"../../libs/Misc\";\nimport UserService from \"../../services/UserService\";\nimport TokenService from \"../../services/TokenService\";\nimport JobService from \"../../services/JobService\";\nimport PaymentService from \"../../services/PaymentService\";\nimport EventBus from \"../../libs/EventBus\";\nimport { toast } from \"../Toast\";\nimport { FormInput, FormButton } from \"../FormElements\";\nimport config from \"../../config\";\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    //backgroundColor: theme.palette.background.paper,\n  },\n  avatar: {\n    backgroundColor: theme.palette.success.main,\n  },\n  columnLeft: {\n    marginLeft: theme.spacing(0.2),\n  },\n  columnRight: {\n    marginLeft: \"auto\",\n    marginRight: theme.spacing(0.2),\n  },\n  form: {\n  },\n  fieldset: {\n    border: 0,\n  },\n  fieldsetPersonalData: {\n    color: \"#758c75\",\n    fontSize: 13,\n    border: 1,\n    borderStyle: \"solid\",\n    borderColor: \"#758c75\",\n    borderRadius: 5,\n  },\n  fieldsetCompanyData: {\n    color: \"#7a7aa5\",\n    fontSize: 13,\n    border: 1,\n    borderStyle: \"solid\",\n    borderColor: \"#7a7aa5\",\n    borderRadius: 5,\n  },\n  fieldsetAddress: {\n    color: \"#aaa\",\n    fontSize: 13,\n    border: 1,\n    borderStyle: \"solid\",\n    borderColor: \"#aaa\",\n    borderRadius: 5,\n  },\n  // title: {\n  //   width: \"100%\",\n  //   color: theme.palette.title.color,\n  //   //backgroundColor: '#ccc', //theme.palette.title.backgroundColor,\n  //   //borderRadius: 3,\n  //   display: \"flex\",\n  //   justifyContent: \"center\",\n  //   paddingTop: 3,\n  //   paddingBottom: 50,\n  //   paddingLeft: 10,\n  //   paddingRight: 10,\n  // },\n  formControlSelectPlan: {\n    minWidth: 200,\n  },\n  formControlSelectRole: {\n    minWidth: 200,\n  },\n  tab: {\n    backgroundColor: theme.palette.secondary.light,\n  },\n  tabIndicator: {\n    backgroundColor: theme.palette.secondary.dark,\n    height: 1,\n  },\n});\n\nconst useStyles = makeStyles((theme) => (styles(theme)));\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`,\n  };\n}\n\nconst PROFILE_PERSONAL = 0;\nconst PROFILE_PLAN = 1;\nconst PROFILE_ROLES = 2;\n\n\n\nfunction ProfileTabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-auto-tabpanel-${index}`}\n      aria-labelledby={`nav-tab-${index}`}\n      {...other}\n    >\n      <Box p={3}>\n        {children}\n      </Box>\n    </Typography>\n  );\n}\n\nProfileTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction Profile(props) {\n//console.log(\"PROFILE - props:\", props);\n  const classes = useStyles();\n  const history = useHistory();\n  //const location = useLocation();\n//console.log(\"PROFILE - location.state:\", location.state);\n  const [user, setUser] = useState(TokenService.getUser());\n  const [profile, setProfile] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [fiscalCode, setFiscalCode] = useState(\"\");\n  const [businessName, setBusinessName] = useState(\"\");\n  const [address, setAddress] = useState({});\n  const [addressStreet, setAddressStreet] = useState(\"\");\n  const [addressStreetNo, setAddressStreetNo] = useState(\"\");\n  const [addressCity, setAddressCity] = useState(\"\");\n  const [addressProvince, setAddressProvince] = useState(\"\");\n  const [addressZip, setAddressZip] = useState(\"\");\n  const [addressCountry, setAddressCountry] = useState(\"\");\n  const [paymentMode, setPaymentMode] = useState(\"\");\n  const [plan, setPlan] = useState({});\n  const [plans, setPlans] = useState([]);\n  const [roles, setRoles] = useState([]);\n  const [rolesNames, setRolesNames] = useState([]);\n  const [error, setError] = useState({});\n  const { t } = useTranslation();\n  const [tabValue, setTabValue] = React.useState(props?.location?.state?.tabValue ? props?.location?.state?.tabValue : 0);\n  const [anyProfileChanges, setAnyProfileChanges] = React.useState(false);\n  const [anyRolesChanges, setAnyRolesChanges] = React.useState(false);\n  const [anyPlanChanges, setAnyPlanChanges] = React.useState(false);\n\n  const handleChangeTabValue = (event, newValue) => {\n    setTabValue(newValue);\n  };\n  \n  // avoid page unload when unsaved changes present\n  useBeforeunload((event) => {\n    if (anyProfileChanges || anyRolesChanges || anyPlanChanges) {\n      event.preventDefault();\n    }\n  });\n  \n  // avoid history route change when unsaved changes present\n  useEffect(() => {\nconsole.log(\"useeffect block\");\n    const unblock = history.block((location, action) => {\n      if (anyProfileChanges || anyRolesChanges || anyPlanChanges) {\n        return window.confirm(t(\"Are you sure to ignore unsaved data?\"));\n      }\n      return true;\n    });\n  \n    return () => {\n      unblock();\n    };\n  }, [anyProfileChanges, anyRolesChanges, anyPlanChanges, history, t]);\n  \n  useEffect(() => {\nconsole.log(\"useeffect profile:\", profile);\n    if (profile) {\n      setEmail(profile.email ?? \"\");\n      setFirstName(profile.firstName ?? \"\");\n      setLastName(profile.lastName ?? \"\");\n      setFiscalCode(profile.fiscalCode ?? \"\");\n      setBusinessName(profile.businessName ?? \"\");\n      setAddressStreet(profile.address?.street ?? \"\");\n      setAddressStreetNo(profile.address?.streetNo ?? \"\");\n      setAddressCity(profile.address?.city ?? \"\");\n      setAddressProvince(profile.address?.province ?? \"\");\n      setAddressZip(profile.address?.zip ?? \"\");\n      setAddressCountry(profile.address?.country ?? \"\");\n      setPlan(profile.plan ?? {name: \"free\"});\n      setRoles(profile.roles ? profile.roles.map(role => role.name) : []);\n      setAnyProfileChanges(false);\n      setAnyRolesChanges(false);\n      setAnyPlanChanges(false);\n    }\n  }, [profile]);\n\n  useEffect(() => {\nconsole.log(\"useeffect user.id\");\n    if (!user?.id) {\n      toast.error(t(\"User must be authenticated\"));\n      history.goBack();\n    }\n  }, [user?.id, history, t]);\n\n  // get user profile on load\n  useEffect(() => {\nconsole.log(\"useeffect getProfile\");\n    UserService.getProfile().then(\n      result => {\n        if (result instanceof Error) {\n          console.error(\"getProfile error:\", result);\n          return setError({ code: result.message });\n        }\n        //console.log(`profile got successfully:`, result);\n        setProfile(result.user); // we have to update local state outside this useEffect, otherwise there is a really long delay in each set function...\n      }\n    );\n    JobService.getPlans().then(\n      result => {\n        if (result instanceof Error) {\n          console.error(\"getPlans error:\", result);\n          return setError({ code: result.message });\n        }\n    console.log(`plans got successfully:`, result);\n        setPlans(result.data);\n      }\n    );\n    UserService.getRoles().then(\n      result => {\n        if (result instanceof Error) {\n          console.error(\"getRoles error:\", result);\n          return setError({ code: result.message });\n        }\nconsole.log(`roles got successfully:`, result);\n        setRolesNames(result.map(role => role.name));\n      }\n    );\n    PaymentService.mode().then(\n      result => {\n        if (result instanceof Error) {\n          console.error(\"mode error:\", result);\n          return setError({ code: result.message });\n        }\n        console.log(\"mode:\", result);\n        setPaymentMode(result.mode);\n      }\n    );\n  }, [user?.id]);\n  \n  useEffect(() => {\n    setAddress({\n      street: addressStreet,\n      streetNo: addressStreetNo,\n      city: addressCity,\n      province: addressProvince,\n      zip: addressZip,\n      country: addressCountry,\n    });\n  }, [addressStreet, addressStreetNo, addressCity, addressProvince, addressZip, addressCountry]);\n\n  const createCheckoutSession = (product) => {\n    PaymentService.createCheckoutSession({product: product.name}).then(\n      result => {\nconsole.log(`createCheckoutSession got successfully:`, result);\n        if (!result?.session?.url) {\n          return toast.error(t(\"Sorry, could not get the payment page\"));\n        }\n        window.location = result.session.url; // redirect to payment session success_url\n      },\n      error => {\n        console.error(\"createCheckoutSession error:\", error);\n        toast.error(errorMessage(error));\n      },\n    );\n  };\n\n  const formProfileUpdate = (e) => {\n    e.preventDefault();\n    setError({});\n\n    UserService.updateProfile({\n      email,\n      firstName,\n      lastName,\n      fiscalCode,\n      businessName,\n      address,\n      roles,\n    }).then(\n      result => {\n        if (result instanceof Error) {\n          console.error(\"profileUpdate error:\", result);\n          toast.warn(errorMessage(result));\n          return setError({ code: result.message });\n        }\n        setAnyProfileChanges(false);\n        toast.success(t(\"Profile updated successfully\"));\n      }\n    );\n  };\n\n  const formRolesUpdate = (e) => {\n    // refresh user roles in local state and in token service (local storage) too\n    user.roles = ((String)(roles)).split(\",\");\nconsole.log(\"USER.ROLES:\", user.roles, typeof user.roles);\n    if (!user.roles || !user.roles.length || user.roles.every(role => role === \"\")) {\n      user.roles = config.api.rolesNamesDefault; // if empty roles, use rolesNamesDefault\n      setRoles(user.roles);\nconsole.log(\"USER.ROLES DEFAULTS TO:\", user.roles, typeof user.roles);\n    }\nconsole.log(\"*** USER:\", user);\n    setUser(user);\n    TokenService.setUser(user);\n    UserService.updateRoles({\n      roles: user.roles,\n    }).then(\n      result => {\n        if (result instanceof Error) {\n          console.error(\"profileUpdate error:\", result);\n          toast.error(errorMessage(result));\n          return setError({ code: result.message });\n        }\n        setRoles(user.roles);\n        setAnyRolesChanges(false);\n        EventBus.dispatch(\"roles-change\");\n        toast.success(t(\"Roles updated successfully\"));\n      }\n    );\n  };\n\n  const formPlanSelect = (e, plan) => {\n    // TODO: what to do with free plan selected?\n    // TODO: what to do with plan downgrade?\n    createCheckoutSession(plan);\n  }\n\n  const formPlanForce = (e, planName) => {\n//console.log(\"formPlanForce:\", e);\n    if (userCanForcePlan()) {\n      const p = plans.find(plan => plan.name === planName);\n      //setPlan(p);\n      user.plan = p;\n      setUser(user);\n      TokenService.setUser(user);\n      UserService.updatePlan({\n        plan: p.name,\n      }).then(\n        result => {\n          if (result instanceof Error) {\n            console.error(\"profileUpdate error:\", result);\n            toast.error(errorMessage(result));\n            return setError({ code: result.message });\n          }\n          setPlan(plan);\n          setAnyPlanChanges(false);\n          EventBus.dispatch(\"plan-change\");\n          toast.success(t(\"Plan forced successfully\"));\n        },\n        // error => {\n        //   console.error(\"profileUpdate error:\", result);\n        //   toast.error(errorMessage(result));\n        //   return setError({ code: result.message });\n        // }\n      );\n    }\n  };\n\n  const userCanUpdateRoles = ()  => {\n    return user?.roles?.includes(\"admin\");\n  };\n\n  const userCanForcePlan = ()  => {\n    return user?.roles?.includes(\"admin\");\n  };\n  \n  return (\n    <div className={classes.root}>\n\n      <Container maxWidth={\"sm\"}>\n        <Box m={1} />\n\n        <Grid container justifyContent=\"center\">\n          <Avatar className={classes.avatar}>\n            <IconAvatar />\n          </Avatar>\n        </Grid>\n\n        <Box m={3} />\n\n        <AppBar position=\"static\">\n          <Tabs\n            value={tabValue}\n            onChange={handleChangeTabValue}\n            variant=\"standard\"\n            aria-label=\"tabs for user's personal profile\"\n            classes={{\n              indicator: classes.tabIndicator\n            }}\n            className={classes.tab}\n          >\n            <Tab label={t(\"Your profile\")} {...a11yProps(0)} />\n            <Tab label={t(\"Your plan\")} {...a11yProps(1)} />\n            <Tab label={t(\"Your role(s)\")} {...a11yProps(2)} />\n          </Tabs>\n        </AppBar>\n      </Container>\n\n      <Container maxWidth={(tabValue === PROFILE_PLAN) ? \"md\" : \"sm\"}>\n        {(tabValue === PROFILE_PERSONAL) &&\n        <ProfileTabPanel value={tabValue} index={PROFILE_PERSONAL}>\n      \n          <form name=\"form\" className={classes.form} noValidate autoComplete=\"off\">\n            <fieldset className={classes.fieldset}>\n\n              <Box m={3} />\n\n              <fieldset className={classes.fieldsetPersonalData}>\n                <legend>{t(\"Personal data\")}</legend>\n\n                {/* <Tooltip\n                  title={t(\"Email\")}\n                  placement={\"left\"}\n                > */}\n                  <Grid item xs={12}>\n                    <FormInput\n                      id={\"email\"}\n                      value={email}\n                      onChange={v => { setAnyProfileChanges(true); setEmail(v); }}\n                      placeholder={t(\"Email\")}\n                      startAdornmentIcon={<IconEmail />}\n                      error={error.email}\n                      autoFocus\n                    />\n                  </Grid>\n                {/* </Tooltip> */}\n\n                <Grid container direction={\"row\"} columnSpacing={{xs: 1, sm: 2, md: 3, lg: 4}} rowSpacing={0}>\n                  {/* <Tooltip\n                    title={t(\"First name\")}\n                    placement={\"left\"}\n                  > */}\n                    <Grid item xs={12} sm={6}>\n                      <FormInput\n                        id={\"firstName\"}\n                        value={firstName}\n                        onChange={v => { setAnyProfileChanges(true); setFirstName(v); }}\n                        placeholder={t(\"First Name\")}\n                        startAdornmentIcon={<IconPerson />}\n                        error={error.firstName}\n                      />\n                    </Grid>\n                  {/* </Tooltip> */}\n\n                  {/* <Tooltip\n                      title={t(\"Last name\")}\n                      placement={\"left\"}\n                    > */}\n                    <Grid item xs={12} sm={6}>\n                      <FormInput\n                        id={\"lastName\"}\n                        value={lastName}\n                        onChange={v => { setAnyProfileChanges(true); setLastName(v); }}\n                        placeholder={t(\"Last Name\")}\n                        startAdornmentIcon={<IconPerson />}\n                        error={error.lastName}\n                      />\n                    </Grid>\n                  {/* </Tooltip> */}\n                </Grid>\n              </fieldset>\n\n              <Box m={1} />\n\n              <fieldset className={classes.fieldsetCompanyData}>\n                <legend>{t(\"Company data\")}</legend>\n\n                <Grid container direction={\"row\"} columnSpacing={{xs: 1, sm: 2, md: 3, lg: 4}} rowSpacing={0}>\n                  {/* <Tooltip\n                    title={t(\"Company fiscal code\")}\n                    placement={\"left\"}\n                  > */}\n                    <Grid item xs={12}>\n                      <FormInput\n                        id={\"fiscalCode\"}\n                        value={fiscalCode}\n                        onChange={v => { setAnyProfileChanges(true); setFiscalCode(v); }}\n                        placeholder={t(\"Company fiscal code\")}\n                        startAdornmentIcon={<IconFiscalCode />}\n                        error={error.fiscalCode}\n                      />\n                    </Grid>\n                  {/* </Tooltip> */}\n\n                  {/* <Tooltip\n                    title={t(\"Company business name\")}\n                    placement={\"left\"}\n                  > */}\n                    <Grid item xs={12}>\n                      <FormInput\n                        id={\"businessName\"}\n                        value={businessName}\n                        onChange={v => { setAnyProfileChanges(true); setBusinessName(v); }}\n                        placeholder={t(\"Company business name\")}\n                        startAdornmentIcon={<IconBusinessName />}\n                        error={error.businessName}\n                      />\n                    </Grid>\n                  {/* </Tooltip> */}\n                </Grid>\n                  \n                <Box m={1} />\n\n                <fieldset className={classes.fieldsetAddress}>\n                  <legend>{t(\"Address\")}</legend>\n\n                  <Grid container direction={\"row\"} columnSpacing={{xs: 1, sm: 2, md: 3, lg: 4}} rowSpacing={0}>\n                    {/* <Tooltip\n                      title={t(\"Address street\")}\n                      placement={\"left\"}\n                    > */}\n                      <Grid item xs={12} sm={8}>\n                        <FormInput\n                          id={\"addressStreet\"}\n                          value={addressStreet}\n                          onChange={v => { setAnyProfileChanges(true); setAddressStreet(v); }}\n                          placeholder={t(\"Street\")}\n                          startAdornmentIcon={<IconAddressStreet />}\n                          error={error.addressStreet}\n                        />\n                      </Grid>\n                    {/* </Tooltip> */}\n\n                    {/* <Tooltip\n                      title={t(\"Address street number\")}\n                      placement={\"left\"}\n                    > */}\n                      <Grid item xs={12} sm={4}>\n                        <FormInput\n                          id={\"addressStreetNo\"}\n                          value={addressStreetNo}\n                          onChange={v => { setAnyProfileChanges(true); setAddressStreetNo(v); }}\n                          placeholder={t(\"NÂ°\")}\n                          startAdornmentIcon={<IconAddressStreetNo />}\n                          error={error.addressStreetNo}\n                        />\n                      </Grid>\n                    {/* </Tooltip> */}\n\n                    {/* <Tooltip\n                      title={t(\"Address city\")}\n                      placement={\"left\"}\n                    > */}\n                      <Grid item xs={12}>\n                        <FormInput\n                          id={\"addressCity\"}\n                          value={addressCity}\n                          onChange={v => { setAnyProfileChanges(true); setAddressCity(v); }}\n                          placeholder={t(\"City\")}\n                          startAdornmentIcon={<IconAddressCity />}\n                          error={error.addressCity}\n                        />\n                      </Grid>\n                    {/* </Tooltip> */}\n        \n                    {/* <Tooltip\n                      title={t(\"Address province\")}\n                      placement={\"left\"}\n                    > */}\n                      <Grid item xs={12} sm={7}>\n                        <FormInput\n                          id={\"addressProvince\"}\n                          value={addressProvince}\n                          onChange={v => { setAnyProfileChanges(true); setAddressProvince(v); }}\n                          placeholder={t(\"Province\")}\n                          startAdornmentIcon={<IconAddressProvince />}\n                          error={error.addressProvince}\n                        />\n                      </Grid>\n                    {/* </Tooltip> */}\n        \n                    {/* <Tooltip\n                      title={t(\"Address ZIP code\")}\n                      placement={\"left\"}\n                    > */}\n                      <Grid item xs={12} sm={5}>\n                        <FormInput\n                          id={\"addressZip\"}\n                          value={addressZip}\n                          onChange={v => { setAnyProfileChanges(true); setAddressZip(v); }}\n                          placeholder={t(\"ZIP\")}\n                          startAdornmentIcon={<IconAddressZip />}\n                          error={error.addressZip}\n                        />\n                      </Grid>\n                    {/* </Tooltip> */}\n\n                    {/* <Tooltip\n                      title={t(\"Address country\")}\n                      placement={\"left\"}\n                    > */}\n                      <Grid item xs={12}>\n                        <FormInput\n                          id={\"addressCountry\"}\n                          value={addressCountry}\n                          onChange={v => { setAnyProfileChanges(true); setAddressCountry(v); }}\n                          placeholder={t(\"Country\")}\n                          startAdornmentIcon={<IconAddressCountry />}\n                          error={error.addressCountry}\n                        />\n                      </Grid>\n                    {/* </Tooltip> */}\n                  </Grid>\n\n                </fieldset>\n              </fieldset>\n            </fieldset>\n          </form>\n        </ProfileTabPanel>\n        }\n\n        {(tabValue === PROFILE_PLAN) &&\n        <ProfileTabPanel value={tabValue} index={PROFILE_PLAN}>\n          <form className={classes.form} noValidate autoComplete=\"off\">\n            <fieldset className={classes.fieldset}>\n              <Pricing\n                currentPlan={plan}\n                onPlanSelected={formPlanSelect}\n                canForcePlan={userCanForcePlan()}\n                onPlanForced={formPlanForce}\n                paymentMode={paymentMode}\n              />\n            </fieldset>\n          </form>\n        </ProfileTabPanel>\n        }\n\n        {(tabValue === PROFILE_ROLES) &&\n        <ProfileTabPanel value={tabValue} index={PROFILE_ROLES}>\n          <form className={classes.form} noValidate autoComplete=\"off\">\n            <fieldset className={classes.fieldset}>\n\n              <Box m={3} />\n\n                {/* <Tooltip\n                  title={\n                    userCanUpdateRoles() ?\n                      t(\"Role(s)\") + \" (\" + t(\"select one or more role\") + \")\"\n                    :\n                      t(\"Your role(s)\")\n                  }\n                  placement={\"left\"}\n                > */}\n                  <Grid item xs={12}>\n                    <FormControl variant=\"outlined\" className={classes.formControlSelectRole}>\n                      <InputLabel id=\"roles-label\">{t(\"Role(s)\")}</InputLabel>\n                      <Select\n                        labelId=\"roles-label\"\n                        id=\"roles\"\n                        multiple\n                        value={roles}\n                        onChange={e => { setAnyRolesChanges(true); setRoles(e.target.value); }}\n                        label={t(\"Role(s)\")}\n                        disabled={!userCanUpdateRoles()}\n                      >\n                        {rolesNames.map((role, index) => (\n                          <MenuItem key={index} value={role}>{role}</MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Grid>\n                {/* </Tooltip> */}\n            </fieldset>\n          </form>\n        </ProfileTabPanel>\n        }\n      </Container>\n\n      {(tabValue === PROFILE_PERSONAL) && (\n        <Grid container justifyContent=\"center\">\n          <FormButton\n            fullWidth={false}\n            className={\"buttonSecondary\"}\n            autoFocus={true}\n            onClick={formProfileUpdate}\n          >\n            {t(\"Update\")}\n          </FormButton>\n        </Grid>\n      )}\n\n      {(tabValue === PROFILE_ROLES) && userCanUpdateRoles() && (\n        <Grid container justifyContent=\"center\">\n          <FormButton\n            fullWidth={false}\n            className={\"buttonSecondary\"}\n            autoFocus={true}\n            onClick={formRolesUpdate}\n            //disabled={!userCanUpdateRoles()}\n          >\n            {t(\"Update\")}\n          </FormButton>\n        </Grid>\n      )}\n      <Box m={1} />\n\n    </div>\n  );\n}\n\nProfile.propTypes = {\n  tabValue: PropTypes.number,\n};\n\nProfile.defaultProps = {\n  tabValue: PROFILE_PERSONAL,\n};\n\n\n\nexport default React.memo(Profile);\n"],"sourceRoot":""}