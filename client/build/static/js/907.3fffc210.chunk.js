"use strict";(self.webpackChunkquiccasa_client=self.webpackChunkquiccasa_client||[]).push([[907],{6473:function(e,n,r){r.d(n,{OL:function(){return v},z8:function(){return x},NR:function(){return j},yt:function(){return h},Kv:function(){return Z},R9:function(){return y}});var t=r(6515),o=r(390),a=r(2420),i=r(7762),c=r(1426),s=r(3383),l=r(3999),u=r(1395),d=r(1846),f=r(3447),m=function(e,n){return"#"+e.replace(/^#/,"").replace(/../g,(function(e){return("0"+Math.min(255,Math.max(0,parseInt(e,16)+n)).toString(16)).substr(-2)}))},g=r(3137),p=r(2559),h=o.memo((function(e){var n=(0,d.Z)((function(e){return{startAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:-15,marginRight:5,paddingLeft:10,paddingRight:10,borderRight:"1px solid #c5c5c5"},endAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:5,marginRight:-15,paddingLeft:10,paddingRight:10,borderLeft:"1px solid #c5c5c5"}}}))();return(0,p.jsx)(i.Z,{id:e.id,type:e.type,value:e.value,required:e.required,autoFocus:e.autoFocus,autoComplete:e.autoComplete.toString(),variant:e.variant,fullWidth:e.fullWidth,label:e.label,size:e.size,margin:e.margin,className:e.className?e.className:n.textField,placeholder:e.placeholder,onChange:function(n){return e.onChange(n.target.value)},disabled:e.disabled,error:!(0,g.Qr)(e.error),InputProps:{startAdornment:e.startAdornmentIcon?(0,p.jsx)(f.Z,{className:e.startAdornmentClass?e.startAdornmentClass:n.startAdornment,position:"start",children:e.startAdornmentIcon}):(0,p.jsx)(p.Fragment,{}),endAdornment:e.endAdornmentIcon?(0,p.jsx)(f.Z,{className:e.endAdornmentClass?e.endAdornmentClass:n.endAdornment,position:"end",children:e.endAdornmentIcon}):(0,p.jsx)(p.Fragment,{}),className:n.input}})}));h.defaultProps={type:"text",required:!1,autoFocus:!1,autoComplete:!1,variant:"outlined",fullWidth:!0,label:"",size:"small",margin:"dense",className:null,placeholder:"",startAdornmentClass:null,endAdornmentClass:null,disabled:!1,error:""};var v=o.memo((function(e){var n=(0,d.Z)((function(e){return function(e){return{button:{margin:e.spacing(1,0,0,0),textTransform:"none",fontSize:"1.3em",color:"white",backgroundColor:e.palette.success.main,"&:hover":{backgroundColor:m(e.palette.success.main,-25)}},buttonSecondary:{margin:e.spacing(1,0,0,0),textTransform:"none",fontSize:"1em !important",color:"white",backgroundColor:e.palette.secondary.dark+" !important","&:hover":{backgroundColor:m(e.palette.secondary.dark,-25)+" !important"}},buttonFederated:{margin:e.spacing(1,0,0,0),justifyContent:"flex-start",paddingLeft:e.spacing(5),fontSize:"1.3em"},buttonFederatedFacebook:{backgroundColor:e.palette.socialButtons.facebook.backgroundColor,"&:hover":{backgroundColor:m(e.palette.socialButtons.facebook.backgroundColor,-25)}},buttonFederatedGoogle:{backgroundColor:e.palette.socialButtons.google.backgroundColor,"&:hover":{backgroundColor:m(e.palette.socialButtons.google.backgroundColor,-25)}}}}(e)}))();return(0,p.jsx)(a.Z,{fullWidth:e.fullWidth,variant:e.variant,color:e.color,size:e.size,className:"".concat(n.button," ").concat(e.social?n.buttonFederated:""," ").concat(e.social?n["buttonFederated"+(0,g.kC)(e.social)]:""," ").concat(n[e.className]),startIcon:e.startIcon,onClick:e.onClick,disabled:e.disabled,children:e.children})}));v.defaultProps={fullWidth:!0,variant:"contained",color:"primary",social:null};var x=o.memo((function(e){var n=(0,d.Z)((function(e){return{disabled:{color:"grey",cursor:"default","&:hover":{textDecoration:"none"}}}}))(),r=e.disabled?n.disabled:"";return(0,p.jsx)(c.Z,{control:(0,p.jsx)(s.Z,{checked:e.checked,onChange:function(n){return e.onChange(n.target.checked)},className:"".concat(e.className," ").concat(r),color:e.color,size:e.size,disabled:e.disabled}),label:(0,p.jsx)(y,{className:"".concat(e.className," ").concat(r),children:e.children})})}));x.defaultProps={checked:!1,color:"primary",size:"small"};var y=o.memo((function(e){return(0,p.jsx)(u.Z,(0,t.Z)((0,t.Z)({component:e.component,variant:e.variant,color:e.color,align:e.align},e),{},{children:e.children}))}));y.defaultProps={component:"h1",variant:"body2",color:"textPrimary"};var Z=o.memo((function(e){var n=(0,d.Z)((function(e){return{normal:{cursor:"pointer"},disabled:{color:"grey",cursor:"default","&:hover":{textDecoration:"none",color:"grey"}}}}))(),r=e.disabled?n.disabled:n.normal;return(0,p.jsx)(l.Z,(0,t.Z)((0,t.Z)({href:e.href,className:"".concat(e.className," ").concat(r),color:e.color},e),{},{children:e.children}))}));Z.defaultProps={color:"textPrimary"};var j=o.memo((function(e){var n=(0,d.Z)((function(n){return function(n){return{container:{display:"flex",alignItems:"center",marginTop:n.spacing(e.marginVertical),marginBottom:n.spacing(e.marginVertical)},divider:{width:"100%",borderBottom:"1px solid "+(e.color?e.color:n.palette.primary.dark),paddingLeft:n.spacing(1)},text:{paddingLeft:n.spacing(e.paddingHorizontal),paddingRight:n.spacing(e.paddingHorizontal)}}}(n)}))();return(0,p.jsxs)("div",{className:n.container,children:[(0,p.jsx)("div",{className:n.divider}),e.children&&(0,p.jsx)("span",{className:n.text,children:e.children}),(0,p.jsx)("div",{className:n.divider})]})}));j.defaultProps={marginVertical:1,paddingHorizontal:1}},3907:function(e,n,r){r.r(n);var t=r(6515),o=r(3430),a=r(390),i=r(971),c=r(6369),s=r(6444),l=r(3721),u=r(1846),d=r(1732),f=r(119),m=r(7530),g=r(8282),p=r(1395),h=r(1411),v=r(2398),x=r(9797),y=r(6826),Z=r(7379),j=r(5416),C=r(3764),b=r(1484),S=r(1855),w=r(6715),k=r(4100),A=r(6473),N=r(5782),z=r(2600),P=r.n(z),I=r(1661),E=r(2559),L=(0,u.Z)((function(e){return function(e){return{avatar:{backgroundColor:e.palette.success.main},columnLeft:{marginLeft:e.spacing(.2)},columnRight:{marginLeft:"auto",marginRight:e.spacing(.2)},fieldset:{border:0},dialogContent:{whiteSpace:"pre-line"}}}(e)}));function U(){var e=L(),n=(0,i.k6)(),r=(0,a.useState)(""),u=(0,o.Z)(r,2),z=u[0],U=u[1],R=(0,a.useState)(""),F=(0,o.Z)(R,2),O=F[0],T=F[1],M=(0,a.useState)(""),W=(0,o.Z)(M,2),J=W[0],D=W[1],H=(0,a.useState)(""),B=(0,o.Z)(H,2),G=B[0],V=B[1],q=(0,a.useState)(""),_=(0,o.Z)(q,2),$=_[0],K=_[1],Q=(0,a.useState)(""),Y=(0,o.Z)(Q,2),X=Y[0],ee=Y[1],ne=(0,a.useState)(!1),re=(0,o.Z)(ne,2),te=re[0],oe=re[1],ae=(0,a.useState)(""),ie=(0,o.Z)(ae,2),ce=ie[0],se=ie[1],le=(0,a.useState)({}),ue=(0,o.Z)(le,2),de=ue[0],fe=ue[1],me=(0,a.useState)({xs:!0,horizontalSpacing:0}),ge=(0,o.Z)(me,2),pe=ge[0],he=ge[1],ve=(0,a.useState)(!1),xe=(0,o.Z)(ve,2),ye=xe[0],Ze=xe[1],je=(0,a.useState)(null),Ce=(0,o.Z)(je,2),be=Ce[0],Se=Ce[1],we=(0,a.useState)(null),ke=(0,o.Z)(we,2),Ae=ke[0],Ne=ke[1],ze=(0,a.useState)(null),Pe=(0,o.Z)(ze,2),Ie=Pe[0],Ee=Pe[1],Le=(0,s.WH)({delay:P().spinner.delay}).promiseInProgress,Ue=(0,l.$)().t,Re=function(){Ze(!1),Se(null),Ne(null),Ie&&Ie()};(0,a.useEffect)((function(){var e=function(){window.innerWidth<P().extraSmallWatershed?he((function(e){return(0,t.Z)((0,t.Z)({},e),{},{xs:!0,rowSpacing:0})})):he((function(e){return(0,t.Z)((0,t.Z)({},e),{},{xs:!1,rowSpacing:2})}))};return e(),window.addEventListener("resize",(function(){return e()})),function(){window.removeEventListener("resize",(function(){return e()}))}}),[]);var Fe=function(){oe(!1),D(""),se(""),n.push("/signin")};return(0,E.jsxs)(m.Z,{maxWidth:"xs",children:[(0,E.jsx)("form",{className:e.form,noValidate:!0,autoComplete:"off",children:(0,E.jsxs)("fieldset",{disabled:Le,className:e.fieldset,children:[!te&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(g.Z,{m:1}),(0,E.jsx)(f.Z,{container:!0,justifyContent:"center",children:(0,E.jsx)(d.Z,{className:e.avatar,children:(0,E.jsx)(Z.Z,{})})}),(0,E.jsx)(g.Z,{m:3}),(0,E.jsx)(f.Z,{container:!0,justifyContent:"flex-start",children:(0,E.jsx)(A.R9,{children:Ue("Register with your data")})}),(0,E.jsx)(g.Z,{m:1}),(0,E.jsxs)(f.Z,{container:!0,direction:"row",spacing:pe.rowSpacing,children:[(0,E.jsx)(f.Z,{item:!0,xs:12,sm:6,children:(0,E.jsx)(A.yt,{autoFocus:!0,id:"firstName",value:z,onChange:U,placeholder:Ue("First Name"),startAdornmentIcon:(0,E.jsx)(C.Z,{}),error:de.firstName})}),(0,E.jsx)(f.Z,{item:!0,xs:12,sm:6,children:(0,E.jsx)(A.yt,{id:"lastName",value:O,onChange:T,placeholder:Ue("Last Name"),startAdornmentIcon:(0,E.jsx)(C.Z,{}),error:de.lastName})})]}),(0,E.jsx)(A.yt,{id:"email",value:J,onChange:D,placeholder:Ue("Email"),startAdornmentIcon:(0,E.jsx)(b.Z,{}),error:de.email}),(0,E.jsx)(A.yt,{id:"password",type:"password",value:G,onChange:V,placeholder:Ue("Password"),startAdornmentIcon:(0,E.jsx)(S.Z,{}),error:de.password}),(0,E.jsx)(A.yt,{id:"passwordConfirmed",type:"password",value:$,onChange:K,placeholder:Ue("Password confirmation"),startAdornmentIcon:(0,E.jsx)(S.Z,{}),error:de.passwordConfirmed}),(0,E.jsx)(g.Z,{m:1}),(0,E.jsx)(A.OL,{onClick:function(e){e.preventDefault(),function(){if(!(0,N.k)(J)){var e=Ue("Please supply a valid email");return fe({email:e}),k.A.warning(e),!1}if(!G){var n=Ue("Please supply a password");return fe({password:n}),k.A.warning(n),!1}if(!(0,N.o)(G)){var r=Ue("Please supply a more complex password");return fe({password:r}),k.A.warning(r),!1}if(!$){var t=Ue("Please confirm the password");return fe({passwordConfirmed:t}),k.A.warning(t),!1}if(G!==$){var o=Ue("The confirmed password does not match the password");return fe({passwordConfirmed:o}),k.A.warning(o),!1}return!0}()&&(fe({}),(0,w.y1)({email:J,password:G,firstName:z,lastName:O},{success:function(e){console.log("signUp success:",e);var n=e.codeDeliveryMedium.toLowerCase();k.A.info(Ue("Confirmation code just sent by {{medium}}",{medium:n})),ee(n),oe(!0),V("")},error:function(e){if(console.error("signup error:",e),"UsernameExistsException"===e.code)fe({email:e.message}),k.A.warning(Ue(e.message));else fe({}),k.A.error(Ue(e.message))}}))},children:Ue("Sign Up")}),(0,E.jsx)(g.Z,{m:3}),(0,E.jsx)(f.Z,{container:!0,justifyContent:"flex-start",children:(0,E.jsxs)(A.R9,{component:"h6",variant:"caption",color:"textSecondary",align:"center",children:[Ue("By signing up you agree to our")," ",(0,E.jsx)(A.Kv,{component:c.rU,to:"/terms-of-use",color:"textPrimary",children:Ue("terms of use")})," "," ",Ue("and you confirm you have read our")," ",(0,E.jsx)(A.Kv,{component:c.rU,to:"/privacy-policy",color:"textPrimary",children:Ue("privacy policy")}),", "," ",Ue("including cookie use")," ","."]})}),(0,E.jsx)(g.Z,{m:1})]}),te&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(A.yt,{id:"signUpCode",type:"number",value:ce,onChange:se,placeholder:Ue("Numeric code just received by {{codeDeliveryMedium}}",{codeDeliveryMedium:X}),startAdornmentIcon:(0,E.jsx)(j.Z,{}),error:de.code}),(0,E.jsx)(A.OL,{onClick:function(e){e.preventDefault(),ce.length<=0&&(fe({code:Ue("Code is mandatory")}),1)||(fe({}),(0,w._f)({email:J,code:ce},{success:function(e){var n,r,t;console.log("confirmSignup success:",e),n=Ue("Registered successfully"),r=Ue("You can now sign in with email and password."),t=function(){return Fe},Se(n),Ne(r),Ee(t),Ze(!0)},error:function(e){console.error("confirmSignUp error:",e),(0,I.ci)("confirmSignUp",e),k.A.error(Ue(e.message)),fe({code:e.message})}}))},children:Ue("Confirm Sign Up")}),(0,E.jsx)(f.Z,{container:!0,justifyContent:"flex-end",children:(0,E.jsx)(A.OL,{onClick:function(e){e.preventDefault(),fe({}),(0,w.Rv)(J,{success:function(e){k.A.info(Ue("Code resent successfully by {{codeDeliveryMedium}}",{codeDeliveryMedium:X}))},error:function(e){console.error("resendSignUp error:",e),(0,I.ci)("confirmSignUp",e),k.A.error(Ue(e.message)),fe({code:e.message})}})},fullWidth:!1,className:"buttonSecondary",children:Ue("Resend code")})})]})]})}),(0,E.jsxs)(h.Z,{open:ye,onClose:Re,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,E.jsx)(y.Z,{id:"alert-dialog-title",children:be}),(0,E.jsx)(x.Z,{id:"alert-dialog-description",children:(0,E.jsx)(p.Z,{variant:"body1",className:e.dialogContent,children:Ae})}),(0,E.jsx)(v.Z,{children:(0,E.jsx)(A.OL,{onClick:Re,fullWidth:!1,className:"buttonSecondary",autoFocus:!0,children:Ue("Ok")})})]})]})}n.default=a.memo(U)},6715:function(e,n,r){r.d(n,{_f:function(){return h},t$:function(){return g},gF:function(){return v},vG:function(){return y},kk:function(){return Z},Rv:function(){return x},zB:function(){return m},w7:function(){return j},y1:function(){return p}});var t=r(6515),o=r(6444),a=r(971),i=r(2600),c=r.n(i),s=r(3137),l=r(2559),u={signUp:function(e){return d("/api/auth/register","POST",e)},confirmSignUp:function(e){return d("/api/auth/verify/".concat(e.code),"GET",e)},signIn:function(e){return d("/api/auth/login","POST",e)},federatedSignIn:function(e){return console.log("*********************",(0,s.lf)(),e),(0,l.jsx)(a.l_,{to:"/api/auth/loginGoogle"})},currentAuthenticatedUser:function(e){return new Promise((function(e,n){var r=JSON.parse(localStorage.getItem("auth"));r?e(r.user):n()}))},signOut:function(e){return new Promise((function(e,n){e()}))}},d=function(e,n,r){return console.log("fetcher:",e,n,r),new Promise((function(o,a){"GET"===n&&r&&(e+="?"+Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&")),console.log("fetcher url 2:",e);var i=(0,t.Z)((0,t.Z)({method:n,headers:new Headers(c().api.headers)},r&&"GET"!==n&&{body:JSON.stringify(r)}),{},{redirect:c().api.redirect});console.log("fetcher opt:",i),fetch(e,(0,t.Z)((0,t.Z)({method:n,headers:new Headers(c().api.headers)},r&&"GET"!==n&&{body:JSON.stringify(r)}),{},{redirect:c().api.redirect})).then((function(n){console.log("fetcher res:",n);try{n.json().then((function(r){console.log("fetcher from ".concat(e," data:"),r),n.ok||a({status:n.status,statusText:n.statusText,message:r.message?r.message:n.statusText}),o(r)}))}catch(r){console.error("fetch ".concat(e," error:"),r)}})).catch((function(n){console.error("fetch ".concat(e," error:"),n),a(n)}))}))},f=u;function m(e,n){var r=n.success,a=n.error,i=n.final;(0,o.JE)(f.signIn((0,t.Z)({},e)).then((function(e){console.log("success:",e),r(e)})).catch((function(e){console.log("error:",e),a(e)})).finally((function(e){return i(e)})))}function g(e,n){var r=n.success,o=n.error,a=n.final;f.federatedSignIn((0,t.Z)({},e)).then((function(e){return r(e)})).catch((function(e){return o(e)})).finally((function(e){return a(e)}))}function p(e,n){var r=n.success,a=n.error,i=n.final;(0,o.JE)(f.signUp((0,t.Z)({},e)).then((function(e){return r(e)})).catch((function(e){return a(e)})).finally((function(e){return i(e)})))}function h(e,n){var r=n.success,a=n.error,i=n.final;console.log("TrackPromise - props:",e),(0,o.JE)(f.confirmSignUp((0,t.Z)({},e)).then((function(e){return r(e)})).catch((function(e){return a(e)})).finally((function(e){return i(e)})))}function v(e,n){var r=n.success,t=n.error,a=n.final;(0,o.JE)(f.forgotPassword(e).then((function(e){return r(e)})).catch((function(e){return t(e)})).finally((function(e){return a(e)})))}function x(e,n){var r=n.success,t=n.error,a=n.final;(0,o.JE)(f.resendSignUp(e).then((function(e){return r(e)})).catch((function(e){return t(e)})).finally((function(e){return a(e)})))}function y(e,n,r,t){var a=t.success,i=t.error,c=t.final;(0,o.JE)(f.forgotPasswordSubmit(e,n,r).then((function(e){return a(e)})).catch((function(e){return i(e)})).finally((function(e){return c(e)})))}function Z(e,n){var r=n.success,t=n.error,a=n.final;(0,o.JE)(f.resendSignUp(e).then((function(e){return r(e)})).catch((function(e){return t(e)})).finally((function(e){return a(e)})))}function j(e){var n=e.success,r=e.error,t=e.final;(0,o.JE)(f.signOut().then((function(e){return n(e)})).catch((function(e){return r(e)})).finally((function(e){return t(e)})))}},5782:function(e,n,r){r.d(n,{k:function(){return t},o:function(){return o}});var t=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},o=function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/.test(String(e))}},7379:function(e,n,r){var t=r(5318),o=r(862);n.Z=void 0;var a=o(r(390)),i=(0,t(r(7581)).default)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.51.88 4.93 1.78C15.57 19.36 13.86 20 12 20s-3.57-.64-4.93-1.72zm11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33C4.62 15.49 4 13.82 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.49-1.64 4.83zM12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"}),"AccountCircleOutlined");n.Z=i},1484:function(e,n,r){var t=r(5318),o=r(862);n.Z=void 0;var a=o(r(390)),i=(0,t(r(7581)).default)(a.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}),"Email");n.Z=i},3764:function(e,n,r){var t=r(5318),o=r(862);n.Z=void 0;var a=o(r(390)),i=(0,t(r(7581)).default)(a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");n.Z=i}}]);
//# sourceMappingURL=907.3fffc210.chunk.js.map