(this["webpackJsonpappalti190-client"]=this["webpackJsonpappalti190-client"]||[]).push([[19],{324:function(e,t,n){"use strict";var a=n(31),r={getProfile:function(){return a.a.get("/user/getProfile").then((function(e){return e.data}),(function(e){return e}))},updateProfile:function(e){var t=e.email,n=e.password,r=e.firstName,u=e.lastName,s=e.address,o=e.fiscalCode,c=e.businessName;return a.a.post("/user/updateProfile",{email:t,password:n,firstName:r,lastName:u,address:s,fiscalCode:o,businessName:c}).then((function(e){return e.data}),(function(e){return e}))},updateUserProperty:function(e){var t=e.userId,n=e.propertyName,r=e.propertyValue;return a.a.post("/user/updateUserProperty",{userId:t,propertyName:n,propertyValue:r}).then((function(e){return e.data}),(function(e){return e}))},getAllPlans:function(e){return a.a.get("/user/getAllPlans").then((function(e){return e.data}),(function(e){return e}))},updatePlan:function(e){return console.log("updatePlan - plan:",e),a.a.post("/user/updatePlan",e).then((function(e){return e.data}),(function(e){return e}))},getAllRoles:function(e){return a.a.get("/user/getAllRoles").then((function(e){return e.data}),(function(e){return e}))},updateRoles:function(e){return a.a.post("/user/updateRoles",e).then((function(e){return e.data}),(function(e){return e}))},getPublicContent:function(){return a.a.get("/test/all")},getUserBoard:function(){return a.a.get("/test/user")},getModeratorBoard:function(){return a.a.get("/test/mod")},getAdminBoard:function(){return a.a.get("/test/admin")},getAllUsersWithFullInfo:function(){return a.a.get("/user/getAllUsersWithFullInfo").then((function(e){return e.data}),(function(e){return e}))}};t.a=r},457:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n(0),u=n.n(r),s=n(18),o=n(296),c=n(47),l=n(77),i=n(324),f=n(45),p=n(1);function d(e){var t=Object(s.f)(),n=Object(o.a)().t,u=Object(s.g)(),d=u.pathname,g=u.search,m=Object(r.useState)(f.a.getUser()),h=Object(a.a)(m,2),P=h[0],b=h[1],y=Object(r.useState)([]),j=Object(a.a)(y,2),A=j[0],O=j[1];return Object(r.useEffect)((function(){var e=d.match("/payment-success")?"success":d.match("/payment-cancel")?"cancel":"unknown",a=new URLSearchParams(g),r=a.get("product");console.log("queryParams, search:",a,g),"success"===e?i.a.updatePlan({plan:r}).then((function(e){i.a.getAllPlans().then((function(e){console.log("*** updatePlan result OK (user?):",e),c.a.dispatch("plan-change"),l.b.success(n("Plan updated successfully")),console.log("useeffect getAllPlans"),console.log("plans got successfully:",e),O(e.data);var t=e.data.find((function(e){return e.name===r}));P.plan=t,b(P),f.a.setUser(P)}),(function(e){console.error("getAllPlans error:",e)}))}),(function(e){console.error("updatePlan error:",e)})):console.warn("PaymentResponse - path name was:",d),t.push("/profile",{tabValue:1})}),[A]),Object(p.jsx)(p.Fragment,{})}t.default=u.a.memo(d)}}]);
//# sourceMappingURL=19.86d5b5b6.chunk.js.map