(this["webpackJsonpappalti190-client"]=this["webpackJsonpappalti190-client"]||[]).push([[14],{304:function(e,t,n){"use strict";var a=n(21),r=n(310),o=n(0),c=n.n(o),s=n(290),i=n(358),l=n(344),d=n(359),u=n(360),b=n(361),j=n(1),f=["title","contentText","actions"],m=function(e){var t=e.title,n=e.contentText,o=e.actions,c=Object(r.a)(e,f);return Object(j.jsxs)(i.a,Object(a.a)(Object(a.a)({},c),{},{onBackdropClick:function(){},"aria-labelledby":t,onClose:function(e,t){},children:[Object(j.jsx)(l.a,{children:t}),Object(j.jsx)(d.a,{children:Object(j.jsx)(u.a,{children:n})}),Object(j.jsx)(b.a,{children:o.map((function(e,t){return Object(j.jsx)(s.a,{onClick:function(){e.callback&&e.callback(),e.closeModal&&c.onClose()},variant:"primary"===e.variant?"contained":"secondary"===e.variant?"outlined":"contained",autoFocus:c,style:{textTransform:"none"},children:e.text},t)}))})]}))};m.defaultProps={title:"",contentText:"",actions:[{text:"Ok",closeModal:!0,callback:function(){},variant:"primary",autoFocus:!1}]},t.a=c.a.memo(m)},313:function(e,t,n){"use strict";var a=n(103),r=n(87),o=n.n(r),c=n(31),s=n(45),i=function(){var e=Object(a.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.a.getUser()){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,c.a.get("/job/get");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l={get:i,set:function(e){return s.a.getUser()?c.a.put("/job/set",{job:e}):null},upload:function(e){var t=new FormData;return t.append("file",e),c.a.post("/job/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},transformXls2Xml:function(e){return c.a.post("/job/transformXls2Xml/:filePath",{filePath:e})},validateXml:function(e){return c.a.post("/job/validateXml/:transform",{transform:e})},outcomeCheck:function(e,t){return c.a.post("/job/outcomeCheck/:anno/:codiceFiscaleAmministrazione",{anno:e,codiceFiscaleAmministrazione:t})},outcomeFailureDetails:function(e,t){return c.a.post("/job/outcomeFailureDetails/anno/codiceFiscaleAmministrazione",{anno:e,codiceFiscaleAmministrazione:t})},urlExistenceCheck:function(e){return c.a.post("/job/urlExistenceCheck/url",e)},sanitizeJob:function(e){var t;if(null===e||void 0===e||null===(t=e.transform)||void 0===t||!t.xml)return e;var n=e;return n.transform.xml="\u2026",n},getPlans:function(){return c.a.get("/job/getPlans")}};t.a=l},315:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return v}));var a=n(21),r=n(0),o=n.n(r),c=n(290),s=n(456),i=n(464),l=n(452),d=n(293),u=n(294),b=n(283),j=n(362),f=function(e,t){return"#"+e.replace(/^#/,"").replace(/../g,(function(e){return("0"+Math.min(255,Math.max(0,parseInt(e,16)+t)).toString(16)).substr(-2)}))},m=n(75),p=n(1),h=o.a.memo((function(e){var t=Object(b.a)((function(e){return{startAdornment:{backgroundColor:"#efefff",height:"2.5rem",maxHeight:"3rem",marginLeft:-15,marginRight:5,paddingLeft:10,paddingRight:10,borderRight:"1px solid #c5c5c5"},endAdornment:{backgroundColor:"#efefff",height:"2.5rem",maxHeight:"3rem",marginLeft:5,marginRight:-15,paddingLeft:10,paddingRight:10,borderLeft:"1px solid #c5c5c5"},textField:{backgroundColor:"#efefff"}}}))();return Object(p.jsx)(s.a,{id:e.id,type:e.type,value:e.value,required:e.required,autoFocus:e.autoFocus,autoComplete:e.autoComplete.toString(),variant:e.variant,fullWidth:e.fullWidth,label:e.label,size:e.size,margin:e.margin,className:e.className?e.className:t.textField,placeholder:e.placeholder,onChange:function(t){return e.onChange(t.target.value)},disabled:e.disabled,error:!Object(m.i)(e.error),InputProps:{startAdornment:e.startAdornmentIcon?Object(p.jsx)(j.a,{className:e.startAdornmentClass?e.startAdornmentClass:t.startAdornment,position:"start",children:e.startAdornmentIcon}):Object(p.jsx)(p.Fragment,{}),endAdornment:e.endAdornmentIcon?Object(p.jsx)(j.a,{className:e.endAdornmentClass?e.endAdornmentClass:t.endAdornment,position:"end",children:e.endAdornmentIcon}):Object(p.jsx)(p.Fragment,{}),className:t.input}})}));h.defaultProps={type:"text",required:!1,autoFocus:!1,autoComplete:!1,variant:"outlined",fullWidth:!0,label:"",size:"small",margin:"dense",className:null,placeholder:"",startAdornmentClass:null,endAdornmentClass:null,disabled:!1,error:""};var O=o.a.memo((function(e){var t=Object(b.a)((function(e){return function(e){return{button:{margin:e.spacing(1,0,0,0),textTransform:"none",fontSize:"1.3em",color:"white",backgroundColor:e.palette.success.main,"&:hover":{backgroundColor:f(e.palette.success.main,-25)}},buttonSecondary:{margin:e.spacing(1,0,0,0),textTransform:"none",fontSize:"1em !important",color:"white",backgroundColor:e.palette.secondary.dark+" !important","&:hover":{backgroundColor:f(e.palette.secondary.dark,-25)+" !important"}},buttonFederated:{margin:e.spacing(1,0,0,0),justifyContent:"flex-start",paddingLeft:e.spacing(5),fontSize:"1.3em"},buttonFederatedFacebook:{backgroundColor:e.palette.socialButtons.facebook.backgroundColor,"&:hover":{backgroundColor:f(e.palette.socialButtons.facebook.backgroundColor,-25)}},buttonFederatedGoogle:{backgroundColor:e.palette.socialButtons.google.backgroundColor,"&:hover":{backgroundColor:f(e.palette.socialButtons.google.backgroundColor,-25)}}}}(e)}))();return Object(p.jsx)(c.a,{fullWidth:e.fullWidth,variant:e.variant,color:e.color,size:e.size,className:"".concat(t.button," ").concat(e.social?t.buttonFederated:""," ").concat(e.social?t["buttonFederated"+Object(m.a)(e.social)]:""," ").concat(t[e.className]),startIcon:e.startIcon,onClick:e.onClick,disabled:e.disabled,children:e.children})}));O.defaultProps={fullWidth:!0,variant:"contained",color:"primary",social:null},o.a.memo((function(e){var t=Object(b.a)((function(e){return{disabled:{color:"grey",cursor:"default","&:hover":{textDecoration:"none"}}}}))(),n=e.disabled?t.disabled:"";return Object(p.jsx)(i.a,{control:Object(p.jsx)(l.a,{checked:e.checked,onChange:function(t){return e.onChange(t.target.checked)},className:"".concat(e.className," ").concat(n),color:e.color,size:e.size,disabled:e.disabled}),label:Object(p.jsx)(g,{className:"".concat(e.className," ").concat(n),children:e.children})})})).defaultProps={checked:!1,color:"primary",size:"small"};var g=o.a.memo((function(e){return Object(p.jsx)(u.a,Object(a.a)(Object(a.a)({component:e.component,variant:e.variant,color:e.color,align:e.align},e),{},{children:e.children}))}));g.defaultProps={component:"h1",variant:"body2",color:"textPrimary"};var x=o.a.memo((function(e){var t=Object(b.a)((function(t){return{normal:{cursor:"pointer",textDecoration:e.decoration?e.decoration:"none"},disabled:{color:"grey",cursor:"default","&:hover":{textDecoration:"none",color:"grey"}}}}))(),n=e.disabled?t.disabled:t.normal;return Object(p.jsx)(d.a,Object(a.a)(Object(a.a)({href:e.href,className:"".concat(e.className," ").concat(n),color:e.color},e),{},{children:e.children}))}));x.defaultProps={color:"textPrimary"};var v=o.a.memo((function(e){var t=Object(b.a)((function(t){return function(t){return{container:{display:"flex",alignItems:"center",marginTop:t.spacing(e.marginVertical),marginBottom:t.spacing(e.marginVertical)},divider:{width:"100%",borderBottom:"1px solid "+(e.color?e.color:t.palette.primary.dark),paddingLeft:t.spacing(1)},text:{paddingLeft:t.spacing(e.paddingHorizontal),paddingRight:t.spacing(e.paddingHorizontal)}}}(t)}))();return Object(p.jsxs)("div",{className:t.container,children:[Object(p.jsx)("div",{className:t.divider}),e.children&&Object(p.jsx)("span",{className:t.text,children:e.children}),Object(p.jsx)("div",{className:t.divider})]})}));v.defaultProps={marginVertical:1,paddingHorizontal:1}},322:function(e,t,n){"use strict";var a=n(31),r={getProfile:function(){return a.a.get("/user/getProfile").then((function(e){return e.data}),(function(e){return e}))},updateProfile:function(e){var t=e.email,n=e.password,r=e.firstName,o=e.lastName,c=e.address,s=e.fiscalCode,i=e.businessName;return a.a.post("/user/updateProfile",{email:t,password:n,firstName:r,lastName:o,address:c,fiscalCode:s,businessName:i}).then((function(e){return e.data}),(function(e){return e}))},updateUserProperty:function(e){var t=e.userId,n=e.propertyName,r=e.propertyValue;return a.a.post("/user/updateUserProperty",{userId:t,propertyName:n,propertyValue:r}).then((function(e){return e.data}),(function(e){return e}))},updatePlan:function(e){return console.log("updatePlan - plan:",e),a.a.post("/user/updatePlan",e).then((function(e){return e.data}),(function(e){return e}))},getRoles:function(e){return a.a.get("/user/getRoles").then((function(e){return e.data}),(function(e){return e}))},updateRoles:function(e){return a.a.post("/user/updateRoles",e).then((function(e){return e.data}),(function(e){return e}))},getPublicContent:function(){return a.a.get("/test/all")},getUserBoard:function(){return a.a.get("/test/user")},getModeratorBoard:function(){return a.a.get("/test/mod")},getAdminBoard:function(){return a.a.get("/test/admin")},getAdminPanel:function(){return a.a.get("/admin/getAdminPanel").then((function(e){return e.data}),(function(e){return e}))}};t.a=r},457:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n(21),o=n(310),c=n(0),s=n.n(c),i=n(18),l=n(292),d=n(334),u=n(283),b=n(295),j=n(450),f=n(460),m=n(294),p=n(461),h=n(455),O=n(451),g=n(285),x=n(409),v=n(288),C=n(298),y=n(410),S=n(390),N=n.n(S),k=n(321),P=n.n(k),A=n(332),F=n.n(A),R=n(391),w=n.n(R),I=n(392),E=n.n(I),z=n(393),T=n.n(z),U=n(394),L=n.n(U),W=n(395),B=n.n(W),D=n(396),M=n.n(D),H=n(397),V=n.n(H),X=n(398),G=n.n(X),Y=n(107),q=n(411),J=n(413),Z=n(412),_=n(290),K=n(293),Q=n(389),$=n(304),ee=n(313),te=n(75),ne=n(1),ae=Object(u.a)((function(e){return{section:{},cardHeader:{paddingTop:e.spacing(3)},cardHeaderActive:{fontWeight:"bold"},cardHeaderTest:{paddingBottom:0},cardTest:{color:"#bb571f",backgroundColor:"#ffde92",borderRadius:5,fontSize:14,fontWeight:"bold",padding:2,paddingLeft:7,paddingRight:7},card:{transition:"box-shadow .3s",borderRadius:10,border:"1px solid #ccc","&:hover":{boxShadow:"10px 10px 30px rgba(32, 32, 132, .5)"}},cardActive:{backgroundColor:"#ffffe0"},cardHr:{border:"1px solid #eee"}}})),re=function(e){var t,n;console.log("Pricing - props:",e);var r=ae(),o=Object(l.a)().t,i=Object(Y.b)().showModal,d=s.a.useState(!1),u=Object(a.a)(d,2),b=u[0],j=u[1],f=Object(c.useState)([]),p=Object(a.a)(f,2),h=p[0],O=p[1];Object(c.useEffect)((function(){ee.a.getPlans().then((function(e){e instanceof Error?console.error("getPlans error:",e):(console.log("getPlans got successfully:",e.data),O(e.data))}))}),[O]);var g=function(t){return e.currentPlanName===t.name};return Object(ne.jsx)("section",{className:r.section,children:Object(ne.jsx)(C.a,{children:Object(ne.jsxs)(y.a,{py:0,textAlign:"center",children:[Object(ne.jsx)(y.a,{mb:0,children:Object(ne.jsxs)(C.a,{maxWidth:"sm",children:[Object(ne.jsx)(m.a,{variant:"h3",component:"h2",gutterBottom:!0,children:Object(ne.jsx)(m.a,{variant:"h6",component:"span",color:"primary",children:o("Choose the plan which best suits your needs")})}),"undefined"!==typeof(null===(t=h[0])||void 0===t?void 0:t.pricePerMonth)&&"undefined"!==typeof(null===(n=h[0])||void 0===n?void 0:n.pricePerYear)&&Object(ne.jsxs)("div",{children:[Object(ne.jsx)(m.a,{variant:"subtitle1",component:"span",children:o("per year")}),Object(ne.jsxs)("span",{children:["\xa0",Object(ne.jsx)(Q.a,{name:"checkbox",color:"primary",checked:b,onChange:function(e){j(e.target.checked)}}),"\xa0"]}),Object(ne.jsx)(m.a,{variant:"subtitle1",component:"span",children:o("per month")})]})]})}),Object(ne.jsx)(v.a,{container:!0,spacing:3,children:h.map((function(t,n){return Object(ne.jsx)(v.a,{item:!0,xs:12,md:parseInt(h.length?12/h.length:12),children:Object(ne.jsxs)(q.a,{variant:"outlined",className:[r.card,g(t)?r.cardActive:null].join(" "),children:[Object(ne.jsx)(Z.a,{title:Object(te.a)(o(t.name)),className:[r.cardHeader,g(t)?r.cardHeaderActive:null].join(" "),titleTypographyProps:g(t)?{fontWeight:"bold"}:{}}),"live"!==e.paymentMode?Object(ne.jsx)("span",{className:r.cardTest,children:" TEST "}):Object(ne.jsx)(ne.Fragment,{}),Object(ne.jsx)("hr",{className:r.cardHr}),Object(ne.jsxs)(J.a,{children:[Object(ne.jsxs)(y.a,{px:1,children:[Object(ne.jsxs)(m.a,{variant:"h4",component:"h2",gutterBottom:!0,style:{fontWeight:"bold"},children:[Object(te.b)(t.priceCurrency),b?t.pricePerMonth:t.pricePerYear,Object(ne.jsxs)(m.a,{variant:"h6",color:"textSecondary",component:"span",children:[" / ",o(b?"month":"year")]})]}),Object(ne.jsx)(m.a,{color:"textSecondary",variant:"subtitle1",component:"p",children:t.cigNumberAllowed===Number.MAX_SAFE_INTEGER?o("Unlimited CIG's"):o("Up to {{cigs}} CIG's",{cigs:t.cigNumberAllowed})}),Object(ne.jsx)(m.a,{color:"textSecondary",variant:"subtitle1",component:"div",children:t.supportTypes.map((function(e,t){return Object(ne.jsx)("div",{children:o("Support")+" "+o("by")+" "+o(e)},t)}))}),Object(ne.jsx)("br",{})]}),Object(ne.jsx)(_.a,{variant:"contained",color:"secondary",onClick:function(n){!function(e){i($.a,e)}({title:o("Sure to buy this plan?"),contentText:o("(it's very expensive!)"),actions:[{callback:function(){console.log("Clicked first action button"),e.onPlanSelected(n,t.name)},text:o("Ok"),closeModal:!0},{callback:function(){console.log("Clicked second action button")},text:o("Cancel"),closeModal:!0}]})},disabled:g(t),children:g(t)?o("Active plan"):o("Select plan")}),e.canForcePlan&&Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(y.a,{mt:1}),Object(ne.jsx)(_.a,{variant:"contained",color:"tertiary",onClick:function(n){e.onPlanForced(n,t.name)},disabled:g(t),children:o("Force plan")})]}),Object(ne.jsx)(y.a,{mt:2,children:Object(ne.jsx)(K.a,{href:"#",color:"primary",children:Object(ne.jsx)("small",{children:o("Learn more")})})})]})]})},n)}))})]})})})};re.defaultProps={currentPlanName:"",onPlanSelected:function(e){return console.log("Selected plan:",e)},canForcePlan:!1,onPlanForced:function(e){return console.log("Forced plan:",e)}};var oe=s.a.memo(re),ce=n(322),se=n(45),ie=n(103),le=n(87),de=n.n(le),ue=n(31),be=function(){var e=Object(ie.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.a.get("/payment/mode").then((function(e){return e.data}),(function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(ie.a)(de.a.mark((function e(t){var n;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.product,e.next=3,ue.a.post("/payment/create-checkout-session",{product:n}).then((function(e){return console.log("CCS - res:",e),e.data}),(function(e){return console.log("CCS - err:",e),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe={mode:be,createCheckoutSession:je},me=n(49),pe=n(76),he=n(315),Oe=n(20),ge=n.n(Oe),xe=["children","value","index"],ve=Object(u.a)((function(e){return function(e){return{root:{flexGrow:1},avatar:{backgroundColor:e.palette.success.main},columnLeft:{marginLeft:e.spacing(.2)},columnRight:{marginLeft:"auto",marginRight:e.spacing(.2)},form:{},fieldset:{border:0},fieldsetPersonalData:{color:"#758c75",fontSize:13,border:1,borderStyle:"solid",borderColor:"#758c75",borderRadius:5},fieldsetCompanyData:{color:"#7a7aa5",fontSize:13,border:1,borderStyle:"solid",borderColor:"#7a7aa5",borderRadius:5},fieldsetAddress:{color:"#aaa",fontSize:13,border:1,borderStyle:"solid",borderColor:"#aaa",borderRadius:5},formControlSelectPlan:{minWidth:200},formControlSelectRole:{minWidth:200},tab:{backgroundColor:e.palette.secondary.light},tabIndicator:{backgroundColor:e.palette.secondary.dark,height:1}}}(e)}));function Ce(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function ye(e){var t=e.children,n=e.value,a=e.index,c=Object(o.a)(e,xe);return Object(ne.jsx)(m.a,Object(r.a)(Object(r.a)({component:"div",role:"tabpanel",hidden:n!==a,id:"scrollable-auto-tabpanel-".concat(a),"aria-labelledby":"nav-tab-".concat(a)},c),{},{children:Object(ne.jsx)(y.a,{p:3,children:t})}))}function Se(e){var t,n,o,u,m=ve(),S=Object(i.f)(),k=Object(c.useState)(se.a.getUser()),A=Object(a.a)(k,2),R=A[0],I=A[1],z=Object(c.useState)(!1),U=Object(a.a)(z,2),W=U[0],D=U[1],H=Object(c.useState)(""),X=Object(a.a)(H,2),Y=X[0],q=X[1],J=Object(c.useState)(""),Z=Object(a.a)(J,2),_=Z[0],K=Z[1],Q=Object(c.useState)(""),$=Object(a.a)(Q,2),ee=$[0],ae=$[1],re=Object(c.useState)(""),ie=Object(a.a)(re,2),le=ie[0],de=ie[1],ue=Object(c.useState)(""),be=Object(a.a)(ue,2),je=be[0],Oe=be[1],xe=Object(c.useState)({}),Se=Object(a.a)(xe,2),Ne=Se[0],ke=Se[1],Pe=Object(c.useState)(""),Ae=Object(a.a)(Pe,2),Fe=Ae[0],Re=Ae[1],we=Object(c.useState)(""),Ie=Object(a.a)(we,2),Ee=Ie[0],ze=Ie[1],Te=Object(c.useState)(""),Ue=Object(a.a)(Te,2),Le=Ue[0],We=Ue[1],Be=Object(c.useState)(""),De=Object(a.a)(Be,2),Me=De[0],He=De[1],Ve=Object(c.useState)(""),Xe=Object(a.a)(Ve,2),Ge=Xe[0],Ye=Xe[1],qe=Object(c.useState)(""),Je=Object(a.a)(qe,2),Ze=Je[0],_e=Je[1],Ke=Object(c.useState)(""),Qe=Object(a.a)(Ke,2),$e=Qe[0],et=Qe[1],tt=Object(c.useState)(null),nt=Object(a.a)(tt,2),at=nt[0],rt=nt[1],ot=Object(c.useState)([]),ct=Object(a.a)(ot,2),st=ct[0],it=ct[1],lt=Object(c.useState)([]),dt=Object(a.a)(lt,2),ut=dt[0],bt=dt[1],jt=Object(c.useState)({}),ft=Object(a.a)(jt,2),mt=ft[0],pt=ft[1],ht=Object(l.a)().t,Ot=s.a.useState(null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&null!==(n=t.state)&&void 0!==n&&n.tabValue?null===e||void 0===e||null===(o=e.location)||void 0===o||null===(u=o.state)||void 0===u?void 0:u.tabValue:0),gt=Object(a.a)(Ot,2),xt=gt[0],vt=gt[1],Ct=s.a.useState(!1),yt=Object(a.a)(Ct,2),St=yt[0],Nt=yt[1],kt=s.a.useState(!1),Pt=Object(a.a)(kt,2),At=Pt[0],Ft=Pt[1];Object(d.a)((function(e){(St||At)&&e.preventDefault()})),Object(c.useEffect)((function(){console.log("useeffect block");var e=S.block((function(e,t){return!St&&!At||window.confirm(ht("Are you sure to ignore unsaved data?"))}));return function(){e()}}),[St,At,S,ht]),Object(c.useEffect)((function(){console.log("useeffect profile"),W&&(q(W.email?W.email:""),K(W.firstName?W.firstName:""),ae(W.lastName?W.lastName:""),de(W.fiscalCode?W.fiscalCode:""),Oe(W.businessName?W.businessName:""),Re(W.address.street?W.address.street:""),ze(W.address.streetNo?W.address.streetNo:""),We(W.address.city?W.address.city:""),He(W.address.province?W.address.province:""),Ye(W.address.zip?W.address.zip:""),_e(W.address.country?W.address.country:""),rt(W.plan?W.plan.name:""),it(W.roles?W.roles.map((function(e){return e.name})):[]),Nt(!1),Ft(!1))}),[W]),Object(c.useEffect)((function(){console.log("useeffect user.id"),null!==R&&void 0!==R&&R.id||(pe.b.error(ht("User must be authenticated")),S.goBack())}),[null===R||void 0===R?void 0:R.id,S,ht]),Object(c.useEffect)((function(){console.log("useeffect getProfile"),ce.a.getProfile().then((function(e){if(e instanceof Error)return console.error("getProfile error:",e),pt({code:e.message});D(e.user)})),console.log("useeffect getRoles"),ce.a.getRoles().then((function(e){if(e instanceof Error)return console.error("getRoles error:",e),pt({code:e.message});console.log("roles got successfully:",e),bt(e.map((function(e){return e.name})))})),fe.mode().then((function(e){if(e instanceof Error)return console.error("mode error:",e),pt({code:e.message});console.log("mode:",e),et(e.mode)}))}),[null===R||void 0===R?void 0:R.id]),Object(c.useEffect)((function(){console.log("useeffect setAddress"),ke({street:Fe,streetNo:Ee,city:Le,province:Me,zip:Ge,country:Ze})}),[Fe,Ee,Le,Me,Ge,Ze]);var Rt=function(){var e;return null===R||void 0===R||null===(e=R.roles)||void 0===e?void 0:e.includes("admin")},wt=function(){var e;return null===R||void 0===R||null===(e=R.roles)||void 0===e?void 0:e.includes("admin")};return Object(ne.jsxs)("div",{className:m.root,children:[Object(ne.jsxs)(C.a,{maxWidth:"sm",children:[Object(ne.jsx)(y.a,{m:1}),Object(ne.jsx)(v.a,{container:!0,justifyContent:"center",children:Object(ne.jsx)(x.a,{className:m.avatar,children:Object(ne.jsx)(N.a,{})})}),Object(ne.jsx)(y.a,{m:3}),Object(ne.jsx)(b.a,{position:"static",children:Object(ne.jsxs)(j.a,{value:xt,onChange:function(e,t){vt(t)},variant:"standard","aria-label":"tabs for user's personal profile",classes:{indicator:m.tabIndicator},className:m.tab,children:[Object(ne.jsx)(f.a,Object(r.a)({label:ht("Your profile")},Ce(0))),Object(ne.jsx)(f.a,Object(r.a)({label:ht("Your plan")},Ce(1))),Object(ne.jsx)(f.a,Object(r.a)({label:ht("Your role(s)")},Ce(2)))]})})]}),Object(ne.jsxs)(C.a,{maxWidth:1===xt?"md":"sm",children:[0===xt&&Object(ne.jsx)(ye,{value:xt,index:0,children:Object(ne.jsx)("form",{name:"form",className:m.form,noValidate:!0,autoComplete:"off",children:Object(ne.jsxs)("fieldset",{className:m.fieldset,children:[Object(ne.jsx)(y.a,{m:3}),Object(ne.jsxs)("fieldset",{className:m.fieldsetPersonalData,children:[Object(ne.jsx)("legend",{children:ht("Personal data")}),Object(ne.jsx)(v.a,{item:!0,xs:12,children:Object(ne.jsx)(he.c,{id:"email",value:Y,onChange:function(e){Nt(!0),q(e)},placeholder:ht("Email"),startAdornmentIcon:Object(ne.jsx)(F.a,{}),error:mt.email,autoFocus:!0})}),Object(ne.jsxs)(v.a,{container:!0,direction:"row",columnSpacing:{xs:1,sm:2,md:3,lg:4},rowSpacing:0,children:[Object(ne.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(ne.jsx)(he.c,{id:"firstName",value:_,onChange:function(e){Nt(!0),K(e)},placeholder:ht("First Name"),startAdornmentIcon:Object(ne.jsx)(P.a,{}),error:mt.firstName})}),Object(ne.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(ne.jsx)(he.c,{id:"lastName",value:ee,onChange:function(e){Nt(!0),ae(e)},placeholder:ht("Last Name"),startAdornmentIcon:Object(ne.jsx)(P.a,{}),error:mt.lastName})})]})]}),Object(ne.jsx)(y.a,{m:1}),Object(ne.jsxs)("fieldset",{className:m.fieldsetCompanyData,children:[Object(ne.jsx)("legend",{children:ht("Company data")}),Object(ne.jsxs)(v.a,{container:!0,direction:"row",columnSpacing:{xs:1,sm:2,md:3,lg:4},rowSpacing:0,children:[Object(ne.jsx)(v.a,{item:!0,xs:12,children:Object(ne.jsx)(he.c,{id:"fiscalCode",value:le,onChange:function(e){Nt(!0),de(e)},placeholder:ht("Company fiscal code"),startAdornmentIcon:Object(ne.jsx)(w.a,{}),error:mt.fiscalCode})}),Object(ne.jsx)(v.a,{item:!0,xs:12,children:Object(ne.jsx)(he.c,{id:"businessName",value:je,onChange:function(e){Nt(!0),Oe(e)},placeholder:ht("Company business name"),startAdornmentIcon:Object(ne.jsx)(E.a,{}),error:mt.businessName})})]}),Object(ne.jsx)(y.a,{m:1}),Object(ne.jsxs)("fieldset",{className:m.fieldsetAddress,children:[Object(ne.jsx)("legend",{children:ht("Address")}),Object(ne.jsxs)(v.a,{container:!0,direction:"row",columnSpacing:{xs:1,sm:2,md:3,lg:4},rowSpacing:0,children:[Object(ne.jsx)(v.a,{item:!0,xs:12,sm:8,children:Object(ne.jsx)(he.c,{id:"addressStreet",value:Fe,onChange:function(e){Nt(!0),Re(e)},placeholder:ht("Street"),startAdornmentIcon:Object(ne.jsx)(T.a,{}),error:mt.addressStreet})}),Object(ne.jsx)(v.a,{item:!0,xs:12,sm:4,children:Object(ne.jsx)(he.c,{id:"addressStreetNo",value:Ee,onChange:function(e){Nt(!0),ze(e)},placeholder:ht("N\xb0"),startAdornmentIcon:Object(ne.jsx)(L.a,{}),error:mt.addressStreetNo})}),Object(ne.jsx)(v.a,{item:!0,xs:12,children:Object(ne.jsx)(he.c,{id:"addressCity",value:Le,onChange:function(e){Nt(!0),We(e)},placeholder:ht("City"),startAdornmentIcon:Object(ne.jsx)(B.a,{}),error:mt.addressCity})}),Object(ne.jsx)(v.a,{item:!0,xs:12,sm:7,children:Object(ne.jsx)(he.c,{id:"addressProvince",value:Me,onChange:function(e){Nt(!0),He(e)},placeholder:ht("Province"),startAdornmentIcon:Object(ne.jsx)(M.a,{}),error:mt.addressProvince})}),Object(ne.jsx)(v.a,{item:!0,xs:12,sm:5,children:Object(ne.jsx)(he.c,{id:"addressZip",value:Ge,onChange:function(e){Nt(!0),Ye(e)},placeholder:ht("ZIP"),startAdornmentIcon:Object(ne.jsx)(V.a,{}),error:mt.addressZip})}),Object(ne.jsx)(v.a,{item:!0,xs:12,children:Object(ne.jsx)(he.c,{id:"addressCountry",value:Ze,onChange:function(e){Nt(!0),_e(e)},placeholder:ht("Country"),startAdornmentIcon:Object(ne.jsx)(G.a,{}),error:mt.addressCountry})})]})]})]})]})})}),1===xt&&Object(ne.jsx)(ye,{value:xt,index:1,children:Object(ne.jsx)("form",{className:m.form,noValidate:!0,autoComplete:"off",children:Object(ne.jsx)("fieldset",{className:m.fieldset,children:Object(ne.jsx)(oe,{currentPlanName:at,onPlanSelected:function(e,t){var n;n=t,fe.createCheckoutSession({product:n}).then((function(e){var t;return e instanceof Error?(console.error("createCheckoutSession error:",e),pe.b.error(Object(te.f)(e))):(console.log("createCheckoutSession got successfully:",e),null!==e&&void 0!==e&&null!==(t=e.session)&&void 0!==t&&t.url?void(window.location=e.session.url):pe.b.error(ht("Sorry, could not get the payment page")))}))},canForcePlan:wt(),onPlanForced:function(e,t){wt()&&(se.a.setUser(R),ce.a.updatePlan({plan:t}).then((function(e){if(e instanceof Error)return console.error("profileUpdate error:",e),pe.b.error(Object(te.f)(e)),pt({code:e.message});rt(t),pe.b.success(ht("Plan forced successfully"))})))},paymentMode:$e})})})}),2===xt&&Object(ne.jsx)(ye,{value:xt,index:2,children:Object(ne.jsx)("form",{className:m.form,noValidate:!0,autoComplete:"off",children:Object(ne.jsxs)("fieldset",{className:m.fieldset,children:[Object(ne.jsx)(y.a,{m:3}),Object(ne.jsx)(v.a,{item:!0,xs:12,children:Object(ne.jsxs)(p.a,{variant:"outlined",className:m.formControlSelectRole,children:[Object(ne.jsx)(h.a,{id:"roles-label",children:ht("Role(s)")}),Object(ne.jsx)(O.a,{labelId:"roles-label",id:"roles",multiple:!0,value:st,onChange:function(e){Ft(!0),it(e.target.value)},label:ht("Role(s)"),disabled:!Rt(),children:ut.map((function(e,t){return Object(ne.jsx)(g.a,{value:e,children:e},t)}))})]})})]})})})]}),0===xt&&Object(ne.jsx)(v.a,{container:!0,justifyContent:"center",children:Object(ne.jsx)(he.a,{fullWidth:!1,className:"buttonSecondary",autoFocus:!0,onClick:function(e){e.preventDefault(),pt({}),ce.a.updateProfile({email:Y,firstName:_,lastName:ee,fiscalCode:le,businessName:je,address:Ne,roles:st}).then((function(e){if(e instanceof Error)return console.error("profileUpdate error:",e),pe.b.warn(Object(te.f)(e)),pt({code:e.message});Nt(!1),pe.b.success(ht("Profile updated successfully"))}))},children:ht("Update")})}),2===xt&&Rt()&&Object(ne.jsx)(v.a,{container:!0,justifyContent:"center",children:Object(ne.jsx)(he.a,{fullWidth:!1,className:"buttonSecondary",autoFocus:!0,onClick:function(e){R.roles=String(st).split(","),console.log("USER.ROLES:",R.roles,typeof R.roles),R.roles&&R.roles.length&&!R.roles.every((function(e){return""===e}))||(R.roles=ge.a.api.rolesNamesDefault,it(R.roles),console.log("USER.ROLES DEFAULTS TO:",R.roles,typeof R.roles)),console.log("*** USER:",R),I(R),se.a.setUser(R),ce.a.updateRoles({roles:R.roles}).then((function(e){if(e instanceof Error)return console.error("profileUpdate error:",e),pe.b.error(Object(te.f)(e)),pt({code:e.message});it(R.roles),Ft(!1),me.a.dispatch("roles-change"),pe.b.success(ht("Roles updated successfully"))}))},children:ht("Update")})}),Object(ne.jsx)(y.a,{m:1})]})}Se.defaultProps={tabValue:0};t.default=s.a.memo(Se)}}]);
//# sourceMappingURL=14.e9bda6df.chunk.js.map