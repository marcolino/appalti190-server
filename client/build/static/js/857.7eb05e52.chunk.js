"use strict";(self.webpackChunkquiccasa_client=self.webpackChunkquiccasa_client||[]).push([[857],{6473:function(e,n,r){r.d(n,{OL:function(){return v},z8:function(){return x},NR:function(){return y},yt:function(){return p},Kv:function(){return j},R9:function(){return b}});var t=r(6515),o=r(390),a=r(2420),i=r(7762),c=r(1426),s=r(3383),l=r(3999),u=r(1395),d=r(1846),f=r(3447),m=function(e,n){return"#"+e.replace(/^#/,"").replace(/../g,(function(e){return("0"+Math.min(255,Math.max(0,parseInt(e,16)+n)).toString(16)).substr(-2)}))},g=r(3137),h=r(2559),p=o.memo((function(e){var n=(0,d.Z)((function(e){return{startAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:-15,marginRight:5,paddingLeft:10,paddingRight:10,borderRight:"1px solid #c5c5c5"},endAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:5,marginRight:-15,paddingLeft:10,paddingRight:10,borderLeft:"1px solid #c5c5c5"}}}))();return(0,h.jsx)(i.Z,{id:e.id,type:e.type,value:e.value,required:e.required,autoFocus:e.autoFocus,autoComplete:e.autoComplete.toString(),variant:e.variant,fullWidth:e.fullWidth,label:e.label,size:e.size,margin:e.margin,className:e.className?e.className:n.textField,placeholder:e.placeholder,onChange:function(n){return e.onChange(n.target.value)},disabled:e.disabled,error:!(0,g.Qr)(e.error),InputProps:{startAdornment:e.startAdornmentIcon?(0,h.jsx)(f.Z,{className:e.startAdornmentClass?e.startAdornmentClass:n.startAdornment,position:"start",children:e.startAdornmentIcon}):(0,h.jsx)(h.Fragment,{}),endAdornment:e.endAdornmentIcon?(0,h.jsx)(f.Z,{className:e.endAdornmentClass?e.endAdornmentClass:n.endAdornment,position:"end",children:e.endAdornmentIcon}):(0,h.jsx)(h.Fragment,{}),className:n.input}})}));p.defaultProps={type:"text",required:!1,autoFocus:!1,autoComplete:!1,variant:"outlined",fullWidth:!0,label:"",size:"small",margin:"dense",className:null,placeholder:"",startAdornmentClass:null,endAdornmentClass:null,disabled:!1,error:""};var v=o.memo((function(e){var n=(0,d.Z)((function(e){return function(e){return{button:{margin:e.spacing(1,0,0,0),textTransform:"none",fontSize:"1.3em",color:"white",backgroundColor:e.palette.success.main,"&:hover":{backgroundColor:m(e.palette.success.main,-25)}},buttonSecondary:{margin:e.spacing(1,0,0,0),textTransform:"none",fontSize:"1em !important",color:"white",backgroundColor:e.palette.secondary.dark+" !important","&:hover":{backgroundColor:m(e.palette.secondary.dark,-25)+" !important"}},buttonFederated:{margin:e.spacing(1,0,0,0),justifyContent:"flex-start",paddingLeft:e.spacing(5),fontSize:"1.3em"},buttonFederatedFacebook:{backgroundColor:e.palette.socialButtons.facebook.backgroundColor,"&:hover":{backgroundColor:m(e.palette.socialButtons.facebook.backgroundColor,-25)}},buttonFederatedGoogle:{backgroundColor:e.palette.socialButtons.google.backgroundColor,"&:hover":{backgroundColor:m(e.palette.socialButtons.google.backgroundColor,-25)}}}}(e)}))();return(0,h.jsx)(a.Z,{fullWidth:e.fullWidth,variant:e.variant,color:e.color,size:e.size,className:"".concat(n.button," ").concat(e.social?n.buttonFederated:""," ").concat(e.social?n["buttonFederated"+(0,g.kC)(e.social)]:""," ").concat(n[e.className]),startIcon:e.startIcon,onClick:e.onClick,disabled:e.disabled,children:e.children})}));v.defaultProps={fullWidth:!0,variant:"contained",color:"primary",social:null};var x=o.memo((function(e){var n=(0,d.Z)((function(e){return{disabled:{color:"grey",cursor:"default","&:hover":{textDecoration:"none"}}}}))(),r=e.disabled?n.disabled:"";return(0,h.jsx)(c.Z,{control:(0,h.jsx)(s.Z,{checked:e.checked,onChange:function(n){return e.onChange(n.target.checked)},className:"".concat(e.className," ").concat(r),color:e.color,size:e.size,disabled:e.disabled}),label:(0,h.jsx)(b,{className:"".concat(e.className," ").concat(r),children:e.children})})}));x.defaultProps={checked:!1,color:"primary",size:"small"};var b=o.memo((function(e){return(0,h.jsx)(u.Z,(0,t.Z)((0,t.Z)({component:e.component,variant:e.variant,color:e.color,align:e.align},e),{},{children:e.children}))}));b.defaultProps={component:"h1",variant:"body2",color:"textPrimary"};var j=o.memo((function(e){var n=(0,d.Z)((function(e){return{normal:{cursor:"pointer"},disabled:{color:"grey",cursor:"default","&:hover":{textDecoration:"none",color:"grey"}}}}))(),r=e.disabled?n.disabled:n.normal;return(0,h.jsx)(l.Z,(0,t.Z)((0,t.Z)({href:e.href,className:"".concat(e.className," ").concat(r),color:e.color},e),{},{children:e.children}))}));j.defaultProps={color:"textPrimary"};var y=o.memo((function(e){var n=(0,d.Z)((function(n){return function(n){return{container:{display:"flex",alignItems:"center",marginTop:n.spacing(e.marginVertical),marginBottom:n.spacing(e.marginVertical)},divider:{width:"100%",borderBottom:"1px solid "+(e.color?e.color:n.palette.primary.dark),paddingLeft:n.spacing(1)},text:{paddingLeft:n.spacing(e.paddingHorizontal),paddingRight:n.spacing(e.paddingHorizontal)}}}(n)}))();return(0,h.jsxs)("div",{className:n.container,children:[(0,h.jsx)("div",{className:n.divider}),e.children&&(0,h.jsx)("span",{className:n.text,children:e.children}),(0,h.jsx)("div",{className:n.divider})]})}));y.defaultProps={marginVertical:1,paddingHorizontal:1}},8857:function(e,n,r){r.r(n),r.d(n,{default:function(){return W}});var t,o=r(6515),a=r(3430),i=r(390),c=r(971),s=r(6444),l=r(3721),u=r(1846),d=r(1732),f=r(119),m=r(7530),g=r(8282),h=r(516),p=r(3764),v=r(1855),x=r(6715),b=["title","titleId"];function j(){return j=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},j.apply(this,arguments)}function y(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Z(e,n){var r=e.title,o=e.titleId,a=y(e,b);return i.createElement("svg",j({fill:"#ffffff",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px",ref:n,"aria-labelledby":o},a),r?i.createElement("title",{id:o},r):null,t||(t=i.createElement("path",{d:"M25,3C12.85,3,3,12.85,3,25c0,11.03,8.125,20.137,18.712,21.728V30.831h-5.443v-5.783h5.443v-3.848 c0-6.371,3.104-9.168,8.399-9.168c2.536,0,3.877,0.188,4.512,0.274v5.048h-3.612c-2.248,0-3.033,2.131-3.033,4.533v3.161h6.588 l-0.894,5.783h-5.694v15.944C38.716,45.318,47,36.137,47,25C47,12.85,37.15,3,25,3z"})))}var w,C=i.forwardRef(Z),k=(r.p,["title","titleId"]);function S(){return S=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},S.apply(this,arguments)}function P(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function I(e,n){var r=e.title,t=e.titleId,o=P(e,k);return i.createElement("svg",S({fill:"#ffffff",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px",ref:n,"aria-labelledby":t},o),r?i.createElement("title",{id:t},r):null,w||(w=i.createElement("path",{d:"M 25.996094 48 C 13.3125 48 2.992188 37.683594 2.992188 25 C 2.992188 12.316406 13.3125 2 25.996094 2 C 31.742188 2 37.242188 4.128906 41.488281 7.996094 L 42.261719 8.703125 L 34.675781 16.289063 L 33.972656 15.6875 C 31.746094 13.78125 28.914063 12.730469 25.996094 12.730469 C 19.230469 12.730469 13.722656 18.234375 13.722656 25 C 13.722656 31.765625 19.230469 37.269531 25.996094 37.269531 C 30.875 37.269531 34.730469 34.777344 36.546875 30.53125 L 24.996094 30.53125 L 24.996094 20.175781 L 47.546875 20.207031 L 47.714844 21 C 48.890625 26.582031 47.949219 34.792969 43.183594 40.667969 C 39.238281 45.53125 33.457031 48 25.996094 48 Z"})))}var O=i.forwardRef(I),N=(r.p,r(2559)),A={display:"flex",width:20,height:20,alignItems:"center",justifyContent:"center",marginLeft:5,marginRight:5},z=i.memo((function(){return(0,N.jsx)("div",{style:(0,o.Z)((0,o.Z)({},A),{},{width:26,marginLeft:1}),children:(0,N.jsx)(C,{})})})),L=i.memo((function(){return(0,N.jsx)("div",{style:(0,o.Z)((0,o.Z)({},A),{},{width:20,marginLeft:1,marginRight:10}),children:(0,N.jsx)(O,{})})})),R=r(4100),E=r(6473),F=r(6733),T=r(2333),H=r(5782),J=r(2600),U=r.n(J),B=r(1661),V=(0,u.Z)((function(e){return function(e){return{avatar:{backgroundColor:e.palette.success.main},rememberMe:{color:e.palette.success.main},forgotPassword:{color:e.palette.success.main},signUp:{color:e.palette.success.main},columnLeft:{marginLeft:e.spacing(.2)},columnRight:{marginLeft:"auto",marginRight:e.spacing(.2)},fieldset:{border:0}}}(e)}));function M(){var e=V(),n=(0,c.k6)(),r=(0,i.useState)(""),t=(0,a.Z)(r,2),u=t[0],b=t[1],j=(0,i.useState)(""),y=(0,a.Z)(j,2),Z=y[0],w=y[1],C=(0,i.useState)(!0),k=(0,a.Z)(C,2),S=k[0],P=k[1],I=(0,i.useState)({}),O=(0,a.Z)(I,2),A=O[0],J=O[1],M=(0,i.useContext)(F.V).setAuth,W=(0,i.useContext)(T.F),G=(0,s.WH)({delay:U().spinner.delay}).promiseInProgress,q=(0,l.$)().t;return(0,N.jsx)(m.Z,{maxWidth:"xs",children:(0,N.jsx)("form",{className:e.form,noValidate:!0,autoComplete:"off",children:(0,N.jsxs)("fieldset",{disabled:G,className:e.fieldset,children:[(0,N.jsx)(g.Z,{m:0}),(0,N.jsx)(f.Z,{container:!0,justifyContent:"center",children:(0,N.jsx)(d.Z,{className:e.avatar,children:(0,N.jsx)(h.Z,{})})}),(0,N.jsx)(g.Z,{m:2}),(0,N.jsx)(f.Z,{container:!0,justifyContent:"flex-start",children:(0,N.jsx)(E.R9,{children:q("Sign in with email and password")})}),(0,N.jsx)(g.Z,{m:0}),(0,N.jsx)(E.yt,{autoFocus:!0,id:"email",value:u,onChange:b,placeholder:q("Email"),startAdornmentIcon:(0,N.jsx)(p.Z,{}),error:A.email}),(0,N.jsx)(E.yt,{id:"password",type:"password",value:Z,onChange:w,placeholder:q("Password"),startAdornmentIcon:(0,N.jsx)(v.Z,{}),error:A.password}),(0,N.jsx)(g.Z,{m:1}),(0,N.jsx)(E.OL,{onClick:function(e){if(e.preventDefault(),!G&&function(){if(!(0,H.k)(u)){var e="Please supply a valid email";return J({email:e}),R.A.warning(e),!1}if(!Z){var n="Please supply a password";return J({password:n}),R.A.warning(n),!1}return!0}()){if(!W)return R.A.warning("Sorry, we are currently offline. Please wait for the network to become available.");J({}),(0,x.zB)({email:u,password:Z},{success:function(e){console.log("signIn calling setAuth - data:",e),M({user:(0,o.Z)((0,o.Z)({},e.user),{},{accessToken:e.accessToken,refreshToken:e.refreshToken})}),S||localStorage.clear(),b(""),w(""),n.push("/")},error:function(e){console.error("signIn error:",e),(0,B.ci)("signIn",e),R.A.error(q(e.message)),J({})}})}},children:q("Sign In")}),(0,N.jsxs)(f.Z,{container:!0,alignItems:"center",children:[(0,N.jsx)(f.Z,{className:e.columnLeft,children:(0,N.jsx)(E.z8,{checked:S,onChange:P,className:e.rememberMe,children:q("Remember me")})}),(0,N.jsx)(f.Z,{className:e.columnRight,children:(0,N.jsx)(E.Kv,{href:"/forgot-password",className:e.forgotPassword,children:q("Forgot Password?")})})]}),(0,N.jsx)(g.Z,{m:2}),(0,N.jsxs)(f.Z,{container:!0,direction:"row",justifyContent:"center",spacing:1,children:[(0,N.jsx)(f.Z,{item:!0,children:(0,N.jsx)(E.R9,{children:q("Don't have an account?")})}),(0,N.jsx)(f.Z,{item:!0,children:(0,N.jsx)(E.Kv,{href:"/signup",className:e.signUp,children:q("Register Now!")})})]}),U().federatedSigninProviders.length&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(g.Z,{m:3}),(0,N.jsx)(E.NR,{children:(0,N.jsx)(E.R9,{children:(0,N.jsx)("i",{children:q("or")})})}),(0,N.jsx)(g.Z,{m:3}),(0,N.jsx)(f.Z,{container:!0,justifyContent:"flex-start",children:(0,N.jsx)(E.R9,{children:q("Sign in with a social account")})}),(0,N.jsx)(g.Z,{m:0}),U().federatedSigninProviders.map((function(e){return(0,N.jsx)(E.OL,{social:e,startIcon:"Facebook"===e?(0,N.jsx)(z,{}):(0,N.jsx)(L,{}),onClick:function(n){return function(e,n){if(e.preventDefault(),!G)return W?void(0,x.t$)({provider:n},{success:function(e){},error:function(e){console.error("federatedSignIn error:",e),(0,B.ci)("federatedSignIn",e),R.A.error(q(e.message)),J({})}}):R.A.warning("You are currently offline. Please wait for the network to become available.")}(n,e)},children:e},e)}))]})]})})})}var W=i.memo(M)},6715:function(e,n,r){r.d(n,{_f:function(){return p},t$:function(){return g},gF:function(){return v},vG:function(){return b},kk:function(){return j},Rv:function(){return x},zB:function(){return m},w7:function(){return y},y1:function(){return h}});var t=r(6515),o=r(6444),a=r(971),i=r(2600),c=r.n(i),s=r(3137),l=r(2559),u={signUp:function(e){return d("/api/auth/register","POST",e)},confirmSignUp:function(e){return d("/api/auth/verify/".concat(e.code),"GET",e)},signIn:function(e){return d("/api/auth/login","POST",e)},federatedSignIn:function(e){return console.log("*********************",(0,s.lf)(),e),(0,l.jsx)(a.l_,{to:"/api/auth/loginGoogle"})},currentAuthenticatedUser:function(e){return new Promise((function(e,n){var r=JSON.parse(localStorage.getItem("auth"));r?e(r.user):n()}))},signOut:function(e){return new Promise((function(e,n){e()}))}},d=function(e,n,r){return console.log("fetcher:",e,n,r),new Promise((function(o,a){"GET"===n&&r&&(e+="?"+Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&")),console.log("fetcher url 2:",e);var i=(0,t.Z)((0,t.Z)({method:n,headers:new Headers(c().api.headers)},r&&"GET"!==n&&{body:JSON.stringify(r)}),{},{redirect:c().api.redirect});console.log("fetcher opt:",i),fetch(e,(0,t.Z)((0,t.Z)({method:n,headers:new Headers(c().api.headers)},r&&"GET"!==n&&{body:JSON.stringify(r)}),{},{redirect:c().api.redirect})).then((function(n){console.log("fetcher res:",n);try{n.json().then((function(r){console.log("fetcher from ".concat(e," data:"),r),n.ok||a({status:n.status,statusText:n.statusText,message:r.message?r.message:n.statusText}),o(r)}))}catch(r){console.error("fetch ".concat(e," error:"),r)}})).catch((function(n){console.error("fetch ".concat(e," error:"),n),a(n)}))}))},f=u;function m(e,n){var r=n.success,a=n.error,i=n.final;(0,o.JE)(f.signIn((0,t.Z)({},e)).then((function(e){console.log("success:",e),r(e)})).catch((function(e){console.log("error:",e),a(e)})).finally((function(e){return i(e)})))}function g(e,n){n.success,n.error,n.final;f.federatedSignIn((0,t.Z)({},e))}function h(e,n){var r=n.success,a=n.error,i=n.final;(0,o.JE)(f.signUp((0,t.Z)({},e)).then((function(e){return r(e)})).catch((function(e){return a(e)})).finally((function(e){return i(e)})))}function p(e,n){var r=n.success,a=n.error,i=n.final;console.log("TrackPromise - props:",e),(0,o.JE)(f.confirmSignUp((0,t.Z)({},e)).then((function(e){return r(e)})).catch((function(e){return a(e)})).finally((function(e){return i(e)})))}function v(e,n){var r=n.success,t=n.error,a=n.final;(0,o.JE)(f.forgotPassword(e).then((function(e){return r(e)})).catch((function(e){return t(e)})).finally((function(e){return a(e)})))}function x(e,n){var r=n.success,t=n.error,a=n.final;(0,o.JE)(f.resendSignUp(e).then((function(e){return r(e)})).catch((function(e){return t(e)})).finally((function(e){return a(e)})))}function b(e,n,r,t){var a=t.success,i=t.error,c=t.final;(0,o.JE)(f.forgotPasswordSubmit(e,n,r).then((function(e){return a(e)})).catch((function(e){return i(e)})).finally((function(e){return c(e)})))}function j(e,n){var r=n.success,t=n.error,a=n.final;(0,o.JE)(f.resendSignUp(e).then((function(e){return r(e)})).catch((function(e){return t(e)})).finally((function(e){return a(e)})))}function y(e){var n=e.success,r=e.error,t=e.final;(0,o.JE)(f.signOut().then((function(e){return n(e)})).catch((function(e){return r(e)})).finally((function(e){return t(e)})))}},5782:function(e,n,r){r.d(n,{k:function(){return t},o:function(){return o}});var t=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},o=function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/.test(String(e))}},516:function(e,n,r){var t=r(5318),o=r(862);n.Z=void 0;var a=o(r(390)),i=(0,t(r(7581)).default)(a.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");n.Z=i},3764:function(e,n,r){var t=r(5318),o=r(862);n.Z=void 0;var a=o(r(390)),i=(0,t(r(7581)).default)(a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");n.Z=i}}]);
//# sourceMappingURL=857.7eb05e52.chunk.js.map