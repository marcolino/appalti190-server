"use strict";(self.webpackChunkquiccasa_client=self.webpackChunkquiccasa_client||[]).push([[541],{6473:function(e,n,r){r.d(n,{OL:function(){return v},z8:function(){return x},NR:function(){return y},yt:function(){return p},Kv:function(){return C},R9:function(){return b}});var t=r(6515),o=r(390),a=r(2420),s=r(7762),c=r(1426),i=r(3383),l=r(3999),u=r(1395),d=r(1846),f=r(3447),m=function(e,n){return"#"+e.replace(/^#/,"").replace(/../g,(function(e){return("0"+Math.min(255,Math.max(0,parseInt(e,16)+n)).toString(16)).substr(-2)}))},g=r(3137),h=r(2559),p=o.memo((function(e){var n=(0,d.Z)((function(e){return{startAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:-15,marginRight:5,paddingLeft:10,paddingRight:10,borderRight:"1px solid #c5c5c5"},endAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:5,marginRight:-15,paddingLeft:10,paddingRight:10,borderLeft:"1px solid #c5c5c5"}}}))();return(0,h.jsx)(s.Z,{id:e.id,type:e.type,value:e.value,required:e.required,autoFocus:e.autoFocus,autoComplete:e.autoComplete.toString(),variant:e.variant,fullWidth:e.fullWidth,label:e.label,size:e.size,margin:e.margin,className:e.className?e.className:n.textField,placeholder:e.placeholder,onChange:function(n){return e.onChange(n.target.value)},disabled:e.disabled,error:!(0,g.Qr)(e.error),InputProps:{startAdornment:e.startAdornmentIcon?(0,h.jsx)(f.Z,{className:e.startAdornmentClass?e.startAdornmentClass:n.startAdornment,position:"start",children:e.startAdornmentIcon}):(0,h.jsx)(h.Fragment,{}),endAdornment:e.endAdornmentIcon?(0,h.jsx)(f.Z,{className:e.endAdornmentClass?e.endAdornmentClass:n.endAdornment,position:"end",children:e.endAdornmentIcon}):(0,h.jsx)(h.Fragment,{}),className:n.input}})}));p.defaultProps={type:"text",required:!1,autoFocus:!1,autoComplete:!1,variant:"outlined",fullWidth:!0,label:"",size:"small",margin:"dense",className:null,placeholder:"",startAdornmentClass:null,endAdornmentClass:null,disabled:!1,error:""};var v=o.memo((function(e){var n=(0,d.Z)((function(e){return function(e){return{button:{margin:e.spacing(1,0,0,0),textTransform:"none",fontSize:"1.3em",color:"white",backgroundColor:e.palette.success.main,"&:hover":{backgroundColor:m(e.palette.success.main,-25)}},buttonSecondary:{margin:e.spacing(1,0,0,0),textTransform:"none",fontSize:"1em !important",color:"white",backgroundColor:e.palette.secondary.dark+" !important","&:hover":{backgroundColor:m(e.palette.secondary.dark,-25)+" !important"}},buttonFederated:{margin:e.spacing(1,0,0,0),justifyContent:"flex-start",paddingLeft:e.spacing(5),fontSize:"1.3em"},buttonFederatedFacebook:{backgroundColor:e.palette.socialButtons.facebook.backgroundColor,"&:hover":{backgroundColor:m(e.palette.socialButtons.facebook.backgroundColor,-25)}},buttonFederatedGoogle:{backgroundColor:e.palette.socialButtons.google.backgroundColor,"&:hover":{backgroundColor:m(e.palette.socialButtons.google.backgroundColor,-25)}}}}(e)}))();return(0,h.jsx)(a.Z,{fullWidth:e.fullWidth,variant:e.variant,color:e.color,size:e.size,className:"".concat(n.button," ").concat(e.social?n.buttonFederated:""," ").concat(e.social?n["buttonFederated"+(0,g.kC)(e.social)]:""," ").concat(n[e.className]),startIcon:e.startIcon,onClick:e.onClick,disabled:e.disabled,children:e.children})}));v.defaultProps={fullWidth:!0,variant:"contained",color:"primary",social:null};var x=o.memo((function(e){var n=(0,d.Z)((function(e){return{disabled:{color:"grey",cursor:"default","&:hover":{textDecoration:"none"}}}}))(),r=e.disabled?n.disabled:"";return(0,h.jsx)(c.Z,{control:(0,h.jsx)(i.Z,{checked:e.checked,onChange:function(n){return e.onChange(n.target.checked)},className:"".concat(e.className," ").concat(r),color:e.color,size:e.size,disabled:e.disabled}),label:(0,h.jsx)(b,{className:"".concat(e.className," ").concat(r),children:e.children})})}));x.defaultProps={checked:!1,color:"primary",size:"small"};var b=o.memo((function(e){return(0,h.jsx)(u.Z,(0,t.Z)((0,t.Z)({component:e.component,variant:e.variant,color:e.color,align:e.align},e),{},{children:e.children}))}));b.defaultProps={component:"h1",variant:"body2",color:"textPrimary"};var C=o.memo((function(e){var n=(0,d.Z)((function(e){return{normal:{cursor:"pointer"},disabled:{color:"grey",cursor:"default","&:hover":{textDecoration:"none",color:"grey"}}}}))(),r=e.disabled?n.disabled:n.normal;return(0,h.jsx)(l.Z,(0,t.Z)((0,t.Z)({href:e.href,className:"".concat(e.className," ").concat(r),color:e.color},e),{},{children:e.children}))}));C.defaultProps={color:"textPrimary"};var y=o.memo((function(e){var n=(0,d.Z)((function(n){return function(n){return{container:{display:"flex",alignItems:"center",marginTop:n.spacing(e.marginVertical),marginBottom:n.spacing(e.marginVertical)},divider:{width:"100%",borderBottom:"1px solid "+(e.color?e.color:n.palette.primary.dark),paddingLeft:n.spacing(1)},text:{paddingLeft:n.spacing(e.paddingHorizontal),paddingRight:n.spacing(e.paddingHorizontal)}}}(n)}))();return(0,h.jsxs)("div",{className:n.container,children:[(0,h.jsx)("div",{className:n.divider}),e.children&&(0,h.jsx)("span",{className:n.text,children:e.children}),(0,h.jsx)("div",{className:n.divider})]})}));y.defaultProps={marginVertical:1,paddingHorizontal:1}},8541:function(e,n,r){r.r(n);var t=r(3430),o=r(390),a=r(971),s=r(6444),c=r(3721),i=r(1846),l=r(1732),u=r(119),d=r(7530),f=r(8282),m=r(1395),g=r(1411),h=r(2398),p=r(9797),v=r(6826),x=r(6083),b=r(5416),C=r(1855),y=r(1970),Z=r(6715),j=r(4100),w=r(6473),k=r(5782),S=r(2600),A=r.n(S),P=r(1661),N=r(2559),z=(0,i.Z)((function(e){return function(e){return{avatar:{backgroundColor:e.palette.success.main},fieldset:{border:0}}}(e)}));function F(){var e=z(),n=(0,o.useState)(""),r=(0,t.Z)(n,2),i=r[0],S=r[1],F=(0,o.useState)(""),I=(0,t.Z)(F,2),R=I[0],E=I[1],O=(0,o.useState)(""),L=(0,t.Z)(O,2),T=L[0],D=L[1],H=(0,o.useState)({email:null,password:null,passwordConfirmed:null,code:null}),V=(0,t.Z)(H,2),J=V[0],W=V[1],U=(0,o.useState)(!1),G=(0,t.Z)(U,2),B=G[0],M=G[1],q=(0,o.useState)(""),$=(0,t.Z)(q,2),_=$[0],K=$[1],Q=(0,o.useState)(""),Y=(0,t.Z)(Q,2),X=Y[0],ee=Y[1],ne=(0,a.k6)(),re=(0,s.WH)({delay:A().spinner.delay}).promiseInProgress,te=(0,o.useState)(!1),oe=(0,t.Z)(te,2),ae=oe[0],se=oe[1],ce=(0,o.useState)(null),ie=(0,t.Z)(ce,2),le=ie[0],ue=ie[1],de=(0,o.useState)(null),fe=(0,t.Z)(de,2),me=fe[0],ge=fe[1],he=(0,c.$)().t,pe=function(e,n){ue(e),ge(n),se(!0)},ve=function(){se(!1),ue(null),ge(null)};return(0,N.jsxs)(d.Z,{maxWidth:"xs",children:[(0,N.jsx)("form",{className:e.form,noValidate:!0,autoComplete:"off",children:(0,N.jsxs)("fieldset",{disabled:re,className:e.fieldset,children:[!B&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(f.Z,{m:1}),(0,N.jsx)(u.Z,{container:!0,justifyContent:"center",children:(0,N.jsx)(l.Z,{className:e.avatar,children:(0,N.jsx)(x.Z,{})})}),(0,N.jsx)(f.Z,{m:3}),(0,N.jsx)(u.Z,{container:!0,justifyContent:"flex-start",children:(0,N.jsx)(w.R9,{children:he("Reset password")})}),(0,N.jsx)(f.Z,{m:1}),(0,N.jsx)(w.yt,{autoFocus:!0,id:"email",value:i,onChange:S,placeholder:he("Email"),startAdornmentIcon:(0,N.jsx)(y.Z,{}),error:J.email}),(0,N.jsx)(f.Z,{m:1}),(0,N.jsx)(w.OL,{onClick:function(e){e.preventDefault(),function(){if(!B&&!(0,k.k)(i)){var e=he("Please supply a valid email");return j.A.warning(e),W({email:e}),!1}if(B){if(!(0,k.o)(R)){var n=he("Please supply a more complex password");return j.A.warning(n),W({password:n}),!1}if(!T){var r=he("Please confirm the password");return W({passwordConfirmed:r}),j.A.warning(r),!1}if(R!==T){var t=he("The confirmed password does not match the password");return j.A.warning(t),W({passwordConfirmed:t}),!1}}return!0}()&&(W({}),(0,Z.gF)(i,{success:function(e){console.log("forgotPassword success:",e),M(!0),E(""),e.codeDeliveryMedium;var n=e.CodeDeliveryDetails.AttributeName,r=e.CodeDeliveryDetails.Destination;K(n),pe(he("Verification code sent"),he("Verification code sent via {{medium}} to {{email}}.\nPlease copy and paste it here.",{medium:n,email:r}))},error:function(e){console.error("forgotPassword error:",e),(0,P.ci)("forgotPassword",e),j.A.error(he(e.message)),W({email:e.message})}}))},children:he("Request password reset")})]}),B&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(w.yt,{id:"password",type:"password",value:R,onChange:E,placeholder:he("New password"),startAdornmentIcon:(0,N.jsx)(C.Z,{}),error:J.password}),(0,N.jsx)(w.yt,{id:"passwordConfirmed",type:"password",value:T,onChange:D,placeholder:he("New password confirmation"),startAdornmentIcon:(0,N.jsx)(C.Z,{}),error:J.passwordConfirmed}),(0,N.jsx)(w.yt,{id:"confirmationCode",type:"number",value:X,onChange:ee,placeholder:he("Numeric code just received by {{codeDeliveryMedium}}",{codeDeliveryMedium:_}),startAdornmentIcon:(0,N.jsx)(b.Z,{}),error:J.confirmationCode}),(0,N.jsx)(f.Z,{m:1}),(0,N.jsx)(w.OL,{onClick:function(e){e.preventDefault(),W({}),(0,Z.vG)(i,X,R,{success:function(e){console.log("confirmForgotPassword success data:",e),M(!1),S(""),E(""),D(""),ee(""),pe("Password reset success","You can now sign in with your new password"),ne.push("/signin")},error:function(e){console.error("confirmForgotPassword error:",e),(0,P.ci)("confirmForgotPassword",e),j.A.error(he(e.message)),W({password:e.message})}})},children:he("Confirm Password Reset")}),(0,N.jsx)(u.Z,{container:!0,justifyContent:"flex-end",children:(0,N.jsx)(w.OL,{onClick:function(e){e.preventDefault(),W({}),(0,Z.kk)("x"+i,{success:function(e){console.log("resendResetPasswordCode success data:",e),j.A.info("Code resent successfully")},error:function(e){if(console.error("resendResetPasswordCode error:",e),(0,P.ci)("resendResetPasswordCode",e),"ExpiredCodeException"===e.code)W({confirmationCode:e});else W({});j.A.error(he(e.message))}})},fullWidth:!1,className:"buttonSecondary",children:he("Resend code")})})]})]})}),(0,N.jsxs)(g.Z,{open:ae,onClose:ve,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,N.jsx)(v.Z,{id:"alert-dialog-title",children:le}),(0,N.jsx)(p.Z,{id:"alert-dialog-description",children:(0,N.jsx)(m.Z,{variant:"body1",style:{whiteSpace:"pre-line"},children:me})}),(0,N.jsx)(h.Z,{children:(0,N.jsx)(w.OL,{onClick:ve,fullWidth:!1,className:"buttonSecondary",autoFocus:!0,children:he("Ok")})})]})]})}n.default=o.memo(F)},6715:function(e,n,r){r.d(n,{_f:function(){return p},t$:function(){return g},gF:function(){return v},vG:function(){return b},kk:function(){return C},Rv:function(){return x},zB:function(){return m},w7:function(){return y},y1:function(){return h}});var t=r(6515),o=r(6444),a=r(971),s=r(2600),c=r.n(s),i=r(3137),l=r(2559),u={signUp:function(e){return d("/api/auth/register","POST",e)},confirmSignUp:function(e){return d("/api/auth/verify/".concat(e.code),"GET",e)},signIn:function(e){return d("/api/auth/login","POST",e)},federatedSignIn:function(e){return console.log("*********************",(0,i.lf)(),e),(0,l.jsx)(a.l_,{to:"/api/auth/loginGoogle"})},currentAuthenticatedUser:function(e){return new Promise((function(e,n){var r=JSON.parse(localStorage.getItem("auth"));r?e(r.user):n()}))},signOut:function(e){return new Promise((function(e,n){e()}))}},d=function(e,n,r){return console.log("fetcher:",e,n,r),new Promise((function(o,a){"GET"===n&&r&&(e+="?"+Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&")),console.log("fetcher url 2:",e);var s=(0,t.Z)((0,t.Z)({method:n,headers:new Headers(c().api.headers)},r&&"GET"!==n&&{body:JSON.stringify(r)}),{},{redirect:c().api.redirect});console.log("fetcher opt:",s),fetch(e,(0,t.Z)((0,t.Z)({method:n,headers:new Headers(c().api.headers)},r&&"GET"!==n&&{body:JSON.stringify(r)}),{},{redirect:c().api.redirect})).then((function(n){console.log("fetcher res:",n);try{n.json().then((function(r){console.log("fetcher from ".concat(e," data:"),r),n.ok||a({status:n.status,statusText:n.statusText,message:r.message?r.message:n.statusText}),o(r)}))}catch(r){console.error("fetch ".concat(e," error:"),r)}})).catch((function(n){console.error("fetch ".concat(e," error:"),n),a(n)}))}))},f=u;function m(e,n){var r=n.success,a=n.error,s=n.final;(0,o.JE)(f.signIn((0,t.Z)({},e)).then((function(e){console.log("success:",e),r(e)})).catch((function(e){console.log("error:",e),a(e)})).finally((function(e){return s(e)})))}function g(e,n){var r=n.success,o=n.error,a=n.final;f.federatedSignIn((0,t.Z)({},e)).then((function(e){return r(e)})).catch((function(e){return o(e)})).finally((function(e){return a(e)}))}function h(e,n){var r=n.success,a=n.error,s=n.final;(0,o.JE)(f.signUp((0,t.Z)({},e)).then((function(e){return r(e)})).catch((function(e){return a(e)})).finally((function(e){return s(e)})))}function p(e,n){var r=n.success,a=n.error,s=n.final;console.log("TrackPromise - props:",e),(0,o.JE)(f.confirmSignUp((0,t.Z)({},e)).then((function(e){return r(e)})).catch((function(e){return a(e)})).finally((function(e){return s(e)})))}function v(e,n){var r=n.success,t=n.error,a=n.final;(0,o.JE)(f.forgotPassword(e).then((function(e){return r(e)})).catch((function(e){return t(e)})).finally((function(e){return a(e)})))}function x(e,n){var r=n.success,t=n.error,a=n.final;(0,o.JE)(f.resendSignUp(e).then((function(e){return r(e)})).catch((function(e){return t(e)})).finally((function(e){return a(e)})))}function b(e,n,r,t){var a=t.success,s=t.error,c=t.final;(0,o.JE)(f.forgotPasswordSubmit(e,n,r).then((function(e){return a(e)})).catch((function(e){return s(e)})).finally((function(e){return c(e)})))}function C(e,n){var r=n.success,t=n.error,a=n.final;(0,o.JE)(f.resendSignUp(e).then((function(e){return r(e)})).catch((function(e){return t(e)})).finally((function(e){return a(e)})))}function y(e){var n=e.success,r=e.error,t=e.final;(0,o.JE)(f.signOut().then((function(e){return n(e)})).catch((function(e){return r(e)})).finally((function(e){return t(e)})))}},5782:function(e,n,r){r.d(n,{k:function(){return t},o:function(){return o}});var t=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},o=function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/.test(String(e))}},1970:function(e,n,r){var t=r(5318),o=r(862);n.Z=void 0;var a=o(r(390)),s=(0,t(r(7581)).default)(a.createElement("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");n.Z=s},6083:function(e,n,r){var t=r(5318),o=r(862);n.Z=void 0;var a=o(r(390)),s=(0,t(r(7581)).default)(a.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h2c0-1.66 1.34-3 3-3s3 1.34 3 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOpenOutlined");n.Z=s}}]);
//# sourceMappingURL=541.4563dbb6.chunk.js.map