{"version":3,"file":"static/js/541.62ef3774.chunk.js","mappings":"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","sources":["libs/Styling.js","components/FormElements.js","components/auth/ForgotPassword.js","libs/Auth.js","libs/TrackPromise.js","libs/Validation.js","../node_modules/@material-ui/icons/LockOpen.js","../node_modules/@material-ui/icons/LockOpenOutlined.js"],"sourcesContent":["/**\n * Shade a color by an amount [-100 - 100] (negative is darker, positive is ligher).\n */\nexport const shadeColor = (color, amount) => {\n  return \"#\" + color.replace(/^#/, \"\").replace(/../g, color => (\"0\" + Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).substr(-2));\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Link from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport { shadeColor } from \"../libs/Styling\";\nimport { capitalize, isEmptyObject } from \"../libs/Misc\";\n\n\n\nconst FormInput = React.memo((props) => {\n  const styles = theme => ({\n    startAdornment: {\n      backgroundColor: \"#eaedf0\",\n      height: \"2.5rem\",\n      maxHeight: \"3rem\",\n      marginLeft: -15,\n      marginRight: 5,\n      paddingLeft: 10,\n      paddingRight: 10,\n      borderRight: \"1px solid #c5c5c5\",\n    },\n    endAdornment: {\n      backgroundColor: \"#eaedf0\",\n      height: \"2.5rem\",\n      maxHeight: \"3rem\",\n      marginLeft: 5,\n      marginRight: -15,\n      paddingLeft: 10,\n      paddingRight: 10,\n      borderLeft: \"1px solid #c5c5c5\",\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  return (\n    <TextField\n      id={props.id}\n      type={props.type}\n      value={props.value}\n      required={props.required}\n      autoFocus={props.autoFocus}\n      autoComplete={props.autoComplete.toString()}\n      variant={props.variant}\n      fullWidth={props.fullWidth}\n      label={props.label}\n      size={props.size}\n      margin={props.margin}\n      className={props.className ? props.className : classes.textField}\n      placeholder={props.placeholder}\n      onChange={e => props.onChange(e.target.value)}\n      disabled={props.disabled}\n      error={!isEmptyObject(props.error)}\n      InputProps={{\n        startAdornment: props.startAdornmentIcon ? (\n          <InputAdornment\n            className={props.startAdornmentClass ? props.startAdornmentClass : classes.startAdornment}\n            position=\"start\"\n          >\n            {props.startAdornmentIcon}\n          </InputAdornment>\n        ) : (<></>),\n        endAdornment: props.endAdornmentIcon ? (\n          <InputAdornment\n            className={props.endAdornmentClass ? props.endAdornmentClass : classes.endAdornment}\n            position=\"end\"\n          >\n            {props.endAdornmentIcon}\n          </InputAdornment>\n        ) : (<></>),\n        className: classes.input,\n      }}\n    />\n  );\n});\n\nFormInput.propTypes = {\n  value: PropTypes.string.isRequired,\n  startAdornmentClass: PropTypes.string,\n  startAdornmentIcon: PropTypes.object,\n  endAdornmentClass: PropTypes.string,\n  endAdornmentIcon: PropTypes.object,\n  disabled: PropTypes.bool,\n  error: PropTypes.string,\n};\n\nFormInput.defaultProps = {\n  type: \"text\",\n  required: false,\n  autoFocus: false,\n  autoComplete: false,\n  variant: \"outlined\",\n  fullWidth: true,\n  label: \"\",\n  size: \"small\",\n  margin: \"dense\",\n  className: null,\n  placeholder: \"\",\n  startAdornmentClass: null,\n  endAdornmentClass: null,\n  disabled: false,\n  error: \"\",\n};\n\n\n\nconst FormButton = React.memo((props) => {\n  const styles = theme => ({\n    button: {\n      margin: theme.spacing(1, 0, 0, 0),\n      textTransform: \"none\",\n      fontSize: \"1.3em\",\n      color: \"white\", // TODO\n      backgroundColor: theme.palette.success.main,\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.success.main, -25),\n      },\n    },\n    buttonSecondary: {\n      margin: theme.spacing(1, 0, 0, 0),\n      textTransform: \"none\",\n      fontSize: \"1em !important\",\n      color: \"white\", // TODO\n      backgroundColor: theme.palette.secondary.dark + \" !important\",\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.secondary.dark, -25)  + \" !important\",\n      },\n    },\n    buttonFederated: {\n      margin: theme.spacing(1, 0, 0, 0),\n      justifyContent: \"flex-start\",\n      paddingLeft: theme.spacing(5),\n      fontSize: \"1.3em\",\n    },  \n    buttonFederatedFacebook: {\n      backgroundColor: theme.palette.socialButtons.facebook.backgroundColor,\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.socialButtons.facebook.backgroundColor, -25),\n      },\n    },\n    buttonFederatedGoogle: {\n      backgroundColor: theme.palette.socialButtons.google.backgroundColor,\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.socialButtons.google.backgroundColor, -25),\n      },\n    },\n  \n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  return (\n    <Button\n      fullWidth={props.fullWidth}\n      variant={props.variant}\n      color={props.color}\n      size={props.size}\n      className={`${classes.button} ${props.social ? classes.buttonFederated : \"\"} ${props.social ? classes[\"buttonFederated\" + capitalize(props.social)] : \"\"} ${classes[props.className]}`}\n      startIcon={props.startIcon}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </Button>\n  );\n});\n\nFormButton.propTypes = {\n  social: PropTypes.oneOf([\n    \"Facebook\",\n    \"Google\",\n  ]),\n}\n\nFormButton.defaultProps = {\n  fullWidth: true,\n  variant: \"contained\",\n  color: \"primary\",\n  social: null,\n};\n\n\n\nconst FormCheckbox = React.memo((props) => {\n  const styles = theme => ({\n    disabled: {\n      color: \"grey\",\n      cursor: \"default\",\n      \"&:hover\": {\n        textDecoration: \"none\",\n      },\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  const classNameDisabled = props.disabled ? classes.disabled : \"\";\n\n  return (\n    <FormControlLabel\n      control={\n        <Checkbox\n          checked={props.checked}\n          onChange={(e) => props.onChange(e.target.checked)}\n          className={`${props.className} ${classNameDisabled}`}\n          color={props.color}\n          size={props.size}\n          disabled={props.disabled}\n        />\n      }\n      label={\n        <FormText\n          className={`${props.className} ${classNameDisabled}`}\n        >\n          {props.children}\n        </FormText>\n      }\n    />\n  );\n});\n\nFormCheckbox.propTypes = {\n};\n\nFormCheckbox.defaultProps = {\n  checked: false,\n  color: \"primary\",\n  size: \"small\",\n};\n\n\n\nconst FormText = React.memo((props) => {\n  return (\n    <Typography\n      component={props.component}\n      variant={props.variant}\n      color={props.color}\n      align={props.align}\n      {...props}\n    >\n      {props.children}\n    </Typography>\n  );\n});\n\nFormText.propTypes = {\n};\n\nFormText.defaultProps = {\n  component: \"h1\",\n  variant: \"body2\",\n  color: \"textPrimary\",\n};\n\n\n\nconst FormLink = React.memo((props) => {\n  const styles = theme => ({\n    normal: {\n      cursor: \"pointer\",\n    },\n    disabled: {\n      color: \"grey\",\n      cursor: \"default\",\n      \"&:hover\": {\n        textDecoration: \"none\",\n        color: \"grey\",\n      },\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  const className = props.disabled ? classes.disabled : classes.normal;\n\n  return (\n    <Link\n      href={props.href}\n      className={`${props.className} ${className}`}\n      color={props.color}\n      {...props}\n    >\n      {props.children}\n    </Link>\n  );\n});\n\nFormLink.propTypes = {\n};\n\nFormLink.defaultProps = {\n  color: \"textPrimary\",\n};\n\n\n\nconst FormDividerWithText = React.memo((props) => {\n  const styles = theme => ({\n    container: {\n      display: \"flex\",\n      alignItems: \"center\",\n      marginTop: theme.spacing(props.marginVertical),\n      marginBottom: theme.spacing(props.marginVertical),\n    },\n    divider: {\n      width: \"100%\",\n      borderBottom: \"1px solid \" + (props.color ? props.color : theme.palette.primary.dark),\n      paddingLeft: theme.spacing(1),\n    },\n    text: {\n      paddingLeft: theme.spacing(props.paddingHorizontal),\n      paddingRight: theme.spacing(props.paddingHorizontal),\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.divider} />\n      {props.children && <span className={classes.text}>\n        {props.children}\n      </span>}\n      <div className={classes.divider} />\n    </div>\n  );\n});\n\nFormDividerWithText.propTypes = {\n  color: PropTypes.string,\n  marginVertical: PropTypes.oneOf([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 ]),\n  paddingHorizontal: PropTypes.oneOf([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 ]),\n};\n\nFormDividerWithText.defaultProps = {\n  marginVertical: 1,\n  paddingHorizontal: 1,\n};\n\nexport {FormInput, FormButton, FormCheckbox, FormText, FormLink, FormDividerWithText};\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { usePromiseTracker } from \"react-promise-tracker\";\nimport { useTranslation } from \"react-i18next\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Container from \"@material-ui/core/Container\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport LockOpenOutlined from \"@material-ui/icons/LockOpenOutlined\";\nimport ConfirmationNumber from \"@material-ui/icons/ConfirmationNumber\";\nimport Lock from \"@material-ui/icons/Lock\";\nimport LockOpen from \"@material-ui/icons/LockOpen\";\nimport { forgotPassword, forgotPasswordSubmit, resendResetPasswordCode } from \"../../libs/TrackPromise\";\nimport { toast } from \"../Toast\";\nimport { FormInput, FormButton, FormText } from \"../FormElements\";\nimport { validateEmail, checkPassword } from \"../../libs/Validation\";\nimport config from \"../../config\";\nimport { ETBTAdd } from \"../../libs/I18n\"; // TODO: remove me when finished collecting serve errors\n\nconst styles = theme => ({\n  avatar: {\n    backgroundColor: theme.palette.success.main,\n  },\n  fieldset: {\n    border: 0,\n  },\n});\nconst useStyles = makeStyles((theme) => (styles(theme)));\n\nfunction ForgotPassword() {\n  const classes = useStyles();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirmed, setPasswordConfirmed] = useState(\"\");\n  const [error, setError] = useState({ email: null, password: null, passwordConfirmed: null, code: null });\n  const [waitingForCode, setWaitingForCode] = useState(false);\n  const [codeDeliveryMedium, setCodeDeliveryMedium] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n  const history = useHistory();\n  const { promiseInProgress } = usePromiseTracker({delay: config.spinner.delay});\n  const [openDialog, setOpenDialog] = useState(false);\n  const [dialogTitle, setDialogTitle] = useState(null);\n  const [dialogContent, setDialogContent] = useState(null);\n  const { t } = useTranslation();\n\n  const handleOpenDialog = (title, content) => {\n    setDialogTitle(title);\n    setDialogContent(content);\n    setOpenDialog(true);\n  };\n\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    setDialogTitle(null);\n    setDialogContent(null);\n  };\n\n  const validateForm = () => { // validate email formally\n    if (!waitingForCode) {\n      if (!validateEmail(email)) {\n        const err = t(\"Please supply a valid email\");\n        toast.warning(err);\n        setError({ email: err });\n        return false;\n      }\n    }\n\n    if (waitingForCode) {\n      if (!checkPassword(password)) {\n        const err = t(\"Please supply a more complex password\");\n        toast.warning(err);\n        setError({ password: err });\n        return false;\n      }\n\n      if (!passwordConfirmed) {\n        const err = t(\"Please confirm the password\");\n        setError({ passwordConfirmed: err });\n        toast.warning(err);\n        return false;\n      }\n  \n      if (password !== passwordConfirmed) {\n        const err = t(\"The confirmed password does not match the password\");\n        toast.warning(err);\n        setError({ passwordConfirmed: err });\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  const formForgotPassword = (e) => {\n    e.preventDefault();\n    if (!validateForm()) return;\n    setError({});\n\n    forgotPassword(email, {\n      success: (data) => {\n        console.log(\"forgotPassword success:\", data);\n        setWaitingForCode(true);\n        setPassword(\"\");\n        switch (data.codeDeliveryMedium) {\n          default: // in future we could treat EMAIL/SMS/... separately...\n            const medium = data.CodeDeliveryDetails.AttributeName;\n            const email = data.CodeDeliveryDetails.Destination;\n            setCodeDeliveryMedium(medium);\n            ///toast.info(`Verification code sent via ${medium} to ${email}.\\nPlease open it and copy and paste it here.`);\n            handleOpenDialog(\n              t(\"Verification code sent\"),\n              t(`\\\nVerification code sent via {{medium}} to {{email}}.\nPlease copy and paste it here.`, {medium, email})\n            );\n        }\n      },\n      error: (err) => {\nconsole.error(\"forgotPassword error:\", err);\nETBTAdd(\"forgotPassword\", err);\n        toast.error(t(err.message));\n        setError({ email: err.message}); // TODO: should we always blame email input for error?\n      }\n    });\n  };\n  \n  const formConfirmForgotPassword = (e) => {\n    e.preventDefault();\n    setError({});\n    \n    forgotPasswordSubmit(email, code, password, {\n      success: data => {\n        console.log(\"confirmForgotPassword success data:\", data);\n        setWaitingForCode(false);\n        setEmail(\"\");\n        setPassword(\"\");\n        setPasswordConfirmed(\"\");\n        setCode(\"\");\n        ///toast.success(<div>Password reset successfully.<br />You can now sign in with your new password</div>);\n        handleOpenDialog(`Password reset success`, `You can now sign in with your new password`);\n        history.push(\"/signin\");\n      },\n      error: (err) => {\nconsole.error(\"confirmForgotPassword error:\", err);\n        ETBTAdd(\"confirmForgotPassword\", err);\n        toast.error(t(err.message));\n        setError({ password: err.message}); // TODO: check whom to blame for error\n      }\n    });\n  };\n  \n  const formResendResetPasswordCode = (e) => {\n    e.preventDefault();\n    setError({});\n\n    resendResetPasswordCode('x'+email, {\n      success: (data) => {\n        console.log(\"resendResetPasswordCode success data:\", data);\n        toast.info(\"Code resent successfully\");\n      },\n      error: (err) => {\nconsole.error(\"resendResetPasswordCode error:\", err);\nETBTAdd(\"resendResetPasswordCode\", err);\n        switch (err.code) {\n          case \"ExpiredCodeException\":\n            setError({ confirmationCode: err }); // blame confirmationCode field as guilty\n            break;\n          default:\n            setError({}); // we don't know whom to blame\n        }\n        toast.error(t(err.message));\n      },\n    });\n  };\n\n  return (\n    <Container maxWidth=\"xs\">\n\n      <form className={classes.form} noValidate autoComplete=\"off\">\n        <fieldset disabled={promiseInProgress} className={classes.fieldset}>\n          {!waitingForCode && (\n            <>\n\n{/* <FormButton onClick={formTestETBT}>{\"TEST ETBT\"}</FormButton> */}\n\n              <Box m={1} />\n\n              <Grid container justifyContent=\"center\">\n                <Avatar className={classes.avatar}>\n                  <LockOpenOutlined />\n                </Avatar>\n              </Grid>\n\n              <Box m={3} />\n\n              <Grid container justifyContent=\"flex-start\">\n                <FormText>\n                  {t(\"Reset password\")}\n                </FormText>\n              </Grid>\n\n              <Box m={1} />\n\n              <FormInput\n                autoFocus\n                id={\"email\"}\n                value={email}\n                onChange={setEmail}\n                placeholder={t(\"Email\")}\n                startAdornmentIcon={<LockOpen />}\n                error={error.email}\n              />\n\n              <Box m={1} />\n\n              <FormButton\n                onClick={formForgotPassword}\n              >\n                {t(\"Request password reset\")}\n              </FormButton>\n              \n            </>\n          )}\n          {waitingForCode && (\n            <>\n\n              <FormInput\n                id={\"password\"}\n                type=\"password\"\n                value={password}\n                onChange={setPassword}\n                placeholder={t(\"New password\")}\n                startAdornmentIcon={<Lock />}\n                error={error.password}\n              />\n\n              <FormInput\n                id={\"passwordConfirmed\"}\n                type=\"password\"\n                value={passwordConfirmed}\n                onChange={setPasswordConfirmed}\n                placeholder={t(\"New password confirmation\")}\n                startAdornmentIcon={<Lock />}\n                error={error.passwordConfirmed}\n              />\n\n              <FormInput\n                id={\"confirmationCode\"}\n                type=\"number\"\n                value={code}\n                onChange={setCode}\n                placeholder={t(\"Numeric code just received by {{codeDeliveryMedium}}\", {codeDeliveryMedium})}\n                startAdornmentIcon={<ConfirmationNumber />}\n                error={error.confirmationCode}\n              />\n\n              <Box m={1} />\n\n              <FormButton\n                onClick={formConfirmForgotPassword}\n              >\n                {t(\"Confirm Password Reset\")}\n              </FormButton>\n\n              <Grid container justifyContent=\"flex-end\">\n                <FormButton\n                  onClick={formResendResetPasswordCode}\n                  fullWidth={false}\n                  className={\"buttonSecondary\"}\n                >\n                  {t(\"Resend code\")}\n                </FormButton>\n              </Grid>\n\n            </>\n          )}\n        </fieldset>\n      </form>\n\n      <Dialog\n        open={openDialog}\n        onClose={handleCloseDialog}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {dialogTitle}\n        </DialogTitle>\n        <DialogContent id=\"alert-dialog-description\">\n          <Typography variant=\"body1\" style={{whiteSpace: 'pre-line'}}>\n            {dialogContent}\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <FormButton\n            onClick={handleCloseDialog}\n            fullWidth={false}\n            className={\"buttonSecondary\"}\n            autoFocus\n          >\n            {t(\"Ok\")}\n          </FormButton>\n        </DialogActions>\n      </Dialog>\n\n    </Container>\n  );\n}\n\nexport default React.memo(ForgotPassword);","import  { Redirect } from \"react-router-dom\";\nimport config from \"../config\";\nimport { currentFunctionName } from \"../libs/Misc\";\n\nconst Auth = {\n  signUp: (params) => {\n    //console.log(currentFunctionName(), params);\n    return fetcher(\"/api/auth/register\", \"POST\", params);\n  },\n  confirmSignUp: (params) => {\n    //console.log(currentFunctionName(), params);\n    // TODO: props = props.filter(key => key === \"code\");\n    return fetcher(`/api/auth/verify/${params.code}`, \"GET\", params); // TODO: change the name: choose verify or confirmSignUp, and code or token (better code) ...\n  },\n  signIn: (params) => {\n    //console.log(currentFuncionName(), params);\n    return fetcher(\"/api/auth/login\", \"POST\", params);\n  },\n  federatedSignIn: (params) => {\nconsole.log(\"*********************\", currentFunctionName(), params);\n    //return fetcher(\"/api/auth/loginGoogle\", \"GET\", params); // TODO: use the federated login based on params\n    return <Redirect to=\"/api/auth/loginGoogle\" />\n  },\n  currentAuthenticatedUser: (params) => {\n    //console.log(currentFunctionName(), params);\n    return new Promise((resolve, reject) => {\n      const auth = JSON.parse(localStorage.getItem('auth'));\n\n      // TODO: https://www.bezkoder.com/jwt-refresh-token-node-js/ (for server side refresh token handling)\n      // TODO:\n/*\n      function isAuthenticated() {\n        const accessToken = localStorage.getItem('accessToken');\n        const refreshToken = localStorage.getItem('refreshToken');\n        try {\n          decode(accessToken);\n          const { exp } = decode(refreshToken);\n          if (Date.now() >= exp * 1000) {\n            return false;\n          }\n        } catch (err) {\n          return false;\n        }\n        return true;\n      }\n*/\n\n      //console.log(currentFunctionName(), \"auth:\", auth);\n      if (auth) {\n        //console.log(currentFunctionName(), \"resolving auth.user:\", auth.user);\n        resolve(auth.user);\n      } else {\n        //console.log(currentFunctionName(), \"rejecting\");\n        reject();\n      }\n    });\n  },\n  signOut: (params) => {\n    //console.log(currentFunctionName());\n    // nothing to do\n    return new Promise((resolve, reject) => {\n      resolve();\n    });\n  },\n};\n\nconst fetcher = (url, method, params) => {\nconsole.log(\"fetcher:\", url, method, params);\n  return new Promise((resolve, reject) => {\n    if (method === \"GET\" && params) {\n      url += \"?\" + Object.keys(params).map((key) => {\n        return encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key])\n      }).join(\"&\");\n    }\nconsole.log(\"fetcher url 2:\", url);\nvar opt = {\n  method,\n  headers: new Headers(config.api.headers),\n  ...(params && method !== \"GET\" && { body: JSON.stringify(params) }),\n  redirect: config.api.redirect,\n}\nconsole.log(\"fetcher opt:\", opt);\n    fetch(url, {\n      method,\n      headers: new Headers(config.api.headers),\n      ...(params && method !== \"GET\" && { body: JSON.stringify(params) }),\n      //body: new URLSearchParams(params),\n      redirect: config.api.redirect,\n    })\n      .then(res => {\nconsole.log(\"fetcher res:\", res);\n        try {\n          res.json().then(data => {\nconsole.log(`fetcher from ${url} data:`, data);\n            if (!res.ok) reject({status: res.status, statusText: res.statusText, message: data.message ? data.message : res.statusText})\n            resolve(data);\n          });\n        } catch (err) {\n          console.error(`fetch ${url} error:`, err); // TODO: !!!\n        }\n\n      })\n      .catch(err => {\n        console.error(`fetch ${url} error:`, err); // TODO: !!!\n        reject(err)\n      })\n    ;\n  });\n}\n\nexport default Auth;","//import React from \"react\";\n//import { Auth } from \"aws-amplify\";\nimport { trackPromise } from \"react-promise-tracker\";\nimport Auth from \"./Auth\";\n\n\n\nexport function currentAuthenticatedUser({success, error, final}) {\n  trackPromise(\n    Auth.currentAuthenticatedUser()\n      .then((data) => success(data))\n      .catch((data) => error(data))\n      .finally((data) => final(data))\n  );\n}\n\nexport function signIn(props, {success, error, final}) {\n  trackPromise(\n    Auth.signIn({...props})\n      .then((data) => {console.log(\"success:\", data); success(data)})\n      .catch((data) => {console.log(\"error:\", data); error(data)})\n      .finally((data) => final(data))\n  );\n}\n\nexport function federatedSignIn(props, {success, error, final}) {\n  //trackPromise(\n    Auth.federatedSignIn({...props});\n      // .then((data) => success(data))\n      // .catch((data) => error(data))\n      // .finally((data) => final(data))\n  //);\n}\n  \nexport function signUp(props, {success, error, final}) {\n  trackPromise(\n    Auth.signUp({...props})\n      .then((data) => success(data))\n      .catch((data) => error(data))\n      .finally((data) => final(data))\n  );\n};\n\n//export function confirmSignUp(username, code, {success, error, final}) {\nexport function confirmSignUp(props, {success, error, final}) {\nconsole.log('TrackPromise - props:', props);\n  trackPromise(\n    Auth.confirmSignUp({...props})\n      .then((data) => success(data))\n      .catch((data) => error(data))\n      .finally((data) => final(data))\n  );\n};\n\nexport function forgotPassword(username, {success, error, final}) {\n  trackPromise(\n    Auth.forgotPassword(username)\n      .then((data) => success(data))\n      .catch((data) => error(data))\n      .finally((data) => final(data))\n  );\n};\n\nexport function resendSignUp(username, {success, error, final}) {\n  trackPromise(\n    Auth.resendSignUp(username)\n      .then((data) => success(data))\n      .catch((data) => error(data))\n      .finally((data) => final(data))\n  );\n};\n\nexport function forgotPasswordSubmit(username, code, password, {success, error, final}) {\n  trackPromise(\n    Auth.forgotPasswordSubmit(username, code, password,)\n      .then((data) => success(data))\n      .catch((data) => error(data))\n      .finally((data) => final(data))\n  );\n};\n\nexport function resendResetPasswordCode(username, {success, error, final}) {\n  trackPromise(\n    //Auth.resendResetPassword(username)\n    Auth.resendSignUp(username)\n      .then((data) => success(data))\n      .catch((data) => error(data))\n      .finally((data) => final(data))\n  );\n};\n\nexport function signOut({success, error, final}) {\n  trackPromise(\n    Auth.signOut()\n      .then((data) => success(data))\n      .catch((data) => error(data))\n      .finally((data) => final(data))\n  );\n};\n","export const validateEmail = (email) => {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n};\n\nexport const checkPassword = (password) => {\n  /**\n   * ^\t                The password string will start this way\n   * (?=.*[a-z])\t      The string must contain at least 1 lowercase alphabetical character\n   * (?=.*[A-Z])\t      The string must contain at least 1 uppercase alphabetical character\n   * (?=.*[0-9])\t      The string must contain at least 1 numeric character\n   * (?=.*[!@#$%^&*])\t  The string must contain at least one special character,\n   *                     but we are escaping reserved RegEx characters to avoid conflict\n   * (?=.{8,})\t        The string must be eight characters or longer\n   */\n  const re = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/;\n  return re.test(String(password));\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z\"\n}), 'LockOpen');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h2c0-1.66 1.34-3 3-3s3 1.34 3 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z\"\n}), 'LockOpenOutlined');\n\nexports.default = _default;"],"names":["shadeColor","color","amount","replace","Math","min","max","parseInt","toString","substr","FormInput","React","props","classes","makeStyles","theme","startAdornment","backgroundColor","height","maxHeight","marginLeft","marginRight","paddingLeft","paddingRight","borderRight","endAdornment","borderLeft","useStyles","TextField","id","type","value","required","autoFocus","autoComplete","variant","fullWidth","label","size","margin","className","textField","placeholder","onChange","e","target","disabled","error","isEmptyObject","InputProps","startAdornmentIcon","InputAdornment","startAdornmentClass","position","endAdornmentIcon","endAdornmentClass","input","defaultProps","FormButton","button","spacing","textTransform","fontSize","palette","success","main","buttonSecondary","secondary","dark","buttonFederated","justifyContent","buttonFederatedFacebook","socialButtons","facebook","buttonFederatedGoogle","google","styles","Button","social","capitalize","startIcon","onClick","children","FormCheckbox","cursor","textDecoration","classNameDisabled","FormControlLabel","control","Checkbox","checked","FormText","Typography","component","align","FormLink","normal","Link","href","FormDividerWithText","container","display","alignItems","marginTop","marginVertical","marginBottom","divider","width","borderBottom","primary","text","paddingHorizontal","avatar","fieldset","border","ForgotPassword","useState","email","setEmail","password","setPassword","passwordConfirmed","setPasswordConfirmed","code","setError","waitingForCode","setWaitingForCode","codeDeliveryMedium","setCodeDeliveryMedium","setCode","history","useHistory","promiseInProgress","usePromiseTracker","delay","config","openDialog","setOpenDialog","dialogTitle","setDialogTitle","dialogContent","setDialogContent","t","useTranslation","handleOpenDialog","title","content","handleCloseDialog","maxWidth","form","noValidate","m","preventDefault","validateEmail","err","toast","checkPassword","validateForm","forgotPassword","data","console","log","medium","CodeDeliveryDetails","AttributeName","Destination","ETBTAdd","message","confirmationCode","forgotPasswordSubmit","push","resendResetPasswordCode","open","onClose","style","whiteSpace","Auth","signUp","params","fetcher","confirmSignUp","signIn","federatedSignIn","currentFunctionName","to","currentAuthenticatedUser","Promise","resolve","reject","auth","JSON","parse","localStorage","getItem","user","signOut","url","method","Object","keys","map","key","encodeURIComponent","join","opt","headers","Headers","body","stringify","redirect","fetch","then","res","json","ok","status","statusText","catch","final","trackPromise","finally","username","resendSignUp","test","String","toLowerCase","_interopRequireDefault","require","_interopRequireWildcard","exports","_default","default","createElement","d"],"sourceRoot":""}