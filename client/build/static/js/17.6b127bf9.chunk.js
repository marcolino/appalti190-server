(this["webpackJsonpappalti190-client"]=this["webpackJsonpappalti190-client"]||[]).push([[17],{309:function(e,t,n){"use strict";var a=n(105),r=n(88),u=n.n(r),o=n(31),s=n(45),c=function(){var e=Object(a.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.a.getUser()){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,o.a.get("/job/get");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i={get:c,set:function(e){return s.a.getUser()?o.a.put("/job/set",{job:e}):null},upload:function(e){var t=new FormData;return t.append("file",e),o.a.post("/job/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},transformXls2Xml:function(e){return o.a.post("/job/transformXls2Xml/:filePath",{filePath:e})},validateXml:function(e){return o.a.post("/job/validateXml/:transform",{transform:e})},outcomeCheck:function(e,t){return o.a.post("/job/outcomeCheck/:anno/:codiceFiscaleAmministrazione",{anno:e,codiceFiscaleAmministrazione:t})},outcomeFailureDetails:function(e,t){return o.a.post("/job/outcomeFailureDetails/anno/codiceFiscaleAmministrazione",{anno:e,codiceFiscaleAmministrazione:t})},urlExistenceAndMatch:function(e,t){return console.log("*** jobService - url,fileToMatch:",e,t),o.a.post("/job/urlExistenceAndMatch/url/fileToMatch",{url:e,fileToMatch:t})},getPlans:function(){return o.a.get("/job/getPlans")}};t.a=i},327:function(e,t,n){"use strict";var a=n(31),r={getProfile:function(){return a.a.get("/user/getProfile").then((function(e){return e.data}),(function(e){return e}))},updateProfile:function(e){var t=e.email,n=e.password,r=e.firstName,u=e.lastName,o=e.address,s=e.fiscalCode,c=e.businessName;return a.a.post("/user/updateProfile",{email:t,password:n,firstName:r,lastName:u,address:o,fiscalCode:s,businessName:c}).then((function(e){return e.data}),(function(e){return e}))},updateUserProperty:function(e){var t=e.userId,n=e.propertyName,r=e.propertyValue;return a.a.post("/user/updateUserProperty",{userId:t,propertyName:n,propertyValue:r}).then((function(e){return e.data}),(function(e){return e}))},getPlans:function(e){return a.a.get("/user/getPlans").then((function(e){return e.data}),(function(e){return e}))},updatePlan:function(e){return console.log("updatePlan - plan:",e),a.a.post("/user/updatePlan",e).then((function(e){return e.data}),(function(e){return e}))},getRoles:function(e){return a.a.get("/user/getRoles").then((function(e){return e.data}),(function(e){return e}))},updateRoles:function(e){return a.a.post("/user/updateRoles",e).then((function(e){return e.data}),(function(e){return e}))},getPublicContent:function(){return a.a.get("/test/all")},getUserBoard:function(){return a.a.get("/test/user")},getModeratorBoard:function(){return a.a.get("/test/mod")},getAdminBoard:function(){return a.a.get("/test/admin")},getAdminPanel:function(){return a.a.get("/admin/getAdminPanel").then((function(e){return e.data}),(function(e){return e}))}};t.a=r},458:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n(0),u=n.n(r),o=n(18),s=n(296),c=n(47),i=n(77),l=n(327),f=n(45),p=n(309),d=n(1);function m(e){var t=Object(o.f)(),n=Object(s.a)().t,u=Object(o.g)(),m=u.pathname,g=u.search,h=Object(r.useState)(f.a.getUser()),b=Object(a.a)(h,2),P=b[0],j=b[1],v=Object(r.useState)([]),y=Object(a.a)(v,2),w=y[0],O=y[1];return Object(r.useEffect)((function(){var e=m.match("/payment-success")?"success":m.match("/payment-cancel")?"cancel":"unknown",a=new URLSearchParams(g),r=a.get("product");console.log("queryParams, search:",a,g),"success"===e?l.a.updatePlan({plan:r}).then((function(e){p.a.getPlans().then((function(e){console.log("*** updatePlan result OK (user?):",e),c.a.dispatch("plan-change"),i.b.success(n("Plan updated successfully")),console.log("useeffect getPlans"),console.log("plans got successfully:",e),O(e.data);var t=e.data.find((function(e){return e.name===r}));P.plan=t,j(P),f.a.setUser(P)}),(function(e){console.error("getPlans error:",e)}))}),(function(e){console.error("updatePlan error:",e)})):console.warn("PaymentResponse - path name was:",m),t.push("/profile",{tabValue:1})}),[w]),Object(d.jsx)(d.Fragment,{})}t.default=u.a.memo(m)}}]);
//# sourceMappingURL=17.6b127bf9.chunk.js.map