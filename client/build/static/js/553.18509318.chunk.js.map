{"version":3,"file":"static/js/553.18509318.chunk.js","mappings":"4KAaA,SAASA,IAKP,IAAMC,GAAUC,EAAAA,EAAAA,MAwDhB,OAtDAC,EAAAA,EAAAA,YAAU,WACJC,EAAAA,EAAAA,mBACFA,EAAAA,EAAAA,SACAH,EAAQI,KAAK,KAEbC,EAAAA,EAAAA,SAAkB,aAEnB,CAACL,IA+CG,KAGT,UAAeM,EAAAA,KAAWP","sources":["components/auth/SignOut.js"],"sourcesContent":["import React from \"react\";\nimport { useEffect/*, useContext*/ } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n//import { useTranslation } from \"react-i18next\";\n//import { signOut } from \"../../libs/TrackPromise\";\nimport AuthService from \"../../services/AuthService\";\nimport EventBus from \"../../libs/EventBus\";\n//import { AuthContext } from \"../../providers/AuthProvider\";\n//import { OnlineStatusContext } from \"../../providers/OnlineStatusProvider\";\n//import { toast } from \"../Toast\";\n\n\n\nfunction SignOut() {\n//  const history = useHistory();\n//  const isOnline = useContext(OnlineStatusContext);\n//  const { auth, setAuth } = useContext(AuthContext);\n//  const { t } = useTranslation();\n  const history = useHistory();\n\n  useEffect(() => {\n    if (AuthService.getCurrentUser()) { // TODO: do we need this?\n      AuthService.logout();\n      history.push(\"/\");\n      //window.location.reload();\n      EventBus.dispatch(\"logout\");\n    }\n  }, [history]);\n\n  // // handle auth\n  // useEffect(() => {\n  //   EventBus.on(\"logout\", () => {\n  //     logOut();\n  //   });\n\n  //   logOut();\n\n  //   return () => {\n  //     EventBus.remove(\"logout\");\n  //   };\n  // }, []);\n\n  // const logOut = () => {\n  //   console.log(\"LOGOUT\");\n  //   AuthService.logout();\n  //   //window.location.reload();\n  // };\n\n/*\n  useEffect(() => {\n    if (!isOnline) { // fake signout while offline...\n      //return toast.warning(\"You are currently offline. Please wait for the network to become available.\");\nconsole.log(\"signOut calling setAuth\");\n      setAuth({ user: false });\n      history.replace(\"/\");\n    } else {\n      signOut({\n        success: () => {\n          //toast.success(t(\"Signed out\")); // too noisy...\nconsole.log(\"signOut calling setAuth\");\nconsole.log(\"SETAUTH auth:\", auth);\n          setAuth({ user: false })\nconsole.log(\"SETAUTH auth:\", auth);\n          history.replace(\"/\");\n        },\n        error: (err) => {\nconsole.error(\"signOut error:\", err);\n          toast.error(t(err.message));\n        }\n      });\n    }\n  }, [isOnline, history, auth, setAuth, t]);\n*/\n\n  return null;\n};\n\nexport default React.memo(SignOut);\n"],"names":["SignOut","history","useHistory","useEffect","AuthService","push","EventBus","React"],"sourceRoot":""}