{"version":3,"sources":["libs/Styling.js","components/FormElements.js","components/Unsubscribe.js"],"names":["shadeColor","color","amount","replace","Math","min","max","parseInt","toString","substr","FormInput","React","memo","props","classes","makeStyles","theme","startAdornment","backgroundColor","height","maxHeight","marginLeft","marginRight","paddingLeft","paddingRight","borderRight","endAdornment","borderLeft","useStyles","TextField","id","type","value","required","autoFocus","autoComplete","variant","fullWidth","label","size","margin","className","textField","placeholder","onChange","e","target","disabled","error","isEmptyObject","InputProps","startAdornmentIcon","InputAdornment","startAdornmentClass","position","endAdornmentIcon","endAdornmentClass","input","defaultProps","FormButton","button","spacing","textTransform","fontSize","palette","success","main","buttonSecondary","secondary","dark","buttonFederated","justifyContent","buttonFederatedFacebook","socialButtons","facebook","buttonFederatedGoogle","google","styles","Button","social","capitalize","startIcon","onClick","children","FormCheckbox","cursor","textDecoration","classNameDisabled","FormControlLabel","control","Checkbox","checked","FormText","Typography","component","align","FormLink","normal","Link","href","FormDividerWithText","container","display","alignItems","marginTop","marginVertical","marginBottom","divider","width","borderBottom","primary","text","paddingHorizontal","fieldset","border","Unsubscribe","auth","useContext","AuthContext","t","useTranslation","promiseInProgress","usePromiseTracker","delay","config","spinner","maxWidth","form","noValidate","trackPromise","fetch","URLSearchParams","username","user","then","response","json","data","console","log","ETBTAdd","toast","warning","message","catch","err"],"mappings":"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","file":"static/js/10.8faa800c.chunk.js","sourcesContent":["/**\n * Shade a color by an amount [-100 - 100] (negative is darker, positive is ligher).\n */\nexport const shadeColor = (color, amount) => {\n  return \"#\" + color.replace(/^#/, \"\").replace(/../g, color => (\"0\" + Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).substr(-2));\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Link from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport { shadeColor } from \"../libs/Styling\";\nimport { capitalize, isEmptyObject } from \"../libs/Misc\";\n\n\n\nconst FormInput = React.memo((props) => {\n  const styles = theme => ({\n    startAdornment: {\n      backgroundColor: \"#eaedf0\",\n      height: \"2.5rem\",\n      maxHeight: \"3rem\",\n      marginLeft: -15,\n      marginRight: 5,\n      paddingLeft: 10,\n      paddingRight: 10,\n      borderRight: \"1px solid #c5c5c5\",\n    },\n    endAdornment: {\n      backgroundColor: \"#eaedf0\",\n      height: \"2.5rem\",\n      maxHeight: \"3rem\",\n      marginLeft: 5,\n      marginRight: -15,\n      paddingLeft: 10,\n      paddingRight: 10,\n      borderLeft: \"1px solid #c5c5c5\",\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  return (\n    <TextField\n      id={props.id}\n      type={props.type}\n      value={props.value}\n      required={props.required}\n      autoFocus={props.autoFocus}\n      autoComplete={props.autoComplete.toString()}\n      variant={props.variant}\n      fullWidth={props.fullWidth}\n      label={props.label}\n      size={props.size}\n      margin={props.margin}\n      className={props.className ? props.className : classes.textField}\n      placeholder={props.placeholder}\n      onChange={e => props.onChange(e.target.value)}\n      disabled={props.disabled}\n      error={!isEmptyObject(props.error)}\n      InputProps={{\n        startAdornment: props.startAdornmentIcon ? (\n          <InputAdornment\n            className={props.startAdornmentClass ? props.startAdornmentClass : classes.startAdornment}\n            position=\"start\"\n          >\n            {props.startAdornmentIcon}\n          </InputAdornment>\n        ) : (<></>),\n        endAdornment: props.endAdornmentIcon ? (\n          <InputAdornment\n            className={props.endAdornmentClass ? props.endAdornmentClass : classes.endAdornment}\n            position=\"end\"\n          >\n            {props.endAdornmentIcon}\n          </InputAdornment>\n        ) : (<></>),\n        className: classes.input,\n      }}\n    />\n  );\n});\n\nFormInput.propTypes = {\n  value: PropTypes.string.isRequired,\n  startAdornmentClass: PropTypes.string,\n  startAdornmentIcon: PropTypes.object,\n  endAdornmentClass: PropTypes.string,\n  endAdornmentIcon: PropTypes.object,\n  disabled: PropTypes.bool,\n  error: PropTypes.string,\n};\n\nFormInput.defaultProps = {\n  type: \"text\",\n  required: false,\n  autoFocus: false,\n  autoComplete: false,\n  variant: \"outlined\",\n  fullWidth: true,\n  label: \"\",\n  size: \"small\",\n  margin: \"dense\",\n  className: null,\n  placeholder: \"\",\n  startAdornmentClass: null,\n  endAdornmentClass: null,\n  disabled: false,\n  error: \"\",\n};\n\n\n\nconst FormButton = React.memo((props) => {\n  const styles = theme => ({\n    button: {\n      margin: theme.spacing(1, 0, 0, 0),\n      textTransform: \"none\",\n      fontSize: \"1.3em\",\n      color: \"white\", // TODO\n      backgroundColor: theme.palette.success.main,\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.success.main, -25),\n      },\n    },\n    buttonSecondary: {\n      margin: theme.spacing(1, 0, 0, 0),\n      textTransform: \"none\",\n      fontSize: \"1em !important\",\n      color: \"white\", // TODO\n      backgroundColor: theme.palette.secondary.dark + \" !important\",\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.secondary.dark, -25)  + \" !important\",\n      },\n    },\n    buttonFederated: {\n      margin: theme.spacing(1, 0, 0, 0),\n      justifyContent: \"flex-start\",\n      paddingLeft: theme.spacing(5),\n      fontSize: \"1.3em\",\n    },  \n    buttonFederatedFacebook: {\n      backgroundColor: theme.palette.socialButtons.facebook.backgroundColor,\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.socialButtons.facebook.backgroundColor, -25),\n      },\n    },\n    buttonFederatedGoogle: {\n      backgroundColor: theme.palette.socialButtons.google.backgroundColor,\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.socialButtons.google.backgroundColor, -25),\n      },\n    },\n  \n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  return (\n    <Button\n      fullWidth={props.fullWidth}\n      variant={props.variant}\n      color={props.color}\n      size={props.size}\n      className={`${classes.button} ${props.social ? classes.buttonFederated : \"\"} ${props.social ? classes[\"buttonFederated\" + capitalize(props.social)] : \"\"} ${classes[props.className]}`}\n      startIcon={props.startIcon}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </Button>\n  );\n});\n\nFormButton.propTypes = {\n  social: PropTypes.oneOf([\n    \"Facebook\",\n    \"Google\",\n  ]),\n}\n\nFormButton.defaultProps = {\n  fullWidth: true,\n  variant: \"contained\",\n  color: \"primary\",\n  social: null,\n};\n\n\n\nconst FormCheckbox = React.memo((props) => {\n  const styles = theme => ({\n    disabled: {\n      color: \"grey\",\n      cursor: \"default\",\n      \"&:hover\": {\n        textDecoration: \"none\",\n      },\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  const classNameDisabled = props.disabled ? classes.disabled : \"\";\n\n  return (\n    <FormControlLabel\n      control={\n        <Checkbox\n          checked={props.checked}\n          onChange={(e) => props.onChange(e.target.checked)}\n          className={`${props.className} ${classNameDisabled}`}\n          color={props.color}\n          size={props.size}\n          disabled={props.disabled}\n        />\n      }\n      label={\n        <FormText\n          className={`${props.className} ${classNameDisabled}`}\n        >\n          {props.children}\n        </FormText>\n      }\n    />\n  );\n});\n\nFormCheckbox.propTypes = {\n};\n\nFormCheckbox.defaultProps = {\n  checked: false,\n  color: \"primary\",\n  size: \"small\",\n};\n\n\n\nconst FormText = React.memo((props) => {\n  return (\n    <Typography\n      component={props.component}\n      variant={props.variant}\n      color={props.color}\n      align={props.align}\n      {...props}\n    >\n      {props.children}\n    </Typography>\n  );\n});\n\nFormText.propTypes = {\n};\n\nFormText.defaultProps = {\n  component: \"h1\",\n  variant: \"body2\",\n  color: \"textPrimary\",\n};\n\n\n\nconst FormLink = React.memo((props) => {\n  const styles = theme => ({\n    normal: {\n      cursor: \"pointer\",\n    },\n    disabled: {\n      color: \"grey\",\n      cursor: \"default\",\n      \"&:hover\": {\n        textDecoration: \"none\",\n        color: \"grey\",\n      },\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  const className = props.disabled ? classes.disabled : classes.normal;\n\n  return (\n    <Link\n      href={props.href}\n      className={`${props.className} ${className}`}\n      color={props.color}\n      {...props}\n    >\n      {props.children}\n    </Link>\n  );\n});\n\nFormLink.propTypes = {\n};\n\nFormLink.defaultProps = {\n  color: \"textPrimary\",\n};\n\n\n\nconst FormDividerWithText = React.memo((props) => {\n  const styles = theme => ({\n    container: {\n      display: \"flex\",\n      alignItems: \"center\",\n      marginTop: theme.spacing(props.marginVertical),\n      marginBottom: theme.spacing(props.marginVertical),\n    },\n    divider: {\n      width: \"100%\",\n      borderBottom: \"1px solid \" + (props.color ? props.color : theme.palette.primary.dark),\n      paddingLeft: theme.spacing(1),\n    },\n    text: {\n      paddingLeft: theme.spacing(props.paddingHorizontal),\n      paddingRight: theme.spacing(props.paddingHorizontal),\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.divider} />\n      {props.children && <span className={classes.text}>\n        {props.children}\n      </span>}\n      <div className={classes.divider} />\n    </div>\n  );\n});\n\nFormDividerWithText.propTypes = {\n  color: PropTypes.string,\n  marginVertical: PropTypes.oneOf([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 ]),\n  paddingHorizontal: PropTypes.oneOf([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 ]),\n};\n\nFormDividerWithText.defaultProps = {\n  marginVertical: 1,\n  paddingHorizontal: 1,\n};\n\nexport {FormInput, FormButton, FormCheckbox, FormText, FormLink, FormDividerWithText};\n","import React, { useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { usePromiseTracker } from \"react-promise-tracker\";\nimport { trackPromise } from \"react-promise-tracker\";\nimport { useTranslation } from \"react-i18next\";\nimport Container from \"@material-ui/core/Container\";\nimport { AuthContext } from \"../providers/AuthProvider\";\nimport { toast } from \"./Toast\";\nimport { FormButton } from \"./FormElements\";\nimport config from \"../config\";\nimport { ETBTAdd } from \"../libs/I18n\"; // TODO: remove me when finished collecting serve errors\n\nconst useStyles = makeStyles(theme => ({\n  fieldset: {\n    border: 0,\n  },\n}));\n\n\n\nfunction Unsubscribe() {\n\tconst classes = useStyles();\n  const { auth } = useContext(AuthContext);\n  const { t } = useTranslation();\n  const { promiseInProgress } = usePromiseTracker({delay: config.spinner.delay});\n\n  const formUnsubscribe = (e) => {\n    // TODO: to config...\n    const apiStage = \"dev\"; \n    const apiVersion = 1;\n    \n    /* eslint-disable no-useless-concat */\n    trackPromise(\n      // TODO: utils function to get fetch basepath...\n      fetch(`https://api${apiStage}.sistemisolari.com/v${apiVersion}/unsubscribe` + `?` + new URLSearchParams({\n        username: auth.user.username,\n      })) // TODO: url from config, or - better - encapsulate in lambda service...\n      .then(response => response.json())\n      .then(data => {\n        console.log(\"data:\", data)\n        if (!data.error) {\n          toast.success(data.message);\n        } else {\nETBTAdd(\"unsubscribeWarning\", data.error);\n          toast.warning(data.error);\n        }\n      })\n      .catch(err => { // TODO ...\nconsole.log(\"error:\", err);\nETBTAdd(\"unsubscribeError\", err.message);\n        toast.error(t(err.message));\n      })\n    );\n  }\n\n  return (\n    <Container maxWidth=\"xs\">\n\n      <form className={classes.form} noValidate autoComplete=\"off\">\n        <fieldset disabled={promiseInProgress} className={classes.fieldset}>\n\n          <FormButton\n            onClick={formUnsubscribe}\n          >\n            {t(\"Unsubscribe\")}\n          </FormButton>\n        </fieldset>\n      </form>\n\n    </Container>\n  );\n}\n\nexport default React.memo(Unsubscribe);"],"sourceRoot":""}