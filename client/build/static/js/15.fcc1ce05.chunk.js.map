{"version":3,"sources":["components/FlexibleDialog.js","services/JobService.js","libs/Styling.js","components/FormElements.js","services/UserService.js","assets/images/SelectedPlan-en.png","assets/images/SelectedPlan-it.png","assets/images/SelectedPlan-fr.png","components/Pricing.js","services/PaymentService.js","components/auth/Profile.js"],"names":["FlexibleDialog","title","contentText","actions","props","onBackdropClick","onClose","event","reason","map","action","index","onClick","callback","closeModal","variant","autoFocus","style","textTransform","text","defaultProps","React","memo","get","a","TokenService","getUser","api","JobService","set","job","put","upload","file","formData","FormData","append","post","headers","transformXls2Xml","filePath","validateXml","transform","outcomeCheck","anno","codiceFiscaleAmministrazione","outcomeFailureDetails","urlExistenceAndMatch","url","fileToMatch","console","log","getPlans","shadeColor","color","amount","replace","Math","min","max","parseInt","toString","substr","FormInput","classes","makeStyles","theme","startAdornment","backgroundColor","height","maxHeight","marginLeft","marginRight","paddingLeft","paddingRight","borderRight","endAdornment","borderLeft","textField","useStyles","TextField","id","type","value","required","autoComplete","fullWidth","label","size","margin","className","placeholder","onChange","e","target","disabled","error","isEmptyObject","InputProps","startAdornmentIcon","InputAdornment","startAdornmentClass","position","endAdornmentIcon","endAdornmentClass","input","FormButton","button","spacing","fontSize","palette","success","main","buttonSecondary","secondary","dark","buttonFederated","justifyContent","buttonFederatedFacebook","socialButtons","facebook","buttonFederatedGoogle","google","styles","Button","social","capitalize","startIcon","children","cursor","textDecoration","classNameDisabled","FormControlLabel","control","Checkbox","checked","FormText","Typography","component","align","FormLink","normal","decoration","Link","href","FormDividerWithText","container","display","alignItems","marginTop","marginVertical","marginBottom","divider","width","borderBottom","primary","paddingHorizontal","UserService","getProfile","then","response","data","updateProfile","email","password","firstName","lastName","address","fiscalCode","businessName","updateUserProperty","userId","propertyName","propertyValue","updatePlan","plan","getRoles","roles","updateRoles","getPublicContent","getUserBoard","getModeratorBoard","getAdminBoard","getAdminPanel","section","cardHeader","paddingTop","cardHeaderActive","cardHeaderTest","paddingBottom","cardTest","borderRadius","fontWeight","padding","card","transition","border","boxShadow","cardActive","cardActiveImage","maxWidth","opacity","zIndex","cardHr","Pricing","t","useTranslation","showModal","useModal","useState","perMonth","setPerMonth","plans","setPlans","useEffect","result","Error","isActivePlan","currentPlanName","name","getCurrentLanguage","i18n","language","selectedPlanImage","SelectedPlanImage_en","SelectedPlanImage_it","SelectedPlanImage_fr","Container","Box","py","textAlign","mb","gutterBottom","pricePerMonth","pricePerYear","Switch","Grid","item","xs","md","length","src","alt","Card","join","CardHeader","titleTypographyProps","paymentMode","CardContent","px","currencyISO4217ToSymbol","priceCurrency","cigNumberAllowed","Number","MAX_SAFE_INTEGER","cigs","supportTypes","supportType","openDialog","onPlanSelected","canForcePlan","mt","onPlanForced","mode","createCheckoutSession","product","PaymentService","root","flexGrow","avatar","columnLeft","columnRight","form","fieldset","fieldsetPersonalData","borderStyle","borderColor","fieldsetCompanyData","fieldsetAddress","formControlSelectPlan","minWidth","formControlSelectRole","tab","light","tabIndicator","a11yProps","ProfileTabPanel","other","role","hidden","p","Profile","history","useHistory","user","setUser","profile","setProfile","setEmail","setFirstName","setLastName","setFiscalCode","setBusinessName","setAddress","addressStreet","setAddressStreet","addressStreetNo","setAddressStreetNo","addressCity","setAddressCity","addressProvince","setAddressProvince","addressZip","setAddressZip","addressCountry","setAddressCountry","setPaymentMode","setPlan","setRoles","rolesNames","setRolesNames","setError","location","state","tabValue","setTabValue","anyProfileChanges","setAnyProfileChanges","anyRolesChanges","setAnyRolesChanges","useBeforeunload","preventDefault","unblock","block","window","confirm","street","streetNo","city","province","zip","country","toast","goBack","code","message","userCanUpdateRoles","includes","userCanForcePlan","m","Avatar","AppBar","Tabs","newValue","indicator","Tab","noValidate","v","direction","columnSpacing","sm","lg","rowSpacing","planName","errorMessage","session","FormControl","InputLabel","Select","labelId","multiple","MenuItem","warn","String","split","every","config","rolesNamesDefault","EventBus","dispatch"],"mappings":"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","file":"static/js/15.fcc1ce05.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@mui/material/Button\";\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions } from '@mui/material';\n\nconst FlexibleDialog = ({ title, contentText, actions, ...props }) => (\n  <Dialog\n    {...props}\n    onBackdropClick={() => {} /* disable modal close on backdrop click */}\n    //disableScrollLock={false}\n    //disableEnforceFocus={false}\n    aria-labelledby={title}\n    onClose={(event, reason) => { /* console.log(\"REASON:\", reason); */ }}\n  >\n    <DialogTitle>{title}</DialogTitle>\n    <DialogContent>\n      <DialogContentText>{contentText}</DialogContentText>\n    </DialogContent>\n    <DialogActions>\n      {actions.map((action, index) => (\n        <Button\n          key={index}\n          onClick={() => {\n            if (action.callback) action.callback();\n            if (action.closeModal) props.onClose();\n          }}\n          variant={action.variant === \"primary\" ? \"contained\" : action.variant === \"secondary\" ? \"outlined\" : \"contained\"}\n          autoFocus={props}\n          style={{textTransform: \"none\"}} // do not uppercase button text\n        >\n          {action.text}\n        </Button>\n      ))}\n    </DialogActions>\n  </Dialog>\n);\n\nFlexibleDialog.propTypes = {\n  title: PropTypes.string,\n  contentText: PropTypes.string,\n  actions: PropTypes.arrayOf(\n    PropTypes.shape({\n      text: PropTypes.string,\n      closeModal: PropTypes.bool,\n      callback: PropTypes.func,\n      variant: PropTypes.oneOf([\n        \"primary\", \"secondary\",\n      ]),\n      autoFocus: PropTypes.bool,\n    })\n  ),\n};\n\nFlexibleDialog.defaultProps = {\n  title: \"\",\n  contentText: \"\",\n  actions: [\n    {\n      text: \"Ok\",\n      closeModal: true,\n      callback: () => {},\n      variant: \"primary\",\n      autoFocus: false,\n    }\n  ],\n};\n\nexport default React.memo(FlexibleDialog);","import api from \"./API\";\nimport TokenService from \"./TokenService\";\n\n// get job status\nconst get = async () => {\n  // const user = TokenService.getUser();\n  // if (!user) {\n  //   return null;\n  // }\n  // return api.get(\"/job/get\", {\n  //   userId: user._id,\n  // });\n\n  //const retval = await api.get(\"/job/get\");\n\n  const user = TokenService.getUser();\n  if (!user) {\n    return null;\n  }\n  return await api.get(\"/job/get\");\n};\n\n// set job status\nconst set = (job) => {\n  const user = TokenService.getUser();\n  if (!user) {\n    return null;\n  }\n\n  return api.put(\"/job/set\", {job});\n};\n\n// upload a file\nconst upload = (file) => {\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  \n  return api.post(\"/job/upload\", formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n    }\n  });\n};\n\n// transform XLS to XML\nconst transformXls2Xml = (filePath) => {\n  return api.post(\"/job/transformXls2Xml/:filePath\", {\n    filePath,\n  });\n}\n\n// validate XML syntax\nconst validateXml = (transform) => {\n  return api.post(\"/job/validateXml/:transform\", {\n    transform,\n  });\n  // const retval = api.post(\"/job/validateXml/:transform\", {\n  //   transform,\n  // });\n  // console.log(\"****************** validateXml retval:\", retval);\n  // return retval;\n}\n\n// check ANAC periodic verification outcome\nconst outcomeCheck = (anno, codiceFiscaleAmministrazione) => {\n  return api.post(\"/job/outcomeCheck/:anno/:codiceFiscaleAmministrazione\",\n    {\n      anno,\n      codiceFiscaleAmministrazione,\n    }\n  );\n}\n\n// get ANAC periodic verification failed outcome details\nconst outcomeFailureDetails = (anno, codiceFiscaleAmministrazione) => {\n  return api.post(\n    \"/job/outcomeFailureDetails/anno/codiceFiscaleAmministrazione\",\n    {\n      anno,\n      codiceFiscaleAmministrazione,\n    }\n  );\n}\n\n// check url existence\nconst urlExistenceAndMatch = (url, fileToMatch) => {\nconsole.log(\"*** jobService - url,fileToMatch:\", url, fileToMatch);\n  return api.post(\n    \"/job/urlExistenceAndMatch/url/fileToMatch\",\n    {\n      url,\n      fileToMatch,\n    }\n  );\n}\n\n// // just to ignore big xml when debug printing...\n// const sanitizeJob = (job) => {\n//   if (!job?.transform?.xml) {\n//     return job;\n//   }\n//   let j = job;\n//   j.transform.xml = \"â€¦\";\n//   return j;\n// }\n\n// get ANAC periodic verification failed outcome details\nconst getPlans = () => {\n  return api.get(\n    \"/job/getPlans\",\n  );\n}\n\nconst JobService = {\n  get,\n  set,\n  upload,\n  transformXls2Xml,\n  validateXml,\n  outcomeCheck,\n  outcomeFailureDetails,\n  urlExistenceAndMatch,\n  //sanitizeJob,\n  getPlans,\n};\n\nexport default JobService;\n","/**\n * Shade a color by an amount [-100 - 100] (negative is darker, positive is ligher).\n */\nexport const shadeColor = (color, amount) => {\n  return \"#\" + color.replace(/^#/, \"\").replace(/../g, color => (\"0\" + Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).substr(-2));\n}\n","import React/*, { useState }*/ from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@mui/material/Button\";\nimport TextField from \"@mui/material/TextField\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport Link from \"@mui/material/Link\";\n//import Tooltip, { TooltipProps } from '@mui/material/Tooltip';\nimport Typography from \"@mui/material/Typography\";\nimport { makeStyles } from \"@mui/styles\";\nimport InputAdornment from \"@mui/material/InputAdornment\";\nimport { shadeColor } from \"../libs/Styling\";\nimport { capitalize, isEmptyObject } from \"../libs/Misc\";\n\n\n\nconst FormInput = React.memo((props) => {\n  const styles = theme => ({\n    startAdornment: {\n      backgroundColor: \"#efefff\",\n      height: \"2.5rem\",\n      maxHeight: \"3rem\",\n      marginLeft: -15,\n      marginRight: 5,\n      paddingLeft: 10,\n      paddingRight: 10,\n      borderRight: \"1px solid #c5c5c5\",\n    },\n    endAdornment: {\n      backgroundColor: \"#efefff\",\n      height: \"2.5rem\",\n      maxHeight: \"3rem\",\n      marginLeft: 5,\n      marginRight: -15,\n      paddingLeft: 10,\n      paddingRight: 10,\n      borderLeft: \"1px solid #c5c5c5\",\n    },\n    textField: {\n      backgroundColor: \"#efefff\",\n    }\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  return (\n    <TextField\n      id={props.id}\n      type={props.type}\n      value={props.value}\n      required={props.required}\n      autoFocus={props.autoFocus}\n      autoComplete={props.autoComplete.toString()}\n      variant={props.variant}\n      fullWidth={props.fullWidth}\n      label={props.label}\n      size={props.size}\n      margin={props.margin}\n      className={props.className ? props.className : classes.textField}\n      placeholder={props.placeholder}\n      onChange={e => props.onChange(e.target.value)}\n      disabled={props.disabled}\n      error={!isEmptyObject(props.error)}\n      InputProps={{\n        startAdornment: props.startAdornmentIcon ? (\n          <InputAdornment\n            className={props.startAdornmentClass ? props.startAdornmentClass : classes.startAdornment}\n            position=\"start\"\n          >\n            {props.startAdornmentIcon}\n          </InputAdornment>\n        ) : (<></>),\n        endAdornment: props.endAdornmentIcon ? (\n          <InputAdornment\n            className={props.endAdornmentClass ? props.endAdornmentClass : classes.endAdornment}\n            position=\"end\"\n          >\n            {props.endAdornmentIcon}\n          </InputAdornment>\n        ) : (<></>),\n        className: classes.input,\n      }}\n    />\n  );\n});\n\nFormInput.propTypes = {\n  value: PropTypes.string.isRequired,\n  startAdornmentClass: PropTypes.string,\n  startAdornmentIcon: PropTypes.object,\n  endAdornmentClass: PropTypes.string,\n  endAdornmentIcon: PropTypes.object,\n  disabled: PropTypes.bool,\n  error: PropTypes.string,\n};\n\nFormInput.defaultProps = {\n  type: \"text\",\n  required: false,\n  autoFocus: false,\n  autoComplete: false,\n  variant: \"outlined\",\n  fullWidth: true,\n  label: \"\",\n  size: \"small\",\n  margin: \"dense\",\n  className: null,\n  placeholder: \"\",\n  startAdornmentClass: null,\n  endAdornmentClass: null,\n  disabled: false,\n  error: \"\",\n};\n\n\n\nconst FormButton = React.memo((props) => {\n  const styles = theme => ({\n    button: {\n      margin: theme.spacing(1, 0, 0, 0),\n      textTransform: \"none\",\n      fontSize: \"1.3em\",\n      color: \"white\",\n      backgroundColor: theme.palette.success.main,\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.success.main, -25),\n      },\n    },\n    buttonSecondary: {\n      margin: theme.spacing(1, 0, 0, 0),\n      textTransform: \"none\",\n      fontSize: \"1em !important\",\n      color: \"white\",\n      backgroundColor: theme.palette.secondary.dark + \" !important\",\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.secondary.dark, -25)  + \" !important\",\n      },\n    },\n    buttonFederated: {\n      margin: theme.spacing(1, 0, 0, 0),\n      justifyContent: \"flex-start\",\n      paddingLeft: theme.spacing(5),\n      fontSize: \"1.3em\",\n    },  \n    buttonFederatedFacebook: {\n      backgroundColor: theme.palette.socialButtons.facebook.backgroundColor,\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.socialButtons.facebook.backgroundColor, -25),\n      },\n    },\n    buttonFederatedGoogle: {\n      backgroundColor: theme.palette.socialButtons.google.backgroundColor,\n      \"&:hover\": {\n        backgroundColor: shadeColor(theme.palette.socialButtons.google.backgroundColor, -25),\n      },\n    },\n  \n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  return (\n    <Button\n      fullWidth={props.fullWidth}\n      variant={props.variant}\n      color={props.color}\n      size={props.size}\n      className={`${classes.button} ${props.social ? classes.buttonFederated : \"\"} ${props.social ? classes[\"buttonFederated\" + capitalize(props.social)] : \"\"} ${classes[props.className]}`}\n      startIcon={props.startIcon}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </Button>\n  );\n});\n\nFormButton.propTypes = {\n  social: PropTypes.oneOf([\n    \"Facebook\",\n    \"Google\",\n  ]),\n}\n\nFormButton.defaultProps = {\n  fullWidth: true,\n  variant: \"contained\",\n  color: \"primary\",\n  social: null,\n};\n\n\n\nconst FormCheckbox = React.memo((props) => {\n  const styles = theme => ({\n    disabled: {\n      color: \"grey\",\n      cursor: \"default\",\n      \"&:hover\": {\n        textDecoration: \"none\",\n      },\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  const classNameDisabled = props.disabled ? classes.disabled : \"\";\n\n  return (\n    <FormControlLabel\n      control={\n        <Checkbox\n          checked={props.checked}\n          onChange={(e) => props.onChange(e.target.checked)}\n          className={`${props.className} ${classNameDisabled}`}\n          color={props.color}\n          size={props.size}\n          disabled={props.disabled}\n        />\n      }\n      label={\n        <FormText\n          className={`${props.className} ${classNameDisabled}`}\n        >\n          {props.children}\n        </FormText>\n      }\n    />\n  );\n});\n\nFormCheckbox.propTypes = {\n};\n\nFormCheckbox.defaultProps = {\n  checked: false,\n  color: \"primary\",\n  size: \"small\",\n};\n\n\n\nconst FormText = React.memo((props) => {\n  return (\n    <Typography\n      component={props.component}\n      variant={props.variant}\n      color={props.color}\n      align={props.align}\n      {...props}\n    >\n      {props.children}\n    </Typography>\n  );\n});\n\nFormText.propTypes = {\n};\n\nFormText.defaultProps = {\n  component: \"h1\",\n  variant: \"body2\",\n  color: \"textPrimary\",\n};\n\n\n\nconst FormLink = React.memo((props) => {\n  const styles = theme => ({\n    normal: {\n      cursor: \"pointer\",\n      textDecoration: props.decoration ? props.decoration : \"none\",\n    },\n    disabled: {\n      color: \"grey\",\n      cursor: \"default\",\n      \"&:hover\": {\n        textDecoration: \"none\",\n        color: \"grey\",\n      },\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  const className = props.disabled ? classes.disabled : classes.normal;\n\n  return (\n    <Link\n      href={props.href}\n      className={`${props.className} ${className}`}\n      color={props.color}\n      {...props}\n    >\n      {props.children}\n    </Link>\n  );\n});\n\nFormLink.propTypes = {\n};\n\nFormLink.defaultProps = {\n  color: \"textPrimary\",\n};\n\n\n\nconst FormDividerWithText = React.memo((props) => {\n  const styles = theme => ({\n    container: {\n      display: \"flex\",\n      alignItems: \"center\",\n      marginTop: theme.spacing(props.marginVertical),\n      marginBottom: theme.spacing(props.marginVertical),\n    },\n    divider: {\n      width: \"100%\",\n      borderBottom: \"1px solid \" + (props.color ? props.color : theme.palette.primary.dark),\n      paddingLeft: theme.spacing(1),\n    },\n    text: {\n      paddingLeft: theme.spacing(props.paddingHorizontal),\n      paddingRight: theme.spacing(props.paddingHorizontal),\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.divider} />\n      {props.children && <span className={classes.text}>\n        {props.children}\n      </span>}\n      <div className={classes.divider} />\n    </div>\n  );\n});\n\nFormDividerWithText.propTypes = {\n  color: PropTypes.string,\n  marginVertical: PropTypes.oneOf([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 ]),\n  paddingHorizontal: PropTypes.oneOf([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 ]),\n};\n\nFormDividerWithText.defaultProps = {\n  marginVertical: 1,\n  paddingHorizontal: 1,\n};\n\n/*\nconst FormTooltip = ({ children, ...rest }: TooltipProps) => {\n  const [renderTooltip, setRenderTooltip] = useState(false);\n\n  return (\n    <div\n      onMouseEnter={() => !renderTooltip && setRenderTooltip(true)}\n      className=\"display-contents\"\n    >\n      {!renderTooltip && children}\n      {renderTooltip && (\n        <Tooltip {...rest}>\n          <span>\n            {children}\n          </span>\n        </Tooltip>\n      )}\n    </div>\n  );\n}\n\nconst _FormTooltip = React.memo((props) => {\n  const styles = theme => ({\n    normal: {\n      cursor: \"pointer\",\n      textDecoration: props.decoration ? props.decoration : \"none\",\n    },\n    disabled: {\n      color: \"grey\",\n      cursor: \"default\",\n      \"&:hover\": {\n        textDecoration: \"none\",\n        color: \"grey\",\n      },\n    },\n  });\n  const useStyles = makeStyles((theme) => (styles(theme)));\n  const classes = useStyles();\n\n  const className = props.disabled ? classes.disabled : classes.normal;\n\n  return (\n    <Tooltip\n      placement={props.placement}\n      enterDelay={props.enterDelay}\n      leaveDelay={props.leaveDelay}\n      {...props}\n    >\n      {props.children}\n    </Tooltip>\n  );\n});\n\nFormTooltip.propTypes = {\n  placement: PropTypes.string,\n  enterDelay: PropTypes.number,\n  leaveDelay: PropTypes.number,\n};\n\nFormTooltip.defaultProps = {\n  placement: \"left\",\n  enterDelay: 500,\n  leaveDelay: 200,\n};\n*/\n\nexport {FormInput, FormButton, FormCheckbox, FormText, FormLink, FormDividerWithText/*, FormTooltip*/};\n","import api from \"./API\";\n\nconst getProfile = () => {\n  return api.get(\"/user/getProfile\").then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst updateProfile = ({/*username, */email, password, firstName, lastName, address, fiscalCode, businessName}) => {\n  return api.post(\"/user/updateProfile\", {\n    //username,\n    email,\n    password,\n    firstName,\n    lastName,\n    address,\n    fiscalCode,\n    businessName,\n  }).then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst updateUserProperty = ({userId, propertyName, propertyValue}) => {\n  return api.post(\"/user/updateUserProperty\", {\n    userId,\n    propertyName,\n    propertyValue,\n  }).then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst updatePlan = plan => {\n  console.log(\"updatePlan - plan:\", plan);\n  return api.post(\"/user/updatePlan\",\n    plan,\n  ).then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst getRoles = roles => {\n  return api.get(\"/user/getRoles\").then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst updateRoles = roles => {\n  return api.post(\"/user/updateRoles\",\n    roles,\n  ).then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst getPublicContent = () => {\n  return api.get(\"/test/all\");\n};\n\nconst getUserBoard = () => {\n  return api.get(\"/test/user\");\n};\n\nconst getModeratorBoard = () => {\n  return api.get(\"/test/mod\");\n};\n\nconst getAdminBoard = () => {\n  return api.get(\"/test/admin\");\n};\n\nconst getAdminPanel = () => {\n  return api.get(\"/admin/getAdminPanel\"\n  ).then(\n    (response) => {\n      return response.data;\n    },\n    (error) => {\n      return error;\n    }\n  );\n};\n\nconst UserService = {\n  getProfile,\n  updateProfile,\n  updateUserProperty,\n  updatePlan,\n  getRoles,\n  updateRoles,\n  getPublicContent,\n  getUserBoard,\n  getModeratorBoard,\n  getAdminBoard,\n  getAdminPanel,\n};\n\nexport default UserService;\n","export default __webpack_public_path__ + \"static/media/SelectedPlan-en.85b85fc0.png\";","export default __webpack_public_path__ + \"static/media/SelectedPlan-it.a09948bf.png\";","export default __webpack_public_path__ + \"static/media/SelectedPlan-fr.749a5b1e.png\";","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport { useModal } from \"mui-modal-provider\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport Container from \"@mui/material/Container\";\nimport Grid from \"@mui/material/Grid\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Card from \"@mui/material/Card\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardHeader from \"@mui/material/CardHeader\";\nimport Button from \"@mui/material/Button\";\nimport Link from \"@mui/material/Link\";\nimport Switch from \"@mui/material/Switch\";\nimport FlexibleDialog from \"./FlexibleDialog\";\nimport i18n from \"i18next\";\nimport SelectedPlanImage_en from \"../assets/images/SelectedPlan-en.png\";\nimport SelectedPlanImage_it from \"../assets/images/SelectedPlan-it.png\";\nimport SelectedPlanImage_fr from \"../assets/images/SelectedPlan-fr.png\";\nimport JobService from \"../services/JobService\";\nimport { getCurrentLanguage } from \"../libs/I18n\";\nimport { capitalize, currencyISO4217ToSymbol } from \"../libs/Misc\";\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  section: {\n  },\n  cardHeader: {\n    paddingTop: theme.spacing(3),\n  },\n  cardHeaderActive: {\n    //fontWeight: \"bold\",\n  },\n  cardHeaderTest: {\n    paddingBottom: 0,\n  },\n  cardTest: { // a style similar to Stripe's test tag\n    color: \"#bb571f\",\n    backgroundColor: \"#ffde92\",\n    borderRadius: 5,\n    fontSize: 14,\n    fontWeight: \"bold\",\n    padding: 2,\n    paddingLeft: 7,\n    paddingRight: 7,\n  },\n  card: {\n    transition: \"box-shadow .3s\",\n    borderRadius: 10,\n    border: \"1px solid #ccc\",\n    \"&:hover\": {\n      boxShadow: \"10px 10px 30px rgba(32, 32, 132, .5)\",\n    },\n  },\n  cardActive: {\n    backgroundColor: \"#e0e8ff\",\n  },\n  cardActiveImage: {\n    position: \"absolute\",\n    marginLeft: 50,\n    marginTop: -20,\n    maxWidth: 80,\n    transform: \"rotate(15deg)\",\n    opacity: 0.6,\n    zIndex: 999,\n  },\n  cardHr: {\n    border: \"1px solid #eee\",\n  },\n}));\n\n\n\nconst Pricing = props => {\nconsole.log(\"Pricing - props:\", props);\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const { showModal } = useModal();\n  const openDialog = (props) => showModal(FlexibleDialog, props);\n  const [perMonth, setPerMonth] = React.useState(false);\n  const [plans, setPlans] = useState([]);\n\n  const handleChangePerMonth = (event) => {\n    setPerMonth(event.target.checked);\n  };\n\n  // get user plans on load\n  useEffect(() => {\n    JobService.getPlans().then(\n      result => {\n        if (!!!!(result instanceof Error)) { // TODO: handle error...\n          console.error(\"getPlans error:\", result);\n          return\n        }\n        console.log(`getPlans got successfully:`, result.data);\n        setPlans(result.data);\n      }\n    );\n  }, [setPlans]);\n\n  const isActivePlan = (plan) => {\n    return props.currentPlanName === plan.name;\n  };\n  \n  const [language] = useState(getCurrentLanguage(i18n));\n  let selectedPlanImage = null;\n  switch (language) {\n    case \"en\": selectedPlanImage = SelectedPlanImage_en; break;\n    case \"it\": selectedPlanImage = SelectedPlanImage_it; break;\n    case \"fr\": selectedPlanImage = SelectedPlanImage_fr; break;\n    default: selectedPlanImage = SelectedPlanImage_en; break;\n  }\n\n  return (\n    <section className={classes.section}>\n      <Container>\n        <Box py={0} textAlign=\"center\">\n          <Box mb={0}>\n            <Container maxWidth=\"lg\">\n              <Typography variant=\"h3\" component=\"h2\" gutterBottom={true}>\n                <Typography variant=\"h6\" component=\"span\" color=\"primary\">{t(\"Choose the plan which best suits your needs\")}</Typography>\n              </Typography>\n              {(\n                (typeof plans[0]?.pricePerMonth !== \"undefined\") &&\n                (typeof plans[0]?.pricePerYear !== \"undefined\")\n              ) && (\n                <div>\n                  <Typography variant=\"subtitle1\" component=\"span\">{t(\"per year\")}</Typography>\n                    <span>\n                      &nbsp;\n                      <Switch name=\"checkbox\" color=\"primary\" checked={perMonth} onChange={handleChangePerMonth} />\n                      &nbsp;\n                    </span>\n                  <Typography variant=\"subtitle1\" component=\"span\">{t(\"per month\")}</Typography>\n                </div>\n              )}\n            </Container>\n          </Box>\n          <Grid container spacing={3}>\n            {plans.map((plan, index) => (\n              <Grid key={index} item xs={12} md={parseInt(plans.length ? 12 / plans.length : 12)}>\n                {isActivePlan(plan) && (\n                  <img className={classes.cardActiveImage} src={selectedPlanImage} alt={t(\"Selected plan stamp\")} />\n                )}\n                <Card\n                  variant=\"outlined\"\n                  className={[classes.card, isActivePlan(plan) ? classes.cardActive : null, /*props.paymentMode !== \"live\" ? classes.cardRibbonTest : null*/].join(\" \")}\n                >\n                  <CardHeader\n                    title={capitalize(t(plan.name))}\n                    className={[classes.cardHeader, isActivePlan(plan) ? classes.cardHeaderActive : null].join(\" \")}\n                    titleTypographyProps={isActivePlan(plan) ? { /*fontWeight: \"bold\"*/ } : {}}\n                  >\n                  </CardHeader>\n                  {props.paymentMode !== \"live\" ? <span className={classes.cardTest}> TEST </span> : <></>}\n                  <hr className={classes.cardHr} />\n                  <CardContent>\n                    <Box px={1}>\n                      <Typography variant=\"h4\" component=\"h2\" gutterBottom={true} style={{fontWeight: \"bold\"}}>\n                        {currencyISO4217ToSymbol(plan.priceCurrency)}\n                        {perMonth ? plan.pricePerMonth : plan.pricePerYear}\n                        {<Typography variant=\"h6\" color=\"textSecondary\" component=\"span\"> / {perMonth ? t(\"month\") : t(\"year\")}</Typography>}\n                      </Typography>\n                      <Typography color=\"textSecondary\" variant=\"subtitle1\" component=\"p\">{\n                        (plan.cigNumberAllowed === Number.MAX_SAFE_INTEGER) ?\n                          t(\"Unlimited CIG's\")\n                        :\n                          t(\"Up to {{cigs}} CIG's\", {cigs: plan.cigNumberAllowed})\n                      }</Typography>\n                      <Typography color=\"textSecondary\" variant=\"subtitle1\" component=\"div\">{\n                        plan.supportTypes.map((supportType, index) => (\n                          <div key={index}>{t(\"Support\") + \" \" + t(\"by\") + \" \" + t(supportType)}</div>\n                        ))\n                      }</Typography>\n                      <br />\n                    </Box>\n                    <Button variant=\"contained\" color=\"secondary\"\n                      onClick={(e) => {\n                        openDialog({\n                          title: t(\"Sure to buy this plan?\"),\n                          contentText: t(\"It allows processing of up to {{cigs}} CIGs\", {cigs: plan.cigNumberAllowed}),\n                          actions: [\n                            {\n                              callback: () => {\n                                console.log(\"Clicked first action button\");\n                                props.onPlanSelected(e, plan.name);\n                              },\n                              text: t(\"Ok\"),\n                              closeModal: true,\n                              // autoFocus: true,\n                            },\n                            {\n                              callback: () => {console.log(\"Clicked second action button\")},\n                              text: t(\"Cancel\"),\n                              closeModal: true,\n                            }\n                          ],\n                        });\n                      }}\n                      disabled={isActivePlan(plan)}\n                    >{\n                      isActivePlan(plan) ?\n                        t(\"Active plan\")\n                      :\n                        t(\"Select plan\")\n                    }\n                    </Button>\n                    {props.canForcePlan && (\n                      <>\n                        <Box mt={1} />\n                        <Button variant=\"contained\" color=\"tertiary\"\n                          onClick={(e) => {\n                            props.onPlanForced(e, plan.name);\n                          }}\n                          disabled={isActivePlan(plan)}\n                        >{\n                          t(\"Force plan\")\n                        }\n                        </Button>\n                      </>\n                    )}\n                    <Box mt={2}>\n                      <Link href=\"#\" color=\"primary\">{/* TODO: create a link (or popup) to give more details about selecting this plan... */}\n                        <small>{t(\"Learn more\")}</small>\n                      </Link>\n                    </Box>\n                  </CardContent>\n                </Card>\n              </Grid>\n            ))}\n          </Grid>\n        </Box>\n      </Container>\n    </section>\n  );\n}\n\nPricing.propTypes = {\n  currentPlanName: PropTypes.string,\n  onPlanSelected: PropTypes.func,\n  canForcePlan: PropTypes.bool,\n  onPlanForced: PropTypes.func,\n};\n\nPricing.defaultProps = {\n  currentPlanName: \"\",\n  onPlanSelected: (e) => console.log(\"Selected plan:\", e),\n  canForcePlan: false,\n  onPlanForced: (e) => console.log(\"Forced plan:\", e),\n};\n\nexport default React.memo(Pricing);\n","import api from \"./API\";\n\nconst mode = async() => {\n  return await api.get(\"/payment/mode\",\n  ).then(\n    response => {\n      return response.data;\n    },\n    error => {\n      return error;\n    }\n  );\n};\n\nconst createCheckoutSession = async({product}) => {\n  return await api.post(\"/payment/create-checkout-session\", {\n    product\n  }).then(\n    response => {\nconsole.log(\"CCS - res:\", response);\n      return response.data;\n    },\n    error => {\nconsole.log(\"CCS - err:\", error);\n      return error;\n    }\n  );\n};\n\nconst PaymentService = {\n  mode,\n  createCheckoutSession\n};\n\nexport default PaymentService;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useHistory/*, useLocation*/} from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { useBeforeunload } from \"react-beforeunload\";\nimport makeStyles from '@mui/styles/makeStyles';\nimport AppBar from \"@mui/material/AppBar\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport Typography from \"@mui/material/Typography\";\nimport FormControl from \"@mui/material/FormControl\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport Select from \"@mui/material/Select\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Grid from \"@mui/material/Grid\";\nimport Container from \"@mui/material/Container\";\nimport Box from \"@mui/material/Box\";\n//import Tooltip from \"@mui/material/Tooltip\";\nimport IconAvatar from \"@mui/icons-material/AccountBoxOutlined\";\nimport IconPerson from \"@mui/icons-material/Person\";\nimport IconEmail from \"@mui/icons-material/Email\";\nimport IconFiscalCode from \"@mui/icons-material/AssignmentInd\";\nimport IconBusinessName from \"@mui/icons-material/Business\";\nimport IconAddressStreet from \"@mui/icons-material/House\";\nimport IconAddressStreetNo from \"@mui/icons-material/LooksOne\";\nimport IconAddressCity from \"@mui/icons-material/LocationCity\";\nimport IconAddressProvince from \"@mui/icons-material/Room\";\nimport IconAddressZip from \"@mui/icons-material/Code\";\nimport IconAddressCountry from \"@mui/icons-material/Language\";\nimport Pricing from \"../../components/Pricing\";\nimport { errorMessage/*, capitalize*/ } from \"../../libs/Misc\";\nimport UserService from \"../../services/UserService\";\nimport TokenService from \"../../services/TokenService\";\nimport PaymentService from \"../../services/PaymentService\";\nimport EventBus from \"../../libs/EventBus\";\nimport { toast } from \"../Toast\";\nimport { FormInput, FormButton } from \"../FormElements\";\nimport config from \"../../config\";\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    //backgroundColor: theme.palette.background.paper,\n  },\n  avatar: {\n    backgroundColor: theme.palette.success.main,\n  },\n  columnLeft: {\n    marginLeft: theme.spacing(0.2),\n  },\n  columnRight: {\n    marginLeft: \"auto\",\n    marginRight: theme.spacing(0.2),\n  },\n  form: {\n  },\n  fieldset: {\n    border: 0,\n  },\n  fieldsetPersonalData: {\n    color: \"#758c75\",\n    fontSize: 13,\n    border: 1,\n    borderStyle: \"solid\",\n    borderColor: \"#758c75\",\n    borderRadius: 5,\n  },\n  fieldsetCompanyData: {\n    color: \"#7a7aa5\",\n    fontSize: 13,\n    border: 1,\n    borderStyle: \"solid\",\n    borderColor: \"#7a7aa5\",\n    borderRadius: 5,\n  },\n  fieldsetAddress: {\n    color: \"#aaa\",\n    fontSize: 13,\n    border: 1,\n    borderStyle: \"solid\",\n    borderColor: \"#aaa\",\n    borderRadius: 5,\n  },\n  // title: {\n  //   width: \"100%\",\n  //   color: theme.palette.title.color,\n  //   //backgroundColor: '#ccc', //theme.palette.title.backgroundColor,\n  //   //borderRadius: 3,\n  //   display: \"flex\",\n  //   justifyContent: \"center\",\n  //   paddingTop: 3,\n  //   paddingBottom: 50,\n  //   paddingLeft: 10,\n  //   paddingRight: 10,\n  // },\n  formControlSelectPlan: {\n    minWidth: 200,\n  },\n  formControlSelectRole: {\n    minWidth: 200,\n  },\n  tab: {\n    backgroundColor: theme.palette.secondary.light,\n  },\n  tabIndicator: {\n    backgroundColor: theme.palette.secondary.dark,\n    height: 1,\n  },\n});\n\nconst useStyles = makeStyles((theme) => (styles(theme)));\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`,\n  };\n}\n\nconst PROFILE_PERSONAL = 0;\nconst PROFILE_PLAN = 1;\nconst PROFILE_ROLES = 2;\n\n\n\nfunction ProfileTabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-auto-tabpanel-${index}`}\n      aria-labelledby={`nav-tab-${index}`}\n      {...other}\n    >\n      <Box p={3}>\n        {children}\n      </Box>\n    </Typography>\n  );\n}\n\nProfileTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction Profile(props) {\n//console.log(\"PROFILE - props:\", props);\n  const classes = useStyles();\n  const history = useHistory();\n  //const location = useLocation();\n//console.log(\"PROFILE - location.state:\", location.state);\n  const [user, setUser] = useState(TokenService.getUser());\n  const [profile, setProfile] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [fiscalCode, setFiscalCode] = useState(\"\");\n  const [businessName, setBusinessName] = useState(\"\");\n  const [address, setAddress] = useState({});\n  const [addressStreet, setAddressStreet] = useState(\"\");\n  const [addressStreetNo, setAddressStreetNo] = useState(\"\");\n  const [addressCity, setAddressCity] = useState(\"\");\n  const [addressProvince, setAddressProvince] = useState(\"\");\n  const [addressZip, setAddressZip] = useState(\"\");\n  const [addressCountry, setAddressCountry] = useState(\"\");\n  const [paymentMode, setPaymentMode] = useState(\"\");\n  const [plan, setPlan] = useState(null/*config.api.planNameDefault*/);\n  const [roles, setRoles] = useState([]);\n  const [rolesNames, setRolesNames] = useState([]);\n  const [error, setError] = useState({});\n  const { t } = useTranslation();\n  const [tabValue, setTabValue] = React.useState(props?.location?.state?.tabValue ? props?.location?.state?.tabValue : 0);\n  const [anyProfileChanges, setAnyProfileChanges] = React.useState(false);\n  const [anyRolesChanges, setAnyRolesChanges] = React.useState(false);\n\n  const handleChangeTabValue = (event, newValue) => {\n    setTabValue(newValue);\n  };\n  \n  // avoid page unload when unsaved changes present\n  useBeforeunload((event) => {\n    if (anyProfileChanges || anyRolesChanges) {\n      event.preventDefault();\n    }\n  });\n  \n  // avoid history route change when unsaved changes present\n  useEffect(() => {\nconsole.log(\"useeffect block\");\n    const unblock = history.block((location, action) => {\n      if (anyProfileChanges || anyRolesChanges) {\n        return window.confirm(t(\"Are you sure to ignore unsaved data?\"));\n      }\n      return true;\n    });\n  \n    return () => {\n      unblock();\n    };\n  }, [anyProfileChanges, anyRolesChanges, history, t]);\n  \n  useEffect(() => {\nconsole.log(\"useeffect profile\");\n    if (profile) {\n      setEmail(profile.email ? profile.email : \"\");\n      setFirstName(profile.firstName ? profile.firstName : \"\");\n      setLastName(profile.lastName ? profile.lastName : \"\");\n      setFiscalCode(profile.fiscalCode ? profile.fiscalCode : \"\");\n      setBusinessName(profile.businessName ? profile.businessName : \"\");\n      setAddressStreet(profile.address.street ? profile.address.street : \"\");\n      setAddressStreetNo(profile.address.streetNo ? profile.address.streetNo : \"\");\n      setAddressCity(profile.address.city ? profile.address.city : \"\");\n      setAddressProvince(profile.address.province ? profile.address.province : \"\");\n      setAddressZip(profile.address.zip ? profile.address.zip : \"\");\n      setAddressCountry(profile.address.country ? profile.address.country : \"\");\n      setPlan(profile.plan ? profile.plan.name : \"\"/*config.api.planNameDefault*/);\n      setRoles(profile.roles ? profile.roles.map(role => role.name) : []);\n      setAnyProfileChanges(false);\n      setAnyRolesChanges(false);\n    }\n  }, [profile]);\n\n  useEffect(() => {\nconsole.log(\"useeffect user.id\");\n    if (!user?.id) {\n      toast.error(t(\"User must be authenticated\"));\n      history.goBack();\n    }\n  }, [user?.id, history, t]);\n\n  // get user profile on load\n  useEffect(() => {\nconsole.log(\"useeffect getProfile\");\n    UserService.getProfile().then(\n      result => {\n        if (result instanceof Error) {\n          console.error(\"getProfile error:\", result);\n          return setError({ code: result.message });\n        }\n        //console.log(`profile got successfully:`, result);\n        setProfile(result.user); // we have to update local state outside this useEffect, otherwise there is a really long delay in each set function...\n      }\n    );\nconsole.log(\"useeffect getRoles\");\n    UserService.getRoles().then(\n      result => {\n        if (result instanceof Error) {\n          console.error(\"getRoles error:\", result);\n          return setError({ code: result.message });\n        }\nconsole.log(`roles got successfully:`, result);\n        setRolesNames(result.map(role => role.name));\n      }\n    );\n    PaymentService.mode().then(\n      result => {\n        if (result instanceof Error) {\n          console.error(\"mode error:\", result);\n          return setError({ code: result.message });\n        }\n        console.log(\"mode:\", result);\n        setPaymentMode(result.mode);\n      }\n    );\n  }, [user?.id]);\n  \n  useEffect(() => {\nconsole.log(\"useeffect setAddress\");\n    setAddress({\n      street: addressStreet,\n      streetNo: addressStreetNo,\n      city: addressCity,\n      province: addressProvince,\n      zip: addressZip,\n      country: addressCountry,\n    });\n  }, [addressStreet, addressStreetNo, addressCity, addressProvince, addressZip, addressCountry]);\n\n  const createCheckoutSession = (product) => {\n    PaymentService.createCheckoutSession({product}).then(\n      result => {\n        if (result instanceof Error) { // TODO: handle error...\n          console.error(\"createCheckoutSession error:\", result);\n          return toast.error(errorMessage(result));\n        }\n        console.log(`createCheckoutSession got successfully:`, result);\n        if (!result?.session?.url) {\n          return toast.error(t(\"Sorry, could not get the payment page\"));\n        }\n        window.location = result.session.url; // redirect to payment session success_url\n      },\n    );\n  };\n\n  const formProfileUpdate = (e) => {\n    e.preventDefault();\n    setError({});\n\n    UserService.updateProfile({\n      email,\n      firstName,\n      lastName,\n      fiscalCode,\n      businessName,\n      address,\n      roles,\n    }).then(\n      result => {\n        if (result instanceof Error) {\n          console.error(\"profileUpdate error:\", result);\n          toast.warn(errorMessage(result));\n          return setError({ code: result.message });\n        }\n        setAnyProfileChanges(false);\n        toast.success(t(\"Profile updated successfully\"));\n      }\n    );\n  };\n\n  const formRolesUpdate = (e) => {\n    // refresh user roles in local state and in token service (local storage) too\n    user.roles = ((String)(roles)).split(\",\");\nconsole.log(\"USER.ROLES:\", user.roles, typeof user.roles);\n    if (!user.roles || !user.roles.length || user.roles.every(role => role === \"\")) {\n      user.roles = config.api.rolesNamesDefault; // if empty roles, use rolesNamesDefault\n      setRoles(user.roles);\nconsole.log(\"USER.ROLES DEFAULTS TO:\", user.roles, typeof user.roles);\n    }\nconsole.log(\"*** USER:\", user);\n    setUser(user);\n    TokenService.setUser(user);\n    UserService.updateRoles({\n      roles: user.roles,\n    }).then(\n      result => {\n        if (result instanceof Error) {\n          console.error(\"profileUpdate error:\", result);\n          toast.error(errorMessage(result));\n          return setError({ code: result.message });\n        }\n        setRoles(user.roles);\n        setAnyRolesChanges(false);\n        EventBus.dispatch(\"roles-change\");\n        toast.success(t(\"Roles updated successfully\"));\n      }\n    );\n  };\n\n  const formPlanSelect = (e, planName) => {\n    // TODO: what to do with free plan selected?\n    // TODO: what to do with plan downgrade?\n    createCheckoutSession(planName);\n  }\n\n  const formPlanForce = (e, planName) => {\n    if (userCanForcePlan()) {\n      TokenService.setUser(user);\n      UserService.updatePlan({\n        plan: planName,\n      }).then(\n        result => {\n          if (result instanceof Error) {\n            console.error(\"profileUpdate error:\", result);\n            toast.error(errorMessage(result));\n            return setError({ code: result.message });\n          }\n          setPlan(planName);\n          toast.success(t(\"Plan forced successfully\"));\n        }\n      );\n    }\n  };\n\n  const userCanUpdateRoles = ()  => {\n    return user?.roles?.includes(\"admin\");\n  };\n\n  const userCanForcePlan = ()  => {\n    return user?.roles?.includes(\"admin\");\n  };\n  \n  return (\n    <div className={classes.root}>\n\n      <Container maxWidth={\"sm\"}>\n        <Box m={1} />\n\n        <Grid container justifyContent=\"center\">\n          <Avatar className={classes.avatar}>\n            <IconAvatar />\n          </Avatar>\n        </Grid>\n\n        <Box m={3} />\n\n        <AppBar position=\"static\">\n          <Tabs\n            value={tabValue}\n            onChange={handleChangeTabValue}\n            variant=\"standard\"\n            aria-label=\"tabs for user's personal profile\"\n            classes={{\n              indicator: classes.tabIndicator\n            }}\n            className={classes.tab}\n          >\n            <Tab label={t(\"Your profile\")} {...a11yProps(0)} />\n            <Tab label={t(\"Your plan\")} {...a11yProps(1)} />\n            <Tab label={t(\"Your role(s)\")} {...a11yProps(2)} />\n          </Tabs>\n        </AppBar>\n      </Container>\n\n      <Container maxWidth={(tabValue === PROFILE_PLAN) ? \"md\" : \"sm\"}>\n        {(tabValue === PROFILE_PERSONAL) &&\n        <ProfileTabPanel value={tabValue} index={PROFILE_PERSONAL}>\n      \n          <form name=\"form\" className={classes.form} noValidate autoComplete=\"off\">\n            <fieldset className={classes.fieldset}>\n\n              <Box m={3} />\n\n              <fieldset className={classes.fieldsetPersonalData}>\n                <legend>{t(\"Personal data\")}</legend>\n\n                {/* <Tooltip\n                  title={t(\"Email\")}\n                  placement={\"left\"}\n                > */}\n                  <Grid item xs={12}>\n                    <FormInput\n                      id={\"email\"}\n                      value={email}\n                      onChange={v => { setAnyProfileChanges(true); setEmail(v); }}\n                      placeholder={t(\"Email\")}\n                      startAdornmentIcon={<IconEmail />}\n                      error={error.email}\n                      autoFocus\n                    />\n                  </Grid>\n                {/* </Tooltip> */}\n\n                <Grid container direction={\"row\"} columnSpacing={{xs: 1, sm: 2, md: 3, lg: 4}} rowSpacing={0}>\n                  {/* <Tooltip\n                    title={t(\"First name\")}\n                    placement={\"left\"}\n                  > */}\n                    <Grid item xs={12} sm={6}>\n                      <FormInput\n                        id={\"firstName\"}\n                        value={firstName}\n                        onChange={v => { setAnyProfileChanges(true); setFirstName(v); }}\n                        placeholder={t(\"First Name\")}\n                        startAdornmentIcon={<IconPerson />}\n                        error={error.firstName}\n                      />\n                    </Grid>\n                  {/* </Tooltip> */}\n\n                  {/* <Tooltip\n                      title={t(\"Last name\")}\n                      placement={\"left\"}\n                    > */}\n                    <Grid item xs={12} sm={6}>\n                      <FormInput\n                        id={\"lastName\"}\n                        value={lastName}\n                        onChange={v => { setAnyProfileChanges(true); setLastName(v); }}\n                        placeholder={t(\"Last Name\")}\n                        startAdornmentIcon={<IconPerson />}\n                        error={error.lastName}\n                      />\n                    </Grid>\n                  {/* </Tooltip> */}\n                </Grid>\n              </fieldset>\n\n              <Box m={1} />\n\n              <fieldset className={classes.fieldsetCompanyData}>\n                <legend>{t(\"Company data\")}</legend>\n\n                <Grid container direction={\"row\"} columnSpacing={{xs: 1, sm: 2, md: 3, lg: 4}} rowSpacing={0}>\n                  {/* <Tooltip\n                    title={t(\"Company fiscal code\")}\n                    placement={\"left\"}\n                  > */}\n                    <Grid item xs={12}>\n                      <FormInput\n                        id={\"fiscalCode\"}\n                        value={fiscalCode}\n                        onChange={v => { setAnyProfileChanges(true); setFiscalCode(v); }}\n                        placeholder={t(\"Company fiscal code\")}\n                        startAdornmentIcon={<IconFiscalCode />}\n                        error={error.fiscalCode}\n                      />\n                    </Grid>\n                  {/* </Tooltip> */}\n\n                  {/* <Tooltip\n                    title={t(\"Company business name\")}\n                    placement={\"left\"}\n                  > */}\n                    <Grid item xs={12}>\n                      <FormInput\n                        id={\"businessName\"}\n                        value={businessName}\n                        onChange={v => { setAnyProfileChanges(true); setBusinessName(v); }}\n                        placeholder={t(\"Company business name\")}\n                        startAdornmentIcon={<IconBusinessName />}\n                        error={error.businessName}\n                      />\n                    </Grid>\n                  {/* </Tooltip> */}\n                </Grid>\n                  \n                <Box m={1} />\n\n                <fieldset className={classes.fieldsetAddress}>\n                  <legend>{t(\"Address\")}</legend>\n\n                  <Grid container direction={\"row\"} columnSpacing={{xs: 1, sm: 2, md: 3, lg: 4}} rowSpacing={0}>\n                    {/* <Tooltip\n                      title={t(\"Address street\")}\n                      placement={\"left\"}\n                    > */}\n                      <Grid item xs={12} sm={8}>\n                        <FormInput\n                          id={\"addressStreet\"}\n                          value={addressStreet}\n                          onChange={v => { setAnyProfileChanges(true); setAddressStreet(v); }}\n                          placeholder={t(\"Street\")}\n                          startAdornmentIcon={<IconAddressStreet />}\n                          error={error.addressStreet}\n                        />\n                      </Grid>\n                    {/* </Tooltip> */}\n\n                    {/* <Tooltip\n                      title={t(\"Address street number\")}\n                      placement={\"left\"}\n                    > */}\n                      <Grid item xs={12} sm={4}>\n                        <FormInput\n                          id={\"addressStreetNo\"}\n                          value={addressStreetNo}\n                          onChange={v => { setAnyProfileChanges(true); setAddressStreetNo(v); }}\n                          placeholder={t(\"NÂ°\")}\n                          startAdornmentIcon={<IconAddressStreetNo />}\n                          error={error.addressStreetNo}\n                        />\n                      </Grid>\n                    {/* </Tooltip> */}\n\n                    {/* <Tooltip\n                      title={t(\"Address city\")}\n                      placement={\"left\"}\n                    > */}\n                      <Grid item xs={12}>\n                        <FormInput\n                          id={\"addressCity\"}\n                          value={addressCity}\n                          onChange={v => { setAnyProfileChanges(true); setAddressCity(v); }}\n                          placeholder={t(\"City\")}\n                          startAdornmentIcon={<IconAddressCity />}\n                          error={error.addressCity}\n                        />\n                      </Grid>\n                    {/* </Tooltip> */}\n        \n                    {/* <Tooltip\n                      title={t(\"Address province\")}\n                      placement={\"left\"}\n                    > */}\n                      <Grid item xs={12} sm={7}>\n                        <FormInput\n                          id={\"addressProvince\"}\n                          value={addressProvince}\n                          onChange={v => { setAnyProfileChanges(true); setAddressProvince(v); }}\n                          placeholder={t(\"Province\")}\n                          startAdornmentIcon={<IconAddressProvince />}\n                          error={error.addressProvince}\n                        />\n                      </Grid>\n                    {/* </Tooltip> */}\n        \n                    {/* <Tooltip\n                      title={t(\"Address ZIP code\")}\n                      placement={\"left\"}\n                    > */}\n                      <Grid item xs={12} sm={5}>\n                        <FormInput\n                          id={\"addressZip\"}\n                          value={addressZip}\n                          onChange={v => { setAnyProfileChanges(true); setAddressZip(v); }}\n                          placeholder={t(\"ZIP\")}\n                          startAdornmentIcon={<IconAddressZip />}\n                          error={error.addressZip}\n                        />\n                      </Grid>\n                    {/* </Tooltip> */}\n\n                    {/* <Tooltip\n                      title={t(\"Address country\")}\n                      placement={\"left\"}\n                    > */}\n                      <Grid item xs={12}>\n                        <FormInput\n                          id={\"addressCountry\"}\n                          value={addressCountry}\n                          onChange={v => { setAnyProfileChanges(true); setAddressCountry(v); }}\n                          placeholder={t(\"Country\")}\n                          startAdornmentIcon={<IconAddressCountry />}\n                          error={error.addressCountry}\n                        />\n                      </Grid>\n                    {/* </Tooltip> */}\n                  </Grid>\n\n                </fieldset>\n              </fieldset>\n            </fieldset>\n          </form>\n        </ProfileTabPanel>\n        }\n\n        {(tabValue === PROFILE_PLAN) &&\n        <ProfileTabPanel value={tabValue} index={PROFILE_PLAN}>\n          <form className={classes.form} noValidate autoComplete=\"off\">\n            <fieldset className={classes.fieldset}>\n              <Pricing\n                currentPlanName={plan}\n                onPlanSelected={formPlanSelect}\n                canForcePlan={userCanForcePlan()}\n                onPlanForced={formPlanForce}\n                paymentMode={paymentMode}\n              />\n            </fieldset>\n          </form>\n        </ProfileTabPanel>\n        }\n\n        {(tabValue === PROFILE_ROLES) &&\n        <ProfileTabPanel value={tabValue} index={PROFILE_ROLES}>\n          <form className={classes.form} noValidate autoComplete=\"off\">\n            <fieldset className={classes.fieldset}>\n\n              <Box m={3} />\n\n                {/* <Tooltip\n                  title={\n                    userCanUpdateRoles() ?\n                      t(\"Role(s)\") + \" (\" + t(\"select one or more role\") + \")\"\n                    :\n                      t(\"Your role(s)\")\n                  }\n                  placement={\"left\"}\n                > */}\n                  <Grid item xs={12}>\n                    <FormControl variant=\"outlined\" className={classes.formControlSelectRole}>\n                      <InputLabel id=\"roles-label\">{t(\"Role(s)\")}</InputLabel>\n                      <Select\n                        labelId=\"roles-label\"\n                        id=\"roles\"\n                        multiple\n                        value={roles}\n                        onChange={e => { setAnyRolesChanges(true); setRoles(e.target.value); }}\n                        label={t(\"Role(s)\")}\n                        disabled={!userCanUpdateRoles()}\n                      >\n                        {/* TODO: get roles names from server */ /*config.api.rolesNames.map((plan, index) => (*/}\n                        {/* TODO: get roles names from server TRANSLATED */}\n                        {rolesNames.map((role, index) => (\n                          <MenuItem key={index} value={role}>{role}</MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Grid>\n                {/* </Tooltip> */}\n            </fieldset>\n          </form>\n        </ProfileTabPanel>\n        }\n      </Container>\n\n      {(tabValue === PROFILE_PERSONAL) && (\n        <Grid container justifyContent=\"center\">\n          <FormButton\n            fullWidth={false}\n            className={\"buttonSecondary\"}\n            autoFocus={true}\n            onClick={formProfileUpdate}\n          >\n            {t(\"Update\")}\n          </FormButton>\n        </Grid>\n      )}\n\n      {(tabValue === PROFILE_ROLES) && userCanUpdateRoles() && (\n        <Grid container justifyContent=\"center\">\n          <FormButton\n            fullWidth={false}\n            className={\"buttonSecondary\"}\n            autoFocus={true}\n            onClick={formRolesUpdate}\n            //disabled={!userCanUpdateRoles()}\n          >\n            {t(\"Update\")}\n          </FormButton>\n        </Grid>\n      )}\n      <Box m={1} />\n\n    </div>\n  );\n}\n\nProfile.propTypes = {\n  tabValue: PropTypes.number,\n};\n\nProfile.defaultProps = {\n  tabValue: PROFILE_PERSONAL,\n};\n\n\n\nexport default React.memo(Profile);\n"],"sourceRoot":""}